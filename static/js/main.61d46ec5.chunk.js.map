{"version":3,"sources":["store/UsersReducer.tsx","Pages/Profile/Profile.module.scss","Pages/Profile/OnlineFriends/ChatBlock.module.scss","Pages/Chat/ChatPage.module.scss","components/Common/TextAreaForm/textAreaData.ts","Images/Users/user-4.jpg","Pages/Profile/MyPosts.module.scss","components/Common/MyProfilePhoto/MyProfilePhoto.tsx","components/Common/TextAreaForm/TextAreaForm.tsx","components/Common/MyProfilePhoto/MyProfilePhoto.module.scss","components/Common/TextAreaForm/TextAreaForm.module.scss","Pages/Profile/MyPosts/Post/Post.module.scss","store/store.ts","Pages/EditProfile/EditProfile.module.scss","components/Common/Preloader/Preloader.module.scss","Pages/Footer/Footer.module.scss","store/DialogsReducer.tsx","store/AppReducer.tsx","components/Common/Selectors/Selectors.ts","Pages/Chat/Messages.module.scss","components/Header/Header.module.scss","utils/error.utils.ts","Pages/Error404/Error404.module.scss","Pages/Profile/ContactBlock/ContactBlock.module.scss","components/Common/Preloader/Preloader.tsx","components/ErrorSnackBar/ErrorSnackBar.tsx","components/HOC/withSuspense.tsx","Images/Logo.svg","components/Header/Navigation.tsx","components/Header/Header.tsx","components/PrivateRoutes.tsx","Pages/EditProfile/EditProfile.tsx","Images/404Text.svg","Images/astronaut.svg","Images/earth.svg","Images/moon.svg","Images/rocket.svg","Pages/Error404/Error404.tsx","Pages/Events/Events.tsx","Pages/Events/EventsContainer.tsx","Pages/Footer/Footer.tsx","Pages/Login/Login.tsx","Pages/Photos/Photos.tsx","Pages/Photos/PhotosContainer.tsx","Pages/Chat/Message.tsx","Pages/Chat/Messages.tsx","Pages/Chat/Chat.tsx","Pages/Chat/ChatPage.tsx","Pages/Profile/MyPosts/Post/Post.tsx","Pages/Profile/AnyUserPosts/AnyUserPost.tsx","Pages/Profile/AnyUserPosts/AnyUserPosts.tsx","Pages/Profile/MyPosts.tsx","constants.ts","Pages/Profile/ContactBlock/ContactBlock.tsx","Pages/Profile/OnlineFriends/ChatBlock.tsx","Pages/Profile/ProfileStatus.tsx","Pages/Profile/ProfileInfo/ProfileInfo.tsx","Pages/Profile/ProfileFC.tsx","Pages/Profile/ProfileContainerFC.tsx","Pages/Users/Users.tsx","Pages/Users/UsersContainerFC.tsx","App.tsx","index.tsx","api/api.tsx","store/ProfileReducer.tsx","Pages/Profile/ProfileInfo/ProfileInfo.module.scss","store/AuthReducer.tsx","Pages/Profile/AnyUserPosts/AnyUserPosts.module.scss","Pages/Chat/Message.module.scss","api/chatAPI.ts","store/chatReducer.tsx","Pages/Login/login.module.scss","Images/defaultUserImage.jpg","store/UserPostsReducer.tsx","Images/Post photo.png","Images/Users/user-1.jpg","Images/Users/user-2.jpg","Images/Users/user-3.jpg","Images/Users/user-5.jpg","Images/Users/user-6.jpg","Images/Users/user-7.jpg","Images/Users/user-8.jpg","Images/Users/user-9.jpg","Pages/Users/users.module.scss"],"names":["initialState","items","pageSize","totalCount","currentPage","isFetching","following","userReducer","state","action","type","map","u","id","userID","followed","users","followingIsProgress","filter","actions","serverTotalUsersCount","getUsersTC","dispatch","getState","UsersPage","userAPI","getUsers","res","data","error","console","log","handleServerNetworkError","onPageChangedTC","pageNumber","follow","authAPI","response","resultCode","setAppErrorAC","setAppStatusAC","unfollow","handleNetworkError","module","exports","placeholderText","profileAreaText","dialogsAreaText","maxMessageLength","MyProfilePhoto","React","memo","navigate","useNavigate","myPhoto","useAppSelector","Auth","myProfile","photos","small","myLoginName","fullName","useSelector","myIDSelector","navigateToMyMage","onKeyUp","tabIndex","role","onClick","className","styles","myProfilePhotoWrapper","mySmallPhoto","src","defaultUserPhoto","alt","jobDescription","TextAreaForm","props","formik","useFormik","initialValues","text","validate","values","errors","length","onSubmit","resetForm","callBack","handleSubmit","formWrapper","multiline","textArea","placeholder","getFieldProps","onBlur","e","webSocketStatusDisabled","key","ctrlKey","iconButton","disabled","style","color","useAppDispatch","useDispatch","rootReducer","combineReducers","ProfilePage","profileReducer","DialogPage","dialogsReducer","HardcodedUsers","hardcodedUsersReducer","authReducer","App","appReducer","ChatPage","chatReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","dialogs","v1","name","avatar","user4","message","messages","addMessageAC","ACTIONS_TYPE","status","APP_SET_ERROR","APP_SET_STATUS","statusSelector","profileSelector","profile","isLoggedInSelector","isLoggedIn","isInitializedSelector","isInitialized","isFetchingSelector","usersSelector","pageSizeSelector","currentPageSelector","totalUserCountSelector","followingArrSelector","chatMessageSelector","chatStatusSelector","chatStartMessageCountSelector","startMessagesCount","Error","handleServerAppError","Preloader","main","progress","CircularProgress","size","ErrorSnackBar","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","severity","sx","width","AlertTitle","withSuspense","Component","Suspense","fallback","Navigation","logOutHandler","logOutTC","myID","headerContent","logo","sideWrapper","NavItem","to","PATH","PROFILE","isActive","activeNavLink","unActiveNavLink","fontSize","hideForMobile","DIALOGS","USERS","LastNavItem","EDIT_PROFILE","loginBlock","profilePhoto","Button","variant","loginButton","IconButton","logOutIcon","Header","headerWrapper","PrivateRoutes","location","useLocation","encodeURIComponent","pathname","replace","EditProfile","userId","s","editProfileWrapper","content","enableReinitialize","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","updateProfileTC","formRow","contactText","TextField","inputProps","textField","onChange","handleChange","handleBlur","value","helperText","formRowWithoutMargin","FormControlLabel","labelPlacement","label","control","Checkbox","checked","button","Error404","ErrorWrapper","stars","centralBody","image404","errorText","HOME","btnGoHome","objects","objectRocket","rocket","earthMoon","objectEarth","earth","objectMoon","moon","boxAstronaut","objectAstronaut","astronaut","glowingStars","star","Events","EventsContainer","Footer","year","Date","getFullYear","LastContactContainer","error404Display","href","Login","serverError","captchaUrl","useState","isPassType","setIsPassType","email","test","password","rememberMe","captcha","loginTC","useEffect","listener","code","preventDefault","document","addEventListener","removeEventListener","Grid","loginWrapper","container","justifyContent","login","item","h2","FormControl","textFields","FormLabel","rel","target","FormGroup","mTop","InputLabel","htmlFor","Input","onFocus","touched","emailError","endAdornment","InputAdornment","position","onMouseDown","VisibilityOff","Visibility","passError","checkbox","marginTop","marginBottom","Photos","PhotosContainer","Message","myId","devChatMessageBlock","myImgAndMessage","someUserImgAndMessage","myNameAndMessage","someUserNameAndMessage","userName","marginLeft","photo","defaultUserImage","Messages","isAutoScroll","setIsAutoScroll","messagesAnchorRef","useRef","current","scrollIntoView","messagesBlock","onScroll","element","currentTarget","Math","abs","scrollHeight","scrollTop","clientHeight","m","ref","Chat","startMessagesListeningTC","stopMessagesListeningTC","sendMessageTC","isChatOpen","setIsChatOpen","startMessagesLength","setStartMessagesLength","newMessagesCount","setStartMessagesCountAC","chatPageBlockOpen","chatPageBlockCollapsed","chatTitle","messageFlag","noMessageFlag","minimizeIcon","Post","likeCount","updated","likeObj","setLikeObj","addLikeHandler","likeGenerator","round","random","generateLike","itemWrapper","avatarAndClose","height","deleteMyPostAC","likeBlock","AnyUserPost","postText","postPhoto","anyUserPost","userWrapper","userPhotoAndDescriptionBlock","userDescription","userPosition","deleteUsersPostAC","AnyUserPosts","anyPostsElements","anyUserPostsData","post","MyPosts","postsElements","postsData","p","reverse","postBlock","myPostForm","newPostHeader","posts","maxPictureSize","Yup","shape","min","max","required","matches","nullable","url","ContactBlock","contactsBlock","contactsBlockItem","icon","faVk","faInstagram","faYoutube","faGithub","faTwitter","faFacebook","faFirefoxBrowser","faGoogle","ChatBlock","chatStyles","onlineFriendsWrapper","imgProfilePhoto","OnlineDot","ProfileStatus","localStatus","setLocalStatus","editMode","setEditMode","activateEditMode","deactivateEditMode","updateUserStatusTC","onKeyDown","editableDiv","input","onKeyPress","top","left","transform","bgcolor","boxShadow","borderRadius","ProfileInfo","userPhoto","large","Number","useParams","photoRef","onlineFriends","openMenu","setOpenMenu","openModal","setOpenModal","base64Avatar","setLocalAvatar","fileAvatar","setFileAvatar","openPopover","setOpenPopover","popoverAnchor","show","Object","every","handleCloseModal","onlineFriendsArr","f","profileInfoWrapper","avatarWrapper","onMouseOver","onMouseLeave","isNaN","visibleMenu","hiddenMenu","statusBlock","profileName","popover","profileStatus","profileDescription","Title","Box","display","flexDirection","alignItems","right","accept","reader","FileReader","file","files","onloadend","result","readAsDataURL","textTransform","click","uploadAvatarTC","Popover","anchorEl","transformOrigin","Typography","ProfileFC","myPostsData","profileWrapper","allPostsBlock","addPostActionAC","ProfileContainerFC","myUserID","getProfileTC","getUserStatusTC","LOGIN","Users","totalUserCount","onPageChanged","followingInProgress","unfollowTC","followTC","pagesCount","ceil","usersWrapper","Pagination","page","count","user","usersBlock","avatarAndFollowButton","some","nameAndStatus","UserContainerFC","followingArr","SuspendedDialogContainer","lazy","ERROR404","ANY_ROUTE","EVENTS","PHOTOS","appStatus","initializeAppTC","path","UsersContainerFC","ReactDOM","render","getElementById","instance","axios","create","withCredentials","baseURL","headers","get","profileAPI","getProfile","getStatus","updateStatus","put","uploadAvatar","photoFile","formData","FormData","append","updateProfile","me","delete","logout","getFollowers","securityAPI","isMyProfile","setMyProfileAC","undefined","SET_IS_LOGGED_IN","SET_IS_INITIALIZED","SET_AUTH_DATA","GET_CAPTCHA","SET_AUTH_PROFILE_DATA","setIsLoggedInAC","getCaptchaAC","profileData","subscribers","messageReceived","statusChanged","isShowCloseAlert","ws","alertCounter","notifySubscribersAboutStatus","forEach","openHandler","alert","errorHandler","closeHandler","setTimeout","createChannel","messageHandler","newMessages","JSON","parse","cleanUp","close","WebSocket","chatAPI","eventName","callback","push","send","SET_MESSAGES","CHANGE_STATUS","SAVE_MESSAGES_COUNT","_newMessageHandler","newMessageHandlerCreator","setMessagesAC","_statusChangedHandler","statusChangedHandlerCreator","changeStatusAC","likesCount","user1","user2","user3","user5","user6","user7","user8","user9","ADD_POST","DELETE_MY_POST","DELETE_USERS_POST","UserPostsReducer"],"mappings":"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","file":"static/js/main.61d46ec5.chunk.js","sourcesContent":["import { authAPI, userAPI } from '../api/api';\r\nimport { handleNetworkError, handleServerNetworkError } from '../utils/error.utils';\r\n\r\nimport { setAppErrorAC, setAppStatusAC } from './AppReducer';\r\nimport { AppStoreType, AppThunkDispatch, InferActionsTypes } from './store';\r\n\r\n// types\r\n\r\nexport type UsersActionsType = InferActionsTypes<typeof actions>;\r\n\r\nexport type PhotosType = {\r\n  small: string;\r\n  large: string;\r\n};\r\nexport type UserType = {\r\n  id: string;\r\n  name: string;\r\n  status: string;\r\n  followed: boolean;\r\n  photos: PhotosType;\r\n};\r\nexport type UsersPageType = {\r\n  items: UserType[];\r\n  pageSize: number;\r\n  totalCount: number;\r\n  currentPage: number;\r\n  isFetching: boolean;\r\n  following: Array<string>;\r\n};\r\n\r\nconst initialState: UsersPageType = {\r\n  items: [],\r\n  pageSize: 7,\r\n  totalCount: 1,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  following: [],\r\n};\r\nexport const userReducer = (\r\n  state: UsersPageType = initialState,\r\n  action: UsersActionsType,\r\n): UsersPageType => {\r\n  switch (action.type) {\r\n    case 'USERS/FOLLOW':\r\n      return {\r\n        ...state,\r\n        items: state.items.map(u =>\r\n          u.id === action.userID ? { ...u, followed: true } : u,\r\n        ),\r\n      };\r\n    case 'USERS/UNFOLLOW':\r\n      return {\r\n        ...state,\r\n        items: state.items.map(u =>\r\n          u.id === action.userID ? { ...u, followed: false } : u,\r\n        ),\r\n      };\r\n    case 'USERS/SET-USERS':\r\n      return { ...state, items: action.users };\r\n    case 'USERS/SET-CURRENT-PAGE':\r\n      return { ...state, currentPage: action.currentPage };\r\n    case 'USERS/SET-TOTAL-USERS-COUNT':\r\n      return { ...state, totalCount: action.totalCount };\r\n    case 'USERS/IS-FETCHING':\r\n      return { ...state, isFetching: action.isFetching };\r\n    case 'USERS/IS-FOLLOWING-PROGRESS':\r\n      return {\r\n        ...state,\r\n        following: action.followingIsProgress\r\n          ? [...state.following, action.userID]\r\n          : state.following.filter(id => id !== action.userID),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// action creators\r\nexport const actions = {\r\n  followSuccessAC: (userID: string) => ({ type: 'USERS/FOLLOW', userID } as const),\r\n  unFollowSuccessAC: (userID: string) => ({ type: 'USERS/UNFOLLOW', userID } as const),\r\n  setUsersAC: (users: UserType[]) => ({ type: 'USERS/SET-USERS', users } as const),\r\n  setCurrentPageAC: (currentPage: number) =>\r\n    ({ type: 'USERS/SET-CURRENT-PAGE', currentPage } as const),\r\n  setUsersTotalCountAC: (serverTotalUsersCount: number) =>\r\n    ({\r\n      type: 'USERS/SET-TOTAL-USERS-COUNT',\r\n      totalCount: serverTotalUsersCount,\r\n    } as const),\r\n  toggleIsFetchingAC: (isFetching: boolean) =>\r\n    ({\r\n      type: 'USERS/IS-FETCHING',\r\n      isFetching,\r\n    } as const),\r\n  toggleFollowingProgressAC: (followingIsProgress: boolean, userID: string) =>\r\n    ({\r\n      type: 'USERS/IS-FOLLOWING-PROGRESS',\r\n      followingIsProgress,\r\n      userID,\r\n    } as const),\r\n};\r\n\r\n// thunks\r\nexport const getUsersTC =\r\n  () => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n    const { currentPage, pageSize } = getState().UsersPage;\r\n    dispatch(actions.toggleIsFetchingAC(true));\r\n    const res = await userAPI.getUsers(currentPage, pageSize);\r\n    try {\r\n      dispatch(actions.toggleIsFetchingAC(false));\r\n      dispatch(actions.setUsersAC(res.data.items));\r\n      dispatch(actions.setUsersTotalCountAC(res.data.totalCount));\r\n    } catch (error: any) {\r\n      console.log('Error when you try get users', error);\r\n      handleServerNetworkError(error, dispatch);\r\n    }\r\n  };\r\n\r\nexport const onPageChangedTC =\r\n  (pageSize: number, pageNumber: number) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(actions.toggleIsFetchingAC(true));\r\n    dispatch(actions.setCurrentPageAC(pageNumber));\r\n    const res = await userAPI.getUsers(pageNumber, pageSize);\r\n    try {\r\n      dispatch(actions.setUsersAC(res.data.items));\r\n      dispatch(actions.setUsersTotalCountAC(res.data.totalCount));\r\n      dispatch(actions.toggleIsFetchingAC(false));\r\n    } catch (error: any) {\r\n      console.log('Error when you try change page', error);\r\n      handleServerNetworkError(error, dispatch);\r\n    }\r\n  };\r\n\r\nexport const follow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n  dispatch(actions.toggleFollowingProgressAC(true, userID));\r\n\r\n  const response = await authAPI.follow(userID);\r\n  try {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actions.followSuccessAC(userID));\r\n    } else {\r\n      dispatch(setAppErrorAC('Some error occupied'));\r\n      dispatch(setAppStatusAC('failed'));\r\n    }\r\n    dispatch(actions.toggleFollowingProgressAC(false, userID));\r\n  } catch (error: any) {\r\n    console.log('Error when you try follow user', error);\r\n    handleServerNetworkError(error, dispatch);\r\n  }\r\n};\r\n\r\nexport const unfollow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n  dispatch(actions.toggleFollowingProgressAC(true, userID));\r\n  const response = await authAPI.unfollow(userID);\r\n  try {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(actions.unFollowSuccessAC(userID));\r\n    }\r\n    dispatch(actions.toggleFollowingProgressAC(false, userID));\r\n  } catch (error: any) {\r\n    handleNetworkError(error, dispatch);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1MRWo\",\"allPostsBlock\":\"Profile_allPostsBlock__1o39T\",\"editableDiv\":\"Profile_editableDiv__35lmz\",\"input\":\"Profile_input__2TDHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatBlock\":\"ChatBlock_ChatBlock__Dd0tG\",\"Title\":\"ChatBlock_Title__1C8zx\",\"imgProfilePhoto\":\"ChatBlock_imgProfilePhoto__23zW6\",\"OnlineDot\":\"ChatBlock_OnlineDot__LQRex\",\"onlineFriendsWrapper\":\"ChatBlock_onlineFriendsWrapper__3DRhn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatPageBlockOpen\":\"ChatPage_chatPageBlockOpen__xKNKs\",\"chatPageBlockCollapsed\":\"ChatPage_chatPageBlockCollapsed__n63GU\",\"chatTitle\":\"ChatPage_chatTitle__eTRpb\",\"messageFlag\":\"ChatPage_messageFlag__3Gbib\",\"noMessageFlag\":\"ChatPage_noMessageFlag__c0Xxn\",\"minimizeIcon\":\"ChatPage_minimizeIcon__2Bvv4\"};","export const placeholderText = {\r\n  profileAreaText: \"What's on your mind?\",\r\n  dialogsAreaText: 'Type a message',\r\n};\r\nexport const maxMessageLength: number = 500;\r\n","export default __webpack_public_path__ + \"static/media/user-4.f2ebe3cd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__awBB3\",\"myPostForm\":\"MyPosts_myPostForm__1W6yS\",\"newPostHeader\":\"MyPosts_newPostHeader__2cgix\",\"posts\":\"MyPosts_posts__2-aqw\"};","import React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport defaultUserPhoto from '../../../Images/defaultUserImage.jpg';\r\nimport { useAppSelector } from '../../../store/store';\r\nimport { myIDSelector } from '../Selectors/Selectors';\r\n\r\nimport styles from './MyProfilePhoto.module.scss';\r\n\r\nexport const MyProfilePhoto = React.memo(() => {\r\n  const navigate = useNavigate();\r\n  const myPhoto = useAppSelector<string | undefined>(\r\n    state => state.Auth.myProfile?.photos?.small,\r\n  );\r\n  const myLoginName = useAppSelector<string | undefined>(\r\n    state => state.Auth.myProfile?.fullName,\r\n  );\r\n  const userID = useSelector(myIDSelector);\r\n  const navigateToMyMage = () => navigate(`/profile/${userID}`);\r\n\r\n  return (\r\n    <div\r\n      onKeyUp={navigateToMyMage}\r\n      tabIndex={0}\r\n      role=\"button\"\r\n      onClick={navigateToMyMage}\r\n      className={styles.myProfilePhotoWrapper}\r\n    >\r\n      <img\r\n        className={styles.mySmallPhoto}\r\n        src={myPhoto || defaultUserPhoto}\r\n        alt=\"userPhoto\"\r\n      />\r\n      <div>\r\n        <strong>{myLoginName}</strong>\r\n        <div className={styles.jobDescription}>Frontend developer</div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { TextField } from '@mui/material';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useFormik } from 'formik';\r\n\r\nimport { MyPostsPropsType } from '../../../Pages/Profile/MyPosts';\r\n\r\nimport { maxMessageLength } from './textAreaData';\r\nimport styles from './TextAreaForm.module.scss';\r\n\r\ntype TexAreaPostType = MyPostsPropsType & {\r\n  webSocketStatusDisabled?: boolean;\r\n};\r\n\r\nexport const TextAreaForm = React.memo((props: TexAreaPostType) => {\r\n  type FormikErrorType = {\r\n    text?: string;\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      text: '',\r\n    },\r\n    validate: values => {\r\n      const errors: FormikErrorType = {};\r\n      if (values.text.length >= maxMessageLength) {\r\n        errors.text = `Max length of message is ${maxMessageLength} symbols.`;\r\n      }\r\n      return errors;\r\n    },\r\n\r\n    onSubmit: (values, { resetForm }) => {\r\n      if (values.text !== '') props.callBack(values.text);\r\n      resetForm();\r\n    },\r\n  });\r\n  const onKeyUpHandler = (e: React.KeyboardEvent<HTMLDivElement>) => {\r\n    if (!props?.webSocketStatusDisabled && e.key === 'Enter' && e.ctrlKey) {\r\n      formik.handleSubmit();\r\n    }\r\n  };\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n      <div className={styles.formWrapper}>\r\n        <TextField\r\n          multiline\r\n          className={styles.textArea}\r\n          placeholder={props.placeholderText}\r\n          {...formik.getFieldProps('text')}\r\n          onBlur={() => (formik.errors.text = '')}\r\n          onKeyUp={onKeyUpHandler}\r\n        />\r\n        <>\r\n          {formik.values.text && (\r\n            <IconButton\r\n              className={styles.iconButton}\r\n              type=\"submit\"\r\n              disabled={props?.webSocketStatusDisabled}\r\n            >\r\n              <SendIcon />\r\n            </IconButton>\r\n          )}\r\n        </>\r\n      </div>\r\n      {formik.errors.text && <div style={{ color: 'red' }}> {formik.errors.text}</div>}\r\n    </form>\r\n  );\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myProfilePhotoWrapper\":\"MyProfilePhoto_myProfilePhotoWrapper__ujXj7\",\"mySmallPhoto\":\"MyProfilePhoto_mySmallPhoto__2CA9x\",\"jobDescription\":\"MyProfilePhoto_jobDescription__1Re2c\",\"jobStatus\":\"MyProfilePhoto_jobStatus__1rH_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"TextAreaForm_formWrapper__1ppx3\",\"textArea\":\"TextAreaForm_textArea__1pfwG\",\"iconButton\":\"TextAreaForm_iconButton__3YTtH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"Post_itemWrapper__36K0p\",\"avatarAndClose\":\"Post_avatarAndClose__10YEY\",\"likeBlock\":\"Post_likeBlock__2ZQLA\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport thunkMiddleware, { ThunkDispatch } from 'redux-thunk';\n\nimport { appReducer, AppActionsType } from './AppReducer';\nimport { AuthActionsType, authReducer } from './AuthReducer';\nimport { ChatActionsType, chatReducer } from './chatReducer';\nimport { dialogsReducer } from './DialogsReducer';\nimport { ProfileActionsType, profileReducer } from './ProfileReducer';\nimport hardcodedUsersReducer from './UserPostsReducer';\nimport { UsersActionsType, userReducer } from './UsersReducer';\n\nexport type AppRootStateType = ReturnType<typeof rootReducer>;\nexport type RootActionsType =\n  | AuthActionsType\n  | AppActionsType\n  | ProfileActionsType\n  | UsersActionsType\n  | ChatActionsType;\nexport type AppThunkDispatch = ThunkDispatch<AppStoreType, null, RootActionsType>;\nexport const useAppDispatch: () => AppThunkDispatch = useDispatch;\nconst rootReducer = combineReducers({\n  ProfilePage: profileReducer,\n  DialogPage: dialogsReducer,\n  HardcodedUsers: hardcodedUsersReducer,\n  UsersPage: userReducer,\n  Auth: authReducer,\n  App: appReducer,\n  ChatPage: chatReducer,\n});\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\n);\nexport type AppStoreType = ReturnType<typeof rootReducer>;\nexport const useAppSelector: TypedUseSelectorHook<AppStoreType> = useSelector;\ntype PropertiesTypes<T> = T extends { [key: string]: infer U } ? U : never;\nexport type InferActionsTypes<T extends { [key: string]: (...args: any[]) => any }> =\n  ReturnType<PropertiesTypes<T>>;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editProfileWrapper\":\"EditProfile_editProfileWrapper__OZsZF\",\"content\":\"EditProfile_content__yeo62\",\"checkBox\":\"EditProfile_checkBox__3_9ZV\",\"formRowWithoutMargin\":\"EditProfile_formRowWithoutMargin__2qdG4\",\"formRow\":\"EditProfile_formRow__x-fvC\",\"contactText\":\"EditProfile_contactText__16E2y\",\"textField\":\"EditProfile_textField__6lKce\",\"checkBoxLabel\":\"EditProfile_checkBoxLabel__7g5NV\",\"button\":\"EditProfile_button__XUxZk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__3pqhT\",\"progress\":\"Preloader_progress__aJfYS\",\"scaling\":\"Preloader_scaling__1TF5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LastContactContainer\":\"Footer_LastContactContainer__1b38W\",\"error404Display\":\"Footer_error404Display__2vHdz\"};","import { v1 } from 'uuid';\r\n\r\nimport user4 from '../Images/Users/user-4.jpg';\r\n\r\n// types\r\nexport type MessagesType = {\r\n  id: string;\r\n  message: string;\r\n};\r\n\r\nexport type DialogActionsType = ReturnType<typeof addMessageAC>;\r\nexport type DialogsType = {\r\n  id: string;\r\n  name: string;\r\n  avatar: string;\r\n  message: string;\r\n};\r\nexport type DialogsStateType = {\r\n  dialogs: Array<DialogsType>;\r\n  messages: Array<MessagesType>;\r\n};\r\nconst initialState: DialogsStateType = {\r\n  dialogs: [\r\n    {\r\n      id: v1(),\r\n      name: 'Kyle Fisher',\r\n      avatar: user4,\r\n      message: 'What is the weather forecast for tomorrow?',\r\n    },\r\n  ],\r\n  messages: [{ id: v1(), message: 'Looks like it will be sunny tomorrow=)' }],\r\n};\r\n// reducer\r\nexport const dialogsReducer = (\r\n  state: DialogsStateType = initialState,\r\n  action: DialogActionsType,\r\n): DialogsStateType => {\r\n  switch (action.type) {\r\n    case 'DIALOGS/ADD-DIALOG-MESSAGE': {\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: v1(), message: action.text }],\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// action creators\r\nexport const addMessageAC = (text: string) =>\r\n  ({ type: 'DIALOGS/ADD-DIALOG-MESSAGE', text } as const);\r\n","// types\r\nexport type NullableType<T> = null | T;\r\nexport enum ACTIONS_TYPE {\r\n  APP_SET_ERROR = 'APP-SET-ERROR',\r\n  APP_SET_STATUS = 'APP/SET-STATUS',\r\n}\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed';\r\nexport type AppActionsType =\r\n  | ReturnType<typeof setAppErrorAC>\r\n  | ReturnType<typeof setAppStatusAC>;\r\n\r\ntype InitialStateType = typeof initialState;\r\nconst initialState = {\r\n  error: null as NullableType<string>,\r\n  status: 'idle' as RequestStatusType,\r\n};\r\n\r\n// reducer\r\nexport const appReducer = (\r\n  state: InitialStateType = initialState,\r\n  action: AppActionsType,\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case ACTIONS_TYPE.APP_SET_ERROR:\r\n      return { ...state, error: action.error };\r\n    case ACTIONS_TYPE.APP_SET_STATUS:\r\n      return { ...state, status: action.status };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n// action creators\r\nexport const setAppErrorAC = (error: NullableType<string>) =>\r\n  ({ type: ACTIONS_TYPE.APP_SET_ERROR, error } as const);\r\nexport const setAppStatusAC = (status: RequestStatusType) =>\r\n  ({ type: ACTIONS_TYPE.APP_SET_STATUS, status } as const);\r\n","import { ChatMessageType, StatusType } from '../../../store/chatReducer';\r\nimport { ProfileDataType } from '../../../store/ProfileReducer';\r\nimport { AppRootStateType } from '../../../store/store';\r\nimport { UserType } from '../../../store/UsersReducer';\r\n\r\nexport const statusSelector = (state: AppRootStateType): string =>\r\n  state.ProfilePage.status;\r\nexport const myIDSelector = (state: AppRootStateType): number => state.Auth.data.id;\r\nexport const profileSelector = (state: AppRootStateType): ProfileDataType =>\r\n  state.ProfilePage.profile;\r\nexport const isLoggedInSelector = (state: AppRootStateType): boolean =>\r\n  state.Auth.isLoggedIn;\r\nexport const isInitializedSelector = (state: AppRootStateType): boolean =>\r\n  state.Auth.isInitialized;\r\nexport const isFetchingSelector = (state: AppRootStateType): boolean =>\r\n  state.UsersPage.isFetching;\r\nexport const usersSelector = (state: AppRootStateType): UserType[] =>\r\n  state.UsersPage.items;\r\nexport const pageSizeSelector = (state: AppRootStateType): number =>\r\n  state.UsersPage.pageSize;\r\nexport const currentPageSelector = (state: AppRootStateType): number =>\r\n  state.UsersPage.currentPage;\r\nexport const totalUserCountSelector = (state: AppRootStateType): number =>\r\n  state.UsersPage.totalCount;\r\nexport const followingArrSelector = (state: AppRootStateType): Array<string> =>\r\n  state.UsersPage.following;\r\nexport const chatMessageSelector = (state: AppRootStateType): Array<ChatMessageType> =>\r\n  state.ChatPage.messages;\r\nexport const chatStatusSelector = (state: AppRootStateType): StatusType =>\r\n  state.ChatPage.status;\r\nexport const chatStartMessageCountSelector = (state: AppRootStateType): number =>\r\n  state.ChatPage.startMessagesCount;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesBlock\":\"Messages_messagesBlock__n1krz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"Header_headerWrapper__ieoh3\",\"sideWrapper\":\"Header_sideWrapper__1xkaz\",\"NavItem\":\"Header_NavItem__1l6qi\",\"LastNavItem\":\"Header_LastNavItem__t7uwd\",\"hideForMobile\":\"Header_hideForMobile__2r21P\",\"unActiveNavLink\":\"Header_unActiveNavLink__S8Dvm\",\"activeNavLink\":\"Header_activeNavLink__FTlHl\",\"logo\":\"Header_logo__3DKsg\",\"headerContent\":\"Header_headerContent__1GBc_\",\"logOutIcon\":\"Header_logOutIcon__13SK4\",\"loginBlock\":\"Header_loginBlock__2Vz7d\",\"profilePhoto\":\"Header_profilePhoto__2JnBf\",\"loginButton\":\"Header_loginButton__3L0rf\"};","import { AxiosError } from 'axios';\r\n\r\nimport { RespType } from '../api/api';\r\nimport { setAppErrorAC, setAppStatusAC } from '../store/AppReducer';\r\nimport { AppThunkDispatch } from '../store/store';\r\n\r\nexport const handleNetworkError = (\r\n  Error: AxiosError<{ error: string }>,\r\n  dispatch: AppThunkDispatch,\r\n) => {\r\n  dispatch(setAppStatusAC('failed'));\r\n  dispatch(setAppErrorAC(Error.response?.data.error || 'some Error'));\r\n};\r\n\r\nexport const handleServerAppError = <D>(\r\n  data: RespType<D>,\r\n  dispatch: AppThunkDispatch,\r\n) => {\r\n  if (data.messages.length) {\r\n    dispatch(setAppErrorAC(data.messages[0]));\r\n  } else {\r\n    dispatch(setAppErrorAC('Some error occupied'));\r\n  }\r\n  dispatch(setAppStatusAC('failed'));\r\n};\r\nexport const handleServerNetworkError = (error: Error, dispatch: AppThunkDispatch) => {\r\n  dispatch(setAppErrorAC(error.message));\r\n  dispatch(setAppStatusAC('failed'));\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinEarthOnHover\":\"Error404_spinEarthOnHover__1b0Fw\",\"ErrorWrapper\":\"Error404_ErrorWrapper__1uC5B\",\"stars\":\"Error404_stars__mdnOj\",\"centralBody\":\"Error404_centralBody__2CXaR\",\"image404\":\"Error404_image404__303rd\",\"btnGoHome\":\"Error404_btnGoHome__1YTZO\",\"objects\":\"Error404_objects__3JyeS\",\"objectRocket\":\"Error404_objectRocket__2hYkb\",\"rocketMovement\":\"Error404_rocketMovement__2b-w6\",\"earthMoon\":\"Error404_earthMoon__1EI0X\",\"objectEarth\":\"Error404_objectEarth__3clmu\",\"spinEarth\":\"Error404_spinEarth__3Qgkn\",\"objectMoon\":\"Error404_objectMoon__23mNN\",\"boxAstronaut\":\"Error404_boxAstronaut__3qClC\",\"moveAstronaut\":\"Error404_moveAstronaut__3_sW1\",\"objectAstronaut\":\"Error404_objectAstronaut__3pH88\",\"rotateAstronaut\":\"Error404_rotateAstronaut__1Y_ck\",\"glowingStars\":\"Error404_glowingStars__3ILxB\",\"star\":\"Error404_star__3zlhp\",\"glowStar\":\"Error404_glowStar__2B4_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsBlock\":\"ContactBlock_contactsBlock__1UYE4\",\"contactsBlockItem\":\"ContactBlock_contactsBlockItem__mCkW3\",\"icon\":\"ContactBlock_icon__3gBow\",\"lastContactBlockItem\":\"ContactBlock_lastContactBlockItem__3UFiP\"};","import React from 'react';\r\n\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport styles from './Preloader.module.scss';\r\n\r\nexport const Preloader = () => (\r\n  <div className={styles.main}>\r\n    <div className={styles.progress}>\r\n      <CircularProgress size={50} />\r\n    </div>\r\n  </div>\r\n);\r\n","import React from 'react';\r\n\r\nimport { AlertTitle } from '@mui/material';\r\nimport Alert from '@mui/material/Alert';\r\nimport Snackbar from '@mui/material/Snackbar';\r\n\r\nimport { NullableType, setAppErrorAC } from '../../store/AppReducer';\r\nimport { useAppDispatch, useAppSelector } from '../../store/store';\r\n\r\nexport const ErrorSnackBar = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const error = useAppSelector<NullableType<string>>(state => state.App.error);\r\n\r\n  const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    dispatch(setAppErrorAC(null));\r\n  };\r\n\r\n  return (\r\n    <Snackbar\r\n      open={error !== null}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n    >\r\n      <Alert onClose={handleClose} severity=\"error\" sx={{ width: '100%' }}>\r\n        <AlertTitle>Error</AlertTitle>\r\n        <strong>{error}</strong>\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n","import React, { ReactElement } from 'react';\r\n\r\nimport { Preloader } from '../Common/Preloader/Preloader';\r\n\r\nfunction withSuspense<T>(Component: React.ComponentType & any) {\r\n  return (props: T): ReactElement => (\r\n    <React.Suspense fallback={<Preloader />}>\r\n      <Component {...props}>{}</Component>\r\n    </React.Suspense>\r\n  );\r\n}\r\nexport default withSuspense;\r\n","export default __webpack_public_path__ + \"static/media/Logo.f593821f.svg\";","import React from 'react';\n\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport MessageIcon from '@mui/icons-material/Message';\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\nimport RssFeedIcon from '@mui/icons-material/RssFeed';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport { IconButton } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useNavigate } from 'react-router-dom';\n\nimport { PATH } from '../../App';\nimport logo from '../../Images/Logo.svg';\nimport { logOutTC } from '../../store/AuthReducer';\nimport { MyProfilePhoto } from '../Common/MyProfilePhoto/MyProfilePhoto';\nimport { isLoggedInSelector, myIDSelector } from '../Common/Selectors/Selectors';\n\nimport styles from './Header.module.scss';\n\nexport const Navigation = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const logOutHandler = () => {\n    dispatch(logOutTC());\n    navigate('/login');\n  };\n  const myID = useSelector(myIDSelector);\n\n  const navigateToMyMage = () => {\n    navigate(`/profile/${myID}`);\n  };\n  return (\n    <div className={styles.headerContent}>\n      <div className={styles.logo}>\n        <img src={logo} alt=\"logo\" />\n      </div>\n      <nav className={styles.sideWrapper}>\n        <div className={styles.NavItem}>\n          <NavLink\n            to={`${PATH.PROFILE}/${myID}`}\n            className={({ isActive }) =>\n              isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`\n            }\n          >\n            <RssFeedIcon fontSize=\"large\" />\n            <div className={styles.hideForMobile}>Feed</div>\n          </NavLink>\n        </div>\n        <div className={styles.NavItem}>\n          <NavLink\n            to={PATH.DIALOGS}\n            className={({ isActive }) =>\n              isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`\n            }\n          >\n            <MessageIcon fontSize=\"large\" />\n            <div className={styles.hideForMobile}>Dialogs</div>\n          </NavLink>\n        </div>\n\n        <div className={styles.NavItem}>\n          <NavLink\n            to={PATH.USERS}\n            className={({ isActive }) =>\n              isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`\n            }\n          >\n            <PeopleAltIcon fontSize=\"large\" />\n            <div className={styles.hideForMobile}>All Users</div>\n          </NavLink>\n        </div>\n        <div className={styles.LastNavItem}>\n          <NavLink\n            to={PATH.EDIT_PROFILE}\n            className={({ isActive }) =>\n              isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`\n            }\n          >\n            <SettingsIcon fontSize=\"large\" />\n            <div className={styles.hideForMobile}>Edit Profile</div>\n          </NavLink>\n        </div>\n      </nav>\n\n      <div className={styles.loginBlock}>\n        <div\n          onKeyUp={navigateToMyMage}\n          tabIndex={0}\n          role=\"button\"\n          className={styles.profilePhoto}\n          onClick={navigateToMyMage}\n        >\n          <MyProfilePhoto />\n        </div>\n        {/* <div className={styles.jobStatus}>\n                    <div className={styles.userName} onClick={navigateToMyMage}>\n                        {myLoginName}\n                    </div>\n                </div> */}\n        {isLoggedIn && (\n          <>\n            <Button\n              variant=\"outlined\"\n              className={styles.loginButton}\n              onClick={logOutHandler}\n            >\n              Log out\n            </Button>\n\n            <IconButton className={styles.logOutIcon} onClick={logOutHandler}>\n              <LogoutIcon fontSize=\"large\" />\n            </IconButton>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport styles from './Header.module.scss';\nimport { Navigation } from './Navigation';\n\nexport const Header = () => (\n  <header className={styles.headerWrapper}>\n    <Navigation />\n  </header>\n);\n","import React from 'react';\n\nimport { Navigate, Outlet, useLocation } from 'react-router-dom';\n\nimport { useAppSelector } from '../store/store';\n\nimport { isLoggedInSelector } from './Common/Selectors/Selectors';\nimport { Header } from './Header/Header';\n\nconst PrivateRoutes = () => {\n  const location = useLocation();\n\n  const isLoggedIn = useAppSelector<boolean>(isLoggedInSelector);\n\n  if (!isLoggedIn) {\n    return (\n      <Navigate\n        to={`/login?redirectTo=${encodeURIComponent(location.pathname)}`}\n        replace\n      />\n    );\n  }\n\n  return (\n    <>\n      <Header />\n      <Outlet />\n    </>\n  );\n};\n\nexport default PrivateRoutes;\n","import React from 'react';\r\n\r\nimport { TextField } from '@mui/material';\r\nimport Button from '@mui/material/Button';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport { Formik } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { PATH } from '../../App';\r\nimport { updateProfileTC } from '../../store/ProfileReducer';\r\nimport { useAppSelector } from '../../store/store';\r\n\r\nimport s from './EditProfile.module.scss';\r\n\r\nexport const EditProfile = React.memo(() => {\r\n  const userId = useAppSelector(state => state.Auth.data.id);\r\n  const myProfile = useAppSelector(state => state.Auth.myProfile);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className={s.editProfileWrapper}>\r\n      <div className={s.content}>\r\n        <h3>Edit profile</h3>\r\n\r\n        <Formik\r\n          enableReinitialize\r\n          initialValues={{\r\n            userId,\r\n            lookingForAJob: myProfile && myProfile.lookingForAJob,\r\n            lookingForAJobDescription: myProfile && myProfile.lookingForAJobDescription,\r\n            fullName: myProfile && myProfile.fullName,\r\n            aboutMe: myProfile && myProfile.aboutMe,\r\n            contacts: {\r\n              facebook: myProfile && myProfile.contacts.facebook,\r\n              website: myProfile && myProfile.contacts.website,\r\n              vk: myProfile && myProfile.contacts.vk,\r\n              twitter: myProfile && myProfile.contacts.twitter,\r\n              instagram: myProfile && myProfile.contacts.instagram,\r\n              youtube: myProfile && myProfile.contacts.youtube,\r\n              github: myProfile && myProfile.contacts.github,\r\n              mainLink: myProfile && myProfile.contacts.mainLink,\r\n            },\r\n          }}\r\n          onSubmit={values => {\r\n            dispatch(updateProfileTC(values));\r\n            navigate(`${PATH.PROFILE}/${userId}`);\r\n          }}\r\n        >\r\n          {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>Github: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.github\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.contacts.github}\r\n                  error={!!props.errors.contacts?.github}\r\n                  helperText={props.errors.contacts?.github}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>Facebook: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.facebook\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.contacts.facebook}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>VK: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.vk\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.contacts.vk}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>Instagram: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.instagram\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.contacts.instagram}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>Twitter: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.twitter\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.contacts.twitter}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>YouTube: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.youtube\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>WebSite: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.website\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>Main link: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"contacts.mainLink\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <div className={s.contactText}>About me: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  multiline\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"aboutMe\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.aboutMe}\r\n                />\r\n              </div>\r\n              <div className={s.formRowWithoutMargin}>\r\n                <div className={s.contactText}>Full name: </div>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  size=\"small\"\r\n                  type=\"text\"\r\n                  name=\"fullName\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.fullName}\r\n                />\r\n              </div>\r\n              <div className={s.formRowWithoutMargin}>\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  label=\"Looking for a job:\"\r\n                  name=\"lookingForAJob\"\r\n                  control={<Checkbox />}\r\n                  checked={props.values.lookingForAJob}\r\n                  onChange={props.handleChange}\r\n                />\r\n              </div>\r\n              <div className={s.formRow}>\r\n                <p className={s.contactText}>Job description: </p>\r\n                <TextField\r\n                  inputProps={{ className: s.textField }}\r\n                  multiline\r\n                  size=\"small\"\r\n                  name=\"lookingForAJobDescription\"\r\n                  type=\"text\"\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  value={props.values.lookingForAJobDescription}\r\n                />\r\n              </div>\r\n\r\n              <div className={s.button}>\r\n                <Button variant=\"contained\" type=\"submit\">\r\n                  Submit changes\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","export default __webpack_public_path__ + \"static/media/404Text.154db121.svg\";","export default __webpack_public_path__ + \"static/media/astronaut.efda7730.svg\";","export default __webpack_public_path__ + \"static/media/earth.e0fbdf02.svg\";","export default __webpack_public_path__ + \"static/media/moon.5a77d87b.svg\";","export default __webpack_public_path__ + \"static/media/rocket.9c039dba.svg\";","import React, { FC } from 'react';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { PATH } from '../../App';\r\nimport errorText from '../../Images/404Text.svg';\r\nimport astronaut from '../../Images/astronaut.svg';\r\nimport earth from '../../Images/earth.svg';\r\nimport moon from '../../Images/moon.svg';\r\nimport rocket from '../../Images/rocket.svg';\r\n\r\nimport styles from './Error404.module.scss';\r\n\r\nexport const Error404: FC = () => (\r\n  <div className={styles.ErrorWrapper}>\r\n    <div className={styles.stars}>\r\n      <div className={styles.centralBody}>\r\n        <img className={styles.image404} src={errorText} alt=\"img404\" />\r\n        <NavLink to={`${PATH.HOME}`} className={styles.btnGoHome}>\r\n          GO BACK HOME\r\n        </NavLink>\r\n      </div>\r\n      <div className={styles.objects}>\r\n        <img className={styles.objectRocket} src={rocket} alt=\"imgRocket\" />\r\n        <div className={styles.earthMoon}>\r\n          <img className={styles.objectEarth} src={earth} alt=\"imgEarth\" />\r\n          <img className={styles.objectMoon} src={moon} alt=\"imgMoon\" />\r\n        </div>\r\n        <div className={styles.boxAstronaut}>\r\n          <img className={styles.objectAstronaut} src={astronaut} alt=\"imgAstronaut\" />\r\n        </div>\r\n      </div>\r\n      <div className={styles.glowingStars}>\r\n        <div className={styles.star} />\r\n        <div className={styles.star} />\r\n        <div className={styles.star} />\r\n        <div className={styles.star} />\r\n        <div className={styles.star} />\r\n        <div className={styles.star} />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n","import React, { FC } from 'react';\r\n\r\nexport const Events: FC = () => (\r\n  <div>\r\n    <div>Events</div>\r\n  </div>\r\n);\r\n","import React, { FC } from 'react';\r\n\r\nimport { Events } from './Events';\r\n\r\nexport const EventsContainer: FC = () => (\r\n  /* const Redirect = WithAuthRedirect(Events); */\r\n  <div>\r\n    {/* <Redirect/> */}\r\n    <Events />\r\n  </div>\r\n);\r\n","import React, { FC } from 'react';\r\n\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport styles from './Footer.module.scss';\r\n\r\nexport const Footer: FC = () => {\r\n  const year = new Date().getFullYear();\r\n  const location = useLocation();\r\n\r\n  const myPortfolioRoute = 'https://dmitrylotkov.github.io/Portfolio/';\r\n  return (\r\n    <footer\r\n      className={\r\n        location.pathname !== '/404'\r\n          ? styles.LastContactContainer\r\n          : styles.error404Display\r\n      }\r\n    >\r\n      <span>\r\n         {year} All Rights Reserved. Created for educational purposes by\r\n        <a href={myPortfolioRoute}>\r\n          <strong> @Dmitry Lotkov</strong>\r\n        </a>\r\n      </span>\r\n    </footer>\r\n  );\r\n};\r\n","import React, { FC, useEffect, useState } from 'react';\n\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\nimport { InputAdornment } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport Checkbox from '@mui/material/Checkbox';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormLabel from '@mui/material/FormLabel';\nimport Grid from '@mui/material/Grid';\nimport IconButton from '@mui/material/IconButton';\nimport Input from '@mui/material/Input';\nimport InputLabel from '@mui/material/InputLabel';\nimport { useFormik } from 'formik';\nimport { useDispatch } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nimport { PATH } from '../../App';\nimport { NullableType, setAppErrorAC } from '../../store/AppReducer';\nimport { loginTC } from '../../store/AuthReducer';\nimport { useAppSelector } from '../../store/store';\n\nimport styles from './login.module.scss';\n\ntype FormikErrorType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha: string;\n};\nexport const Login: FC = React.memo(() => {\n  const isLoggedIn = useAppSelector<boolean>(state => state.Auth.isLoggedIn);\n  const serverError = useAppSelector<NullableType<string>>(state => state.App.error);\n  const captchaUrl = useAppSelector<NullableType<string>>(state => state.Auth.captchaUrl);\n  const dispatch = useDispatch();\n  const [isPassType, setIsPassType] = useState<boolean>(true);\n\n  const formik = useFormik({\n    validate: values => {\n      const errors: Partial<FormikErrorType> = {};\n      if (!values.email) {\n        errors.email = 'Required';\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n        errors.email = 'Invalid email address';\n      }\n      if (values.password.length < 3) {\n        errors.password = 'Invalid password length';\n      }\n      if (!values.password) {\n        errors.password = 'Password required';\n      }\n\n      return errors;\n    },\n    initialValues: {\n      email: '',\n      password: '',\n      rememberMe: true,\n      captcha: '',\n    },\n\n    onSubmit: values => {\n      dispatch(loginTC(values));\n    },\n  });\n\n  const removeError = () => {\n    if (serverError) dispatch(setAppErrorAC(''));\n  };\n  const handleClickShowPassword = (): void => {\n    setIsPassType(!isPassType);\n  };\n  const handleMouseDownPassword = (event: React.MouseEvent<HTMLButtonElement>): void => {\n    event.preventDefault();\n  };\n  useEffect(() => {\n    const listener = (event: KeyboardEvent) => {\n      if (event.code === 'Enter' || event.code === 'NumpadEnter') {\n        event.preventDefault();\n        formik.handleSubmit();\n      }\n    };\n    document.addEventListener('keydown', listener);\n    return () => {\n      document.removeEventListener('keydown', listener);\n    };\n  }, [formik]);\n\n  if (isLoggedIn) {\n    return <Navigate to={PATH.HOME} />;\n  }\n  return (\n    <Grid className={styles.loginWrapper} container justifyContent=\"center\">\n      <Grid className={styles.login} item justifyContent=\"center\">\n        <h2 className={styles.h2}>Social network</h2>\n        <h2>Sign in</h2>\n        <FormControl className={styles.textFields}>\n          <FormLabel>\n            <p>\n              To log in get registered\n              <a\n                href=\"https://social-network.samuraijs.com/\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                {' '}\n                here\n              </a>\n            </p>\n            <p>or use common test account credentials:</p>\n            <p>Email: free@samuraijs.com</p>\n            <p>Password: free</p>\n          </FormLabel>\n          <form onSubmit={formik.handleSubmit}>\n            <FormGroup>\n              <FormControl sx={{ mTop: 2, width: '30ch' }} variant=\"standard\">\n                <InputLabel htmlFor=\"standard-adornment-email\">Email</InputLabel>\n                <Input {...formik.getFieldProps('email')} onFocus={removeError} />\n              </FormControl>\n              {formik.touched.email && formik.errors.email ? (\n                <div className={styles.emailError}>{formik.errors.email}</div>\n              ) : null}\n\n              <FormControl sx={{ mTop: 2, width: '30ch' }} variant=\"standard\">\n                <InputLabel htmlFor=\"standard-adornment-password\">Password</InputLabel>\n                <Input\n                  {...formik.getFieldProps('password')}\n                  id=\"standard-adornment-password\"\n                  type={isPassType ? 'password' : 'text'}\n                  endAdornment={\n                    <InputAdornment position=\"end\">\n                      <IconButton\n                        aria-label=\"toggle password visibility\"\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                      >\n                        {isPassType ? <VisibilityOff /> : <Visibility />}\n                      </IconButton>\n                    </InputAdornment>\n                  }\n                />\n                {formik.touched.password && formik.errors.password ? (\n                  <div className={styles.passError}>{formik.errors.password}</div>\n                ) : null}\n              </FormControl>\n\n              <FormControlLabel\n                className={styles.checkbox}\n                label=\"Remember me\"\n                control={<Checkbox />}\n                {...formik.getFieldProps('rememberMe')}\n                checked={formik.getFieldProps('rememberMe').value}\n              />\n\n              {captchaUrl && (\n                <>\n                  <img src={captchaUrl} alt=\"captchaImg\" />\n                  <FormControl sx={{ mTop: 2, width: '30ch' }} variant=\"standard\">\n                    <InputLabel htmlFor=\"standard-adornment-password\">Captcha</InputLabel>\n                    <Input {...formik.getFieldProps('captcha')} />\n                    {formik.touched.captcha && formik.errors.captcha ? (\n                      <div style={{ color: 'red' }}>{formik.errors.captcha}</div>\n                    ) : null}\n                  </FormControl>\n                </>\n              )}\n\n              <div className={styles.button}>\n                <Button\n                  style={{ marginTop: ' 1rem', marginBottom: '1rem', width: '200px' }}\n                  variant=\"contained\"\n                  type=\"submit\"\n                >\n                  Login\n                </Button>\n              </div>\n            </FormGroup>\n          </form>\n        </FormControl>\n      </Grid>\n    </Grid>\n  );\n});\n","import React, { FC } from 'react';\r\n\r\nconst Photos: FC = () => <div>Photos</div>;\r\n\r\nexport default Photos;\r\n","import React from 'react';\r\n\r\nimport Photos from './Photos';\r\nimport styles from './Photos.module.scss';\r\n\r\nconst PhotosContainer = () => (\r\n  /* const Redirect = WithAuthRedirect(Photos) */\r\n  <div className={styles.content}>\r\n    {/* <Redirect/> */}\r\n    <Photos />\r\n  </div>\r\n);\r\n\r\n/* compose<React.ComponentType>(WithAuthRedirect)(PhotosContainer); */\r\nexport default PhotosContainer;\r\n","import React from 'react';\n\nimport { ChatMessageAPIType } from '../../api/chatAPI';\nimport defaultUserImage from '../../Images/defaultUserImage.jpg';\nimport { useAppSelector } from '../../store/store';\n\nimport styles from './Message.module.scss';\n\ntype MessagePropsType = {\n  message: ChatMessageAPIType;\n  userId: number;\n};\nexport const Message = React.memo(({ message, userId }: MessagePropsType) => {\n  const myId = useAppSelector<number>(state => state.Auth.data.id);\n\n  return (\n    <div className={styles.devChatMessageBlock}>\n      <div\n        className={\n          myId === userId ? styles.myImgAndMessage : styles.someUserImgAndMessage\n        }\n      >\n        {myId === userId ? (\n          <>\n            <div\n              className={\n                myId === userId ? styles.myNameAndMessage : styles.someUserNameAndMessage\n              }\n            >\n              <div className={styles.userName}>{message.userName}</div>\n              <div>{message.message}</div>\n            </div>\n            <img style={{ marginLeft: '10px' }} src={message.photo} alt=\"chatUserPhoto\" />\n          </>\n        ) : (\n          <>\n            <img src={message.photo || defaultUserImage} alt=\"chatUserPhoto\" />\n            <div\n              className={\n                myId === userId ? styles.myNameAndMessage : styles.someUserNameAndMessage\n              }\n            >\n              <div className={styles.userName}>{message.userName}</div>\n              <div>{message.message}</div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n});\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport { useAppSelector } from '../../store/store';\n\nimport { Message } from './Message';\nimport styles from './Messages.module.scss';\n\nexport const Messages = React.memo(() => {\n  const [isAutoScroll, setIsAutoScroll] = useState(true);\n  const messages = useAppSelector(state => state.ChatPage.messages);\n  const messagesAnchorRef = useRef<HTMLDivElement>(null);\n  const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>): void => {\n    const element = e.currentTarget;\n    if (\n      Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) < 400 &&\n      !isAutoScroll\n    ) {\n      setIsAutoScroll(true);\n    } else {\n      setIsAutoScroll(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isAutoScroll) {\n      messagesAnchorRef.current?.scrollIntoView();\n    }\n  }, [messages, isAutoScroll]);\n\n  return (\n    <div className={styles.messagesBlock} onScroll={scrollHandler}>\n      {messages.map(m => (\n        <Message message={m} key={m.id} userId={m.userId} />\n      ))}\n      <div ref={messagesAnchorRef} />\n    </div>\n  );\n});\n","import React, { FC, useEffect } from 'react';\n\nimport { useDispatch } from 'react-redux';\n\nimport { TextAreaForm } from '../../components/Common/TextAreaForm/TextAreaForm';\nimport {\n  sendMessageTC,\n  startMessagesListeningTC,\n  StatusType,\n  stopMessagesListeningTC,\n} from '../../store/chatReducer';\nimport { useAppSelector } from '../../store/store';\n\nimport { Messages } from './Messages';\n\nexport const Chat: FC = React.memo(() => {\n  const status = useAppSelector<StatusType>(state => state.ChatPage.status);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(startMessagesListeningTC());\n    return () => {\n      dispatch(stopMessagesListeningTC());\n    };\n  }, [dispatch]);\n\n  const sendMessageHandler = (message: string): (() => Promise<void>) =>\n    dispatch(sendMessageTC(message));\n\n  return (\n    <div>\n      {status === 'error' && <div>Some error occurred. Please refresh the page</div>}\n      <>\n        <Messages />\n        <TextAreaForm\n          webSocketStatusDisabled={status !== 'ready'}\n          placeholderText=\"Press Ctrl + Enter to send message\"\n          callBack={sendMessageHandler}\n        />\n      </>\n    </div>\n  );\n});\n","import React, { useEffect, useState } from 'react';\n\nimport MinimizeIcon from '@mui/icons-material/Minimize';\nimport { IconButton } from '@mui/material';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  chatMessageSelector,\n  chatStartMessageCountSelector,\n  chatStatusSelector,\n  myIDSelector,\n} from '../../components/Common/Selectors/Selectors';\nimport { setStartMessagesCountAC, StatusType } from '../../store/chatReducer';\nimport { useAppSelector } from '../../store/store';\n\nimport { Chat } from './Chat';\nimport styles from './ChatPage.module.scss';\n\nconst ChatPage = React.memo(() => {\n  const myId = useAppSelector(myIDSelector);\n  const messages = useAppSelector(chatMessageSelector).filter(m => m.userId !== myId);\n  const status = useAppSelector<StatusType>(chatStatusSelector);\n  const startMessagesCount = useAppSelector<number>(chatStartMessageCountSelector);\n  const [isChatOpen, setIsChatOpen] = useState<boolean>(false);\n  const [startMessagesLength, setStartMessagesLength] = useState<number>(messages.length);\n  const newMessagesCount = messages.length - startMessagesCount;\n  const dispatch = useDispatch();\n\n  const collapseChat = (): void => {\n    setIsChatOpen(!isChatOpen);\n    dispatch(setStartMessagesCountAC(messages.length)); //    ,       \n  };\n\n  useEffect(() => {\n    if (status === 'ready' && startMessagesLength === 0) {\n      setStartMessagesLength(messages.length);\n      dispatch(setStartMessagesCountAC(messages.length)); //     \n    }\n  }, [status, messages, dispatch]);\n\n  return (\n    <div\n      className={isChatOpen ? styles.chatPageBlockOpen : styles.chatPageBlockCollapsed}\n    >\n      <div className={styles.chatTitle}>\n        <div>Public chat</div>\n        <div\n          className={\n            newMessagesCount > 0 && !isChatOpen\n              ? styles.messageFlag\n              : styles.noMessageFlag\n          }\n        >\n          <div>{newMessagesCount}</div>\n        </div>\n        <IconButton onClick={collapseChat} className={styles.minimizeIcon}>\n          <MinimizeIcon />\n        </IconButton>\n      </div>\n      <Chat />\n    </div>\n  );\n});\n\nexport default ChatPage;\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport { IconButton } from '@mui/material';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { MyProfilePhoto } from '../../../../components/Common/MyProfilePhoto/MyProfilePhoto';\r\nimport { deleteMyPostAC } from '../../../../store/UserPostsReducer';\r\n\r\nimport styles from './Post.module.scss';\r\n\r\nexport const maxLikesCount = 300;\r\ntype MyPostsPropsType = {\r\n  id: string;\r\n  message: string;\r\n};\r\nexport type LikeObjType = {\r\n  likeCount: number;\r\n  updated: boolean;\r\n};\r\n\r\nexport const Post = ({ id, message }: MyPostsPropsType) => {\r\n  const [likeObj, setLikeObj] = useState<LikeObjType>({ likeCount: 5, updated: false });\r\n  const dispatch = useDispatch();\r\n  const deletePost = (userId: string) => {\r\n    dispatch(deleteMyPostAC(userId));\r\n  };\r\n  const generateLike = () => {\r\n    const likeGenerator = Math.round(Math.random() * maxLikesCount);\r\n    setLikeObj({ likeCount: likeGenerator, updated: false });\r\n  };\r\n  const addLikeHandler = () => {\r\n    if (!likeObj.updated) {\r\n      setLikeObj({ likeCount: likeObj.likeCount + 1, updated: true });\r\n    } else {\r\n      setLikeObj({ likeCount: likeObj.likeCount - 1, updated: false });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    generateLike();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.itemWrapper}>\r\n      <div className={styles.avatarAndClose}>\r\n        <MyProfilePhoto />\r\n        <IconButton style={{ height: '40px' }} onClick={() => deletePost(id)}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </div>\r\n      <p>{message}</p>\r\n      <div className={styles.likeBlock}>\r\n        {likeObj.updated ? (\r\n          <FavoriteIcon onClick={addLikeHandler} />\r\n        ) : (\r\n          <FavoriteBorderIcon onClick={addLikeHandler} />\r\n        )}{' '}\r\n        {likeObj.likeCount}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport { IconButton } from '@mui/material';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deleteUsersPostAC, UsersOnWallType } from '../../../store/UserPostsReducer';\r\nimport { LikeObjType, maxLikesCount } from '../MyPosts/Post/Post';\r\n\r\nimport styles from './AnyUserPosts.module.scss';\r\n\r\nconst AnyUserPost = ({\r\n  avatar,\r\n  name,\r\n  position,\r\n  postText,\r\n  postPhoto,\r\n  id,\r\n}: UsersOnWallType): JSX.Element => {\r\n  const dispatch = useDispatch();\r\n  const [likeObj, setLikeObj] = useState<LikeObjType>({ likeCount: 5, updated: false });\r\n  const generateLike = () => {\r\n    const likeGenerator = Math.round(Math.random() * maxLikesCount);\r\n    setLikeObj({ likeCount: likeGenerator, updated: false });\r\n  };\r\n  const addLikeHandler = () => {\r\n    if (!likeObj.updated) {\r\n      setLikeObj({ likeCount: likeObj.likeCount + 1, updated: true });\r\n    } else {\r\n      setLikeObj({ likeCount: likeObj.likeCount - 1, updated: false });\r\n    }\r\n  };\r\n  const deletePostHandler = (userId: string) => {\r\n    dispatch(deleteUsersPostAC(userId));\r\n  };\r\n  useEffect(() => {\r\n    generateLike();\r\n  }, []);\r\n  return (\r\n    <div className={styles.anyUserPost}>\r\n      <div className={styles.userWrapper}>\r\n        <div className={styles.userPhotoAndDescriptionBlock}>\r\n          <img src={avatar} alt=\"avatar\" />\r\n          <div className={styles.userDescription}>\r\n            <strong>{name}</strong>\r\n            <div className={styles.userPosition}>{position}</div>\r\n          </div>\r\n        </div>\r\n        <IconButton onClick={() => deletePostHandler(id)}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </div>\r\n      <p>{postText}</p>\r\n      {postPhoto && <img className={styles.postPhoto} src={postPhoto} alt=\"postPhoto\" />}\r\n\r\n      <div className={styles.likeBlock}>\r\n        {likeObj.updated ? (\r\n          <FavoriteIcon onClick={addLikeHandler} />\r\n        ) : (\r\n          <FavoriteBorderIcon onClick={addLikeHandler} />\r\n        )}{' '}\r\n        {likeObj.likeCount}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnyUserPost;\r\n","import React from 'react';\r\n\r\nimport { useAppSelector } from '../../../store/store';\r\nimport { UsersOnWallType } from '../../../store/UserPostsReducer';\r\n\r\nimport AnyUserPost from './AnyUserPost';\r\nimport styles from './AnyUserPosts.module.scss';\r\n\r\nconst AnyUserPosts = () => {\r\n  const userInfo = useAppSelector<Array<UsersOnWallType>>(\r\n    state => state.HardcodedUsers.anyUserPostsData,\r\n  );\r\n  const anyPostsElements = userInfo.map(post => (\r\n    <AnyUserPost\r\n      key={post.id}\r\n      postPhoto={post.postPhoto}\r\n      name={post.name}\r\n      id={post.id}\r\n      avatar={post.avatar}\r\n      position={post.position}\r\n      postText={post.postText}\r\n    />\r\n  ));\r\n  return <div className={styles.itemWrapper}>{anyPostsElements}</div>;\r\n};\r\n\r\nexport default AnyUserPosts;\r\n","import React from 'react';\r\n\r\nimport { TextAreaForm } from '../../components/Common/TextAreaForm/TextAreaForm';\r\nimport { PostType } from '../../store/ProfileReducer';\r\n\r\nimport styles from './MyPosts.module.scss';\r\nimport { Post } from './MyPosts/Post/Post';\r\n\r\nexport type MyPostsPropsType = {\r\n  postsData?: Array<PostType>;\r\n  callBack: (text: string) => void;\r\n  placeholderText: string;\r\n};\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n  const postsElements = props.postsData\r\n    ?.map(p => <Post key={p.id} id={p.id} message={p.message} />)\r\n    .reverse();\r\n  return (\r\n    <div className={styles.postBlock}>\r\n      <div className={styles.myPostForm}>\r\n        <h5 className={styles.newPostHeader}>NEW POST</h5>\r\n        <TextAreaForm placeholderText={props.placeholderText} callBack={props.callBack} />\r\n      </div>\r\n      <div className={styles.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n","import * as Yup from 'yup';\r\n\r\nexport const freeUserId = 1079;\r\nexport const myUserID = 21748;\r\nexport const maxPictureSize = 10000000; // 10MB\r\nconst webSiteRegular =\r\n  /((https?):\\/\\/)?(www.)?[a-z0-9]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/;\r\n\r\nexport const DisplayingErrorMessagesSchema = Yup.object().shape({\r\n  fullName: Yup.string()\r\n    .min(3, 'User name must be more than 3 symbols')\r\n    .max(50, 'User name must be less than 50 symbols')\r\n    .required('Required'),\r\n  aboutMe: Yup.string()\r\n    .min(3, 'User description text must be more than 3 symbols')\r\n    .max(300, 'User description text must be less than 300 symbols')\r\n    .required('Required'),\r\n  lookingForAJobDescription: Yup.string()\r\n    .min(3, 'Job description text must be more than 3 symbols')\r\n    .max(300, 'Job description text must be less than 300 symbols')\r\n    .required('Required'),\r\n  contacts: Yup.object().shape({\r\n    facebook: Yup.lazy(value =>\r\n      !value\r\n        ? Yup.string()\r\n        : Yup.string().matches(\r\n            /(?:https:\\/\\/)?(?:www\\.)?facebook\\.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[\\w]*\\/)*([\\w]*)/,\r\n            'Please enter correct url',\r\n          ),\r\n    ),\r\n    website: Yup.string()\r\n      .min(0)\r\n      .nullable()\r\n      .matches(webSiteRegular, 'Please enter correct url'),\r\n    vk: Yup.string().matches(\r\n      /(?:https:\\/\\/)?[-a-zA-Z0-9@:%_+.~#?&=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_+.~#?&=]*)?/gi,\r\n      'Please enter correct vk url',\r\n    ),\r\n    twitter: Yup.string()\r\n      .min(0)\r\n      .nullable(true)\r\n      .matches(/@([A-Za-z0-9_]{1,15})/, 'Please enter correct twitter url'),\r\n    instagram: Yup.string()\r\n      .min(0)\r\n      .nullable(true)\r\n      .matches(\r\n        /(?:(?:http|https):\\/\\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)\\/(\\w+)/gim,\r\n        'Please enter correct instagram url',\r\n      ),\r\n    youtube: Yup.string()\r\n      .min(0)\r\n      .nullable(true)\r\n      .matches(\r\n        /youtu(?:.*\\/v\\/|.*v\\|\\.be\\/)([A-Za-z0-9_-]{11})/,\r\n        'Please enter correct YouTube url',\r\n      ),\r\n    github: Yup.string()\r\n      .min(0)\r\n      .nullable(true)\r\n      .matches(\r\n        /(?:(?:http|https):\\/\\/)?(?:www.)?(?:github.com)\\/(\\w+)/gim,\r\n        'Please enter correct github url',\r\n      ),\r\n    mainLink: Yup.string().min(0).nullable(true).url(),\r\n  }),\r\n});\r\n","import React from 'react';\r\n\r\nimport { faFirefoxBrowser, faYoutube } from '@fortawesome/free-brands-svg-icons';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons/faFacebook';\r\nimport { faGithub } from '@fortawesome/free-brands-svg-icons/faGithub';\r\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons/faGoogle';\r\nimport { faInstagram } from '@fortawesome/free-brands-svg-icons/faInstagram';\r\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter';\r\nimport { faVk } from '@fortawesome/free-brands-svg-icons/faVk';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { profileSelector } from '../../../components/Common/Selectors/Selectors';\r\nimport { useAppSelector } from '../../../store/store';\r\n\r\nimport style from './ContactBlock.module.scss';\r\n\r\nexport const ContactBlock = () => {\r\n  const profile = useAppSelector(profileSelector);\r\n\r\n  return (\r\n    <div className={style.contactsBlock}>\r\n      <div>\r\n        <strong>Contacts</strong>\r\n      </div>\r\n      {profile.contacts.vk && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faVk} />\r\n          <a href={profile.contacts.vk}>Vk</a>\r\n        </div>\r\n      )}\r\n\r\n      {profile.contacts.instagram && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faInstagram} />\r\n          <a href={profile.contacts.instagram}>Instagram</a>\r\n        </div>\r\n      )}\r\n      {profile.contacts.youtube && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faYoutube} />\r\n          <a href={profile.contacts.youtube}>You tube</a>\r\n        </div>\r\n      )}\r\n\r\n      {profile.contacts.github && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faGithub} />\r\n          <a href={profile.contacts.github}>GitHub</a>\r\n        </div>\r\n      )}\r\n\r\n      {profile.contacts.twitter && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faTwitter} />\r\n          <a href={profile.contacts.twitter}>twitter</a>\r\n        </div>\r\n      )}\r\n      {profile.contacts.facebook && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faFacebook} />\r\n          <a href={profile.contacts.twitter}>faceBook</a>\r\n        </div>\r\n      )}\r\n      {profile.contacts.website && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faFirefoxBrowser} />\r\n          <a href={profile.contacts.website}>Web site</a>\r\n        </div>\r\n      )}\r\n      {profile.contacts.mainLink && (\r\n        <div className={style.contactsBlockItem}>\r\n          <FontAwesomeIcon className={style.icon} icon={faGoogle} />\r\n          <a href={profile.contacts.website}>Main link</a>\r\n        </div>\r\n      )}\r\n      {profile.lookingForAJobDescription && (\r\n        <>\r\n          <div>\r\n            <strong>Job description</strong>\r\n          </div>\r\n          <div className={style.contactsBlockItem}>\r\n            {profile.lookingForAJobDescription}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\n\nimport chatStyles from './ChatBlock.module.scss';\n\ntype OnlineFriendType = {\n  avatar: string;\n};\nexport const ChatBlock = ({ avatar }: OnlineFriendType) => (\n  <div className={chatStyles.onlineFriendsWrapper}>\n    <img className={chatStyles.imgProfilePhoto} src={avatar} alt=\"onlineFriendAvatar\" />\n    <span className={chatStyles.OnlineDot} />\n  </div>\n);\n","import React, { ChangeEvent, useState } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport {\r\n  myIDSelector,\r\n  statusSelector,\r\n} from '../../components/Common/Selectors/Selectors';\r\nimport { updateUserStatusTC } from '../../store/ProfileReducer';\r\nimport { useAppSelector } from '../../store/store';\r\n\r\nimport styles from './Profile.module.scss';\r\n\r\nexport const ProfileStatus = () => {\r\n  const dispatch = useDispatch();\r\n  const status = useAppSelector(statusSelector);\r\n  const [localStatus, setLocalStatus] = useState(status);\r\n  const [editMode, setEditMode] = useState<boolean>(true);\r\n  const userId = useAppSelector(state => state.ProfilePage.profile.userId);\r\n  const myID = useAppSelector(myIDSelector);\r\n\r\n  const activateEditMode = () => {\r\n    setLocalStatus(status);\r\n    setEditMode(false);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    dispatch(updateUserStatusTC(localStatus));\r\n    setEditMode(true);\r\n  };\r\n  const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setLocalStatus(e.currentTarget.value);\r\n  };\r\n  const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      deactivateEditMode();\r\n    }\r\n  };\r\n\r\n  if (userId !== myID) {\r\n    return <div data-testid=\"editableDiv\">{status}</div>;\r\n  }\r\n\r\n  if (editMode && userId === myID && !status) {\r\n    return (\r\n      <div\r\n        onKeyDown={activateEditMode}\r\n        tabIndex={0}\r\n        role=\"button\"\r\n        className={styles.editableDiv}\r\n        onClick={activateEditMode}\r\n      >\r\n        Set status\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (editMode && userId === myID) {\r\n    return (\r\n      <div\r\n        tabIndex={0}\r\n        role=\"button\"\r\n        className={styles.editableDiv}\r\n        data-testid=\"editableMyDiv\"\r\n        onClick={activateEditMode}\r\n        onKeyDown={activateEditMode}\r\n      >\r\n        {status}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <input\r\n      className={styles.input}\r\n      onChange={changeTitle}\r\n      onKeyPress={onKeyPressHandler}\r\n      onBlur={deactivateEditMode}\r\n      type=\"text\"\r\n      data-testid=\"input\"\r\n      value={localStatus}\r\n    />\r\n  );\r\n};\r\n","import React, { ChangeEvent, useRef, useState } from 'react';\n\nimport { Close } from '@mui/icons-material';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport { Box, Typography } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Modal from '@mui/material/Modal/Modal';\nimport Popover from '@mui/material/Popover';\nimport { useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport { myIDSelector } from '../../../components/Common/Selectors/Selectors';\nimport { maxPictureSize } from '../../../constants';\nimport defaultUserPhoto from '../../../Images/defaultUserImage.jpg';\nimport { setAppErrorAC } from '../../../store/AppReducer';\nimport { ProfileDataType, uploadAvatarTC } from '../../../store/ProfileReducer';\nimport { useAppSelector } from '../../../store/store';\nimport { OnlineFriendType } from '../../../store/UserPostsReducer';\nimport { ContactBlock } from '../ContactBlock/ContactBlock';\nimport { ChatBlock } from '../OnlineFriends/ChatBlock';\nimport chatStyles from '../OnlineFriends/ChatBlock.module.scss';\nimport { ProfileStatus } from '../ProfileStatus';\n\nimport styles from './ProfileInfo.module.scss';\n\ntype profileInfoPropsType = {\n  profile: ProfileDataType | undefined;\n};\n\nconst style = {\n  position: 'absolute' as 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 350,\n  bgcolor: '#F9F9FE',\n  boxShadow: 24,\n  p: 4,\n  borderRadius: 2,\n};\nexport const ProfileInfo = React.memo((props: profileInfoPropsType) => {\n  const dispatch = useDispatch();\n  const userPhoto = useAppSelector(state => state.ProfilePage.profile.photos?.large);\n  const userId = Number(useParams<'userId'>().userId);\n  const myId = useAppSelector(myIDSelector);\n  const photoRef = useRef<HTMLInputElement>(null);\n  const onlineFriends = useAppSelector<Array<OnlineFriendType>>(\n    state => state.HardcodedUsers.onlineFriends,\n  );\n  const [openMenu, setOpenMenu] = useState(false);\n  const [openModal, setOpenModal] = useState(false);\n  const [base64Avatar, setLocalAvatar] = useState<any>(userPhoto);\n  const [fileAvatar, setFileAvatar] = useState<any>();\n  const [openPopover, setOpenPopover] = useState(false);\n  const popoverAnchor = useRef(null);\n  const show =\n    props.profile && Object.values(props.profile.contacts).every(item => item !== null);\n\n  const handleCloseModal = () => setOpenModal(false);\n  const handleClosePopover = () => setOpenPopover(false);\n  const handleOpenPopover = () => setOpenPopover(true);\n  const uploadPhoto = () => photoRef.current && photoRef.current.click();\n  const handleSaveAvatar = () => {\n    dispatch(uploadAvatarTC(fileAvatar));\n    handleCloseModal();\n  };\n  const onChangeAvatar = (e: ChangeEvent<HTMLInputElement>) => {\n    const reader = new FileReader();\n    const file = e.target?.files;\n\n    if (\n      file &&\n      file[0].type &&\n      (file[0].type === 'image/png' || file[0].type === 'image/jpeg')\n    ) {\n      setFileAvatar(file[0]);\n      reader.onloadend = () => {\n        setLocalAvatar(reader.result);\n      };\n      if (file[0].size && file[0].size <= maxPictureSize) {\n        reader.readAsDataURL(file[0]);\n      } else {\n        dispatch(\n          setAppErrorAC(\n            `Your file size must be less then ${maxPictureSize / 1000000}MB `,\n          ),\n        );\n      }\n    } else {\n      dispatch(\n        setAppErrorAC(\n          `Your file has not in .png .jpeg format. Please choose the right file`,\n        ),\n      );\n    }\n  };\n  const menuHandler = () => setOpenModal(true);\n  const onlineFriendsArr = onlineFriends.map(f => (\n    <ChatBlock key={f.id} avatar={f.avatar} />\n  ));\n  return (\n    <div className={styles.profileInfoWrapper}>\n      <div className={styles.profilePhoto}>\n        <div\n          className={styles.avatarWrapper}\n          onMouseOver={() => setOpenMenu(true)}\n          onMouseLeave={() => setOpenMenu(false)}\n          onFocus={() => undefined}\n        >\n          {props.profile && (\n            <img src={props.profile.photos?.large ?? defaultUserPhoto} alt=\"userPhoto\" />\n          )}\n          {(userId === myId || Number.isNaN(userId)) && (\n            <button\n              type=\"button\"\n              className={openMenu ? styles.visibleMenu : styles.hiddenMenu}\n              onClick={menuHandler}\n            >\n              <p>Change photo</p>\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className={styles.statusBlock}>\n        <div className={styles.profileName}>\n          {props.profile && <strong>{props.profile.fullName}</strong>}\n          <CheckCircleOutlineIcon\n            className={styles.popover}\n            ref={popoverAnchor}\n            onClick={handleOpenPopover}\n            fontSize=\"small\"\n            color={props.profile && props.profile.lookingForAJob ? 'success' : 'error'}\n          />\n        </div>\n        <div className={styles.profileStatus}>\n          <ProfileStatus />\n        </div>\n        {props.profile && (\n          <p className={styles.profileDescription}>{props.profile.aboutMe}</p>\n        )}\n      </div>\n      {show && <ContactBlock />}\n\n      <div className={chatStyles.ChatBlock}>\n        <span className={chatStyles.Title}>Chat online</span>\n        {onlineFriendsArr}\n      </div>\n      <Modal open={openModal} onClose={handleCloseModal}>\n        <Box sx={style}>\n          <Box>\n            <Box\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                position: 'relative',\n              }}\n            >\n              <strong>\n                <p style={{ fontSize: '20px' }}>Uploading profile photo</p>\n              </strong>\n            </Box>\n            <IconButton\n              style={{ position: 'absolute', top: '5px', right: '10px' }}\n              onClick={handleCloseModal}\n            >\n              <Close />\n            </IconButton>\n          </Box>\n          <Box\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              /* justifyContent: 'space-between', */\n              alignItems: 'center',\n            }}\n          >\n            <Box id=\"outer-container\">\n              <img\n                src={base64Avatar || userPhoto}\n                alt=\"avatar\"\n                width=\"200px\"\n                style={{ borderRadius: '8px', marginBottom: '10px' }}\n              />\n            </Box>\n\n            <Box\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                width: '200px',\n              }}\n            >\n              <input\n                type=\"file\"\n                style={{ display: 'none' }}\n                id=\"answer\"\n                ref={photoRef}\n                accept=\"image/*\"\n                onChange={onChangeAvatar}\n              />\n              <Button\n                sx={{ textTransform: 'none' }}\n                variant=\"contained\"\n                onClick={uploadPhoto}\n              >\n                Upload photo\n              </Button>\n              <Button\n                sx={{ textTransform: 'none' }}\n                variant=\"contained\"\n                onClick={handleSaveAvatar}\n              >\n                Save\n              </Button>\n            </Box>\n            <p>You can upload images in JPG or PNG format</p>\n          </Box>\n        </Box>\n      </Modal>\n      <Popover\n        open={openPopover}\n        anchorEl={popoverAnchor.current}\n        onClose={handleClosePopover}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <Typography sx={{ p: 1 }}>\n          {props.profile && props.profile.lookingForAJob\n            ? 'In search of a job'\n            : 'Not looking for a job'}\n        </Typography>\n      </Popover>\n    </div>\n  );\n});\n","import React from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { placeholderText } from '../../components/Common/TextAreaForm/textAreaData';\r\nimport { useAppSelector } from '../../store/store';\r\nimport { addPostActionAC } from '../../store/UserPostsReducer';\r\nimport ChatPage from '../Chat/ChatPage';\r\n\r\nimport AnyUserPosts from './AnyUserPosts/AnyUserPosts';\r\nimport { MyPosts } from './MyPosts';\r\nimport styles from './Profile.module.scss';\r\nimport { ProfileInfo } from './ProfileInfo/ProfileInfo';\r\n\r\nexport const ProfileFC = React.memo(() => {\r\n  const postsData = useAppSelector(state => state.HardcodedUsers.myPostsData);\r\n  const profile = useAppSelector(state => state.ProfilePage.profile);\r\n  const dispatch = useDispatch();\r\n  const addMessage = (text: string) => dispatch(addPostActionAC(text));\r\n\r\n  return (\r\n    <div className={styles.profileWrapper}>\r\n      <ProfileInfo profile={profile} />\r\n\r\n      <div className={styles.allPostsBlock}>\r\n        <MyPosts\r\n          placeholderText={placeholderText.profileAreaText}\r\n          callBack={addMessage}\r\n          postsData={postsData}\r\n        />\r\n        <AnyUserPosts />\r\n        <ChatPage />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, { FC, useEffect } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { Navigate, useParams } from 'react-router-dom';\r\n\r\nimport { PATH } from '../../App';\r\nimport { isLoggedInSelector } from '../../components/Common/Selectors/Selectors';\r\nimport { getProfileTC, getUserStatusTC } from '../../store/ProfileReducer';\r\nimport { useAppSelector } from '../../store/store';\r\n\r\nimport { ProfileFC } from './ProfileFC';\r\n\r\nexport const ProfileContainerFC: FC = React.memo(() => {\r\n  const dispatch = useDispatch();\r\n  let userId = Number(useParams<'userId'>().userId); //  id    app   <Route path={\"/profile/:userId\"}\r\n  const isLoggedIn = useAppSelector(isLoggedInSelector);\r\n  const myUserID = useAppSelector(state => state.Auth.data.id);\r\n  if (Number.isNaN(userId)) {\r\n    userId = myUserID;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(getProfileTC(userId));\r\n      dispatch(getUserStatusTC(userId));\r\n    }\r\n  }, [userId, dispatch]);\r\n\r\n  if (!isLoggedIn) {\r\n    return <Navigate to={PATH.LOGIN} />;\r\n  }\r\n  return <ProfileFC />;\r\n});\r\n","import React, { ChangeEvent } from 'react';\r\n\r\nimport Button from '@mui/material/Button';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport userPhoto from '../../Images/defaultUserImage.jpg';\r\nimport { UserType } from '../../store/UsersReducer';\r\n\r\nimport style from './users.module.scss';\r\n\r\ntype usersPropsType = {\r\n  totalUserCount: number;\r\n  pageSize: number;\r\n  currentPage: number;\r\n  onPageChanged: (pageNumber: number) => void;\r\n  users: UserType[];\r\n  followingInProgress: Array<string>;\r\n  followTC: (userID: string) => void;\r\n  unfollowTC: (userID: string) => void;\r\n};\r\n\r\nexport const Users = ({\r\n  users,\r\n  totalUserCount,\r\n  currentPage,\r\n  pageSize,\r\n  onPageChanged,\r\n  followingInProgress,\r\n  unfollowTC,\r\n  followTC,\r\n}: usersPropsType) => {\r\n  const navigate = useNavigate();\r\n  const pagesCount = Math.ceil(totalUserCount / pageSize);\r\n  const defaultUserPhoto: string = userPhoto;\r\n  const onPageHandler = (event: ChangeEvent<unknown>, page: number) => {\r\n    onPageChanged(page);\r\n  };\r\n\r\n  return (\r\n    <div className={style.usersWrapper}>\r\n      <Pagination\r\n        color=\"primary\"\r\n        onChange={onPageHandler}\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n        shape=\"rounded\"\r\n        count={pagesCount}\r\n        page={currentPage}\r\n        data-testid=\"pagination\"\r\n      />\r\n      {users.map(user => (\r\n        <div key={user.id} data-testid=\"userArr\">\r\n          <div className={style.usersBlock}>\r\n            <div className={style.avatarAndFollowButton}>\r\n              <div\r\n                onKeyUp={() => navigate(`/profile/${user.id}`)}\r\n                tabIndex={0}\r\n                role=\"button\"\r\n                onClick={() => navigate(`/profile/${user.id}`)}\r\n              >\r\n                <img\r\n                  className={style.avatar}\r\n                  src={user.photos.small ? user.photos.small : defaultUserPhoto}\r\n                  alt=\"user\"\r\n                />\r\n              </div>\r\n              <span>\r\n                {user.followed ? (\r\n                  <Button\r\n                    disabled={followingInProgress.some(id => id === user.id)}\r\n                    onClick={() => {\r\n                      //   thunk creator  ,  userContainerFC unfollowTC  dispatch\r\n                      unfollowTC(user.id);\r\n                    }}\r\n                  >\r\n                    Unfollow\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    disabled={followingInProgress.some(id => id === user.id)}\r\n                    onClick={() => {\r\n                      //   thunk creator  ,  userContainerFC unfollowTC  dispatch\r\n                      // thunk creator    DAL  BLL  UI\r\n                      followTC(user.id);\r\n                    }}\r\n                  >\r\n                    Follow\r\n                  </Button>\r\n                )}\r\n              </span>\r\n            </div>\r\n            <div className={style.nameAndStatus}>\r\n              <h3 className={style.name}>\r\n                <div>{user.name}</div>\r\n              </h3>\r\n              <div className={style.status}>{`Status:  ${\r\n                user.status ?? 'no status'\r\n              }`}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useEffect } from 'react';\n\nimport { useDispatch } from 'react-redux';\n\nimport { Preloader } from '../../components/Common/Preloader/Preloader';\nimport {\n  currentPageSelector,\n  followingArrSelector,\n  isFetchingSelector,\n  pageSizeSelector,\n  totalUserCountSelector,\n  usersSelector,\n} from '../../components/Common/Selectors/Selectors';\nimport { useAppSelector } from '../../store/store';\nimport { follow, getUsersTC, onPageChangedTC, unfollow } from '../../store/UsersReducer';\n\nimport { Users } from './Users';\n\nconst UserContainerFC: FC = React.memo(() => {\n  const dispatch = useDispatch();\n  const users = useAppSelector(usersSelector);\n  const isFetching = useAppSelector(isFetchingSelector);\n  const pageSize = useAppSelector(pageSizeSelector);\n  const currentPage = useAppSelector(currentPageSelector);\n  const totalUserCount = useAppSelector(totalUserCountSelector);\n  const followingArr = useAppSelector(followingArrSelector);\n  // let Redirect= WithAuthRedirect(Users);\n\n  useEffect(() => {\n    dispatch(getUsersTC());\n  }, [currentPage, pageSize, dispatch]);\n\n  const onPageChanged = (pageNumber: number) => {\n    dispatch(onPageChangedTC(pageSize, pageNumber));\n  };\n\n  const unfollowTC = (userID: string) => {\n    dispatch(unfollow(userID));\n  };\n\n  const followTC = (userID: string) => {\n    dispatch(follow(userID));\n  };\n\n  return (\n    <>\n      {isFetching ? (\n        <Preloader />\n      ) : (\n        <Users\n          onPageChanged={onPageChanged}\n          currentPage={currentPage}\n          totalUserCount={totalUserCount}\n          pageSize={pageSize}\n          users={users}\n          followTC={followTC}\n          unfollowTC={unfollowTC}\n          followingInProgress={followingArr}\n        />\n      )}\n    </>\n  );\n});\nexport default UserContainerFC;\n","import React, { FC, useEffect } from 'react';\n\nimport './App.scss';\nimport { useDispatch } from 'react-redux';\nimport { Route, Routes, Navigate } from 'react-router-dom';\n\nimport { Preloader } from './components/Common/Preloader/Preloader';\nimport { isInitializedSelector } from './components/Common/Selectors/Selectors';\nimport { ErrorSnackBar } from './components/ErrorSnackBar/ErrorSnackBar';\nimport withSuspense from './components/HOC/withSuspense';\nimport PrivateRoutes from './components/PrivateRoutes';\nimport { EditProfile } from './Pages/EditProfile/EditProfile';\nimport { Error404 } from './Pages/Error404/Error404';\nimport { EventsContainer } from './Pages/Events/EventsContainer';\nimport { Footer } from './Pages/Footer/Footer';\nimport { Login } from './Pages/Login/Login';\nimport PhotosContainer from './Pages/Photos/PhotosContainer';\nimport { ProfileContainerFC } from './Pages/Profile/ProfileContainerFC';\nimport UsersContainerFC from './Pages/Users/UsersContainerFC';\nimport { RequestStatusType } from './store/AppReducer';\nimport { initializeAppTC } from './store/AuthReducer';\nimport { useAppSelector } from './store/store';\n\nconst SuspendedDialogContainer = React.lazy(\n  () => import('./Pages/Dialogs/DialogContainerFC'),\n);\n\nexport const PATH = {\n  HOME: '/',\n  LOGIN: '/login',\n  PROFILE: '/profile',\n  USERS: '/users',\n  ERROR404: '/404',\n  ANY_ROUTE: '*',\n  DIALOGS: '/dialogs',\n  EVENTS: '/events',\n  PHOTOS: '/photos',\n  EDIT_PROFILE: '/edit_profile',\n};\n\nconst App: FC = () => {\n  const appStatus = useAppSelector<RequestStatusType>(state => state.App.status);\n  const dispatch = useDispatch();\n  const isInitialized = useAppSelector(isInitializedSelector);\n\n  useEffect(() => {\n    dispatch(initializeAppTC());\n  }, [dispatch]);\n\n  if (!isInitialized) {\n    return <Preloader />;\n  }\n  return (\n    <div className=\"App\">\n      <main className=\"mainContent\">\n        {appStatus === 'loading' && <Preloader />}\n        <Routes>\n          <Route path={PATH.HOME} element={<Navigate to={`${PATH.PROFILE}`} />} />\n          <Route element={<PrivateRoutes />}>\n            <Route path={`${PATH.PROFILE}`} element={<ProfileContainerFC />} />\n            <Route path={`${PATH.PROFILE}/:userId`} element={<ProfileContainerFC />} />\n            <Route\n              path={PATH.DIALOGS}\n              element={withSuspense(SuspendedDialogContainer)({})}\n            />\n            <Route path={PATH.USERS} element={<UsersContainerFC />} />\n            <Route path={PATH.EDIT_PROFILE} element={<EditProfile />} />\n          </Route>\n          <Route path={PATH.LOGIN} element={<Login />} />\n          <Route path={PATH.EVENTS} element={<EventsContainer />} />\n          <Route path={PATH.PHOTOS} element={<PhotosContainer />} />\n          <Route path={PATH.ANY_ROUTE} element={<Navigate to={PATH.ERROR404} />} />\n          <Route path={`${PATH.ERROR404}`} element={<Error404 />} />\n        </Routes>\n        <ErrorSnackBar />\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import './index.scss';\nimport React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\nimport { store } from './store/store';\n\n// @ts-ignore\nwindow.store = store;\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n","import axios, { AxiosResponse } from 'axios';\n\nimport { LoginParamsType } from '../store/AuthReducer';\nimport { ProfileDataType } from '../store/ProfileReducer';\nimport { UsersPageType } from '../store/UsersReducer';\n\nexport const instance = axios.create({\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    'API-KEY': 'c3728aab-6f62-411f-9e90-c03d8ff7b899',\n  },\n});\nexport type AuthDataType = {\n  id: number;\n  email: string;\n  login: string;\n};\nexport type RespType<T = {}> = {\n  resultCode: 0;\n  data: T;\n  fieldsErrors: Array<string>;\n  messages: Array<string>;\n};\n\nexport const userAPI = {\n  getUsers(currentPage: number, pageSize: number) {\n    return instance.get<UsersPageType>(`users?page=${currentPage}&count=${pageSize}`);\n  },\n};\n\nexport const profileAPI = {\n  getProfile(userID: number | null) {\n    return instance.get<ProfileDataType>(`profile/${userID}`);\n  },\n  getStatus(userID: number | null) {\n    return instance.get<AxiosResponse<RespType>, any>(`profile/status/${userID}`);\n  },\n  updateStatus(status: string | null) {\n    return instance.put<AxiosResponse<RespType>, any>(`profile/status`, { status });\n  },\n  uploadAvatar(photoFile: File) {\n    const formData = new FormData();\n    formData.append('image', photoFile);\n    return instance.put<RespType<{ photos: { small: ''; large: '' } }>>(\n      `profile/photo`,\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      },\n    );\n  },\n  updateProfile(profile: ProfileDataType) {\n    return instance.put<AxiosResponse<RespType>, any>(`profile`, { ...profile });\n  },\n};\n\nexport const authAPI = {\n  me() {\n    return instance.get<RespType<AuthDataType>>(`auth/me`);\n  },\n  follow(userID: string | undefined) {\n    return instance.post<RespType<AuthDataType>>(`follow/${userID}`);\n  },\n  unfollow(userID: string | undefined) {\n    return instance.delete<RespType<AuthDataType>>(`follow/${userID}`);\n  },\n  login(data: LoginParamsType) {\n    return instance.post<RespType<AuthDataType>>(`auth/login`, data);\n  },\n  logout() {\n    return instance.delete<RespType>('/auth/login');\n  },\n  getFollowers(userID: string | undefined) {\n    return instance.get(`follow/${userID}`);\n  },\n};\nexport const securityAPI = {\n  captcha() {\n    return instance.get<{ url: string | null }>(`/security/get-captcha-url`);\n  },\n};\n","import { profileAPI } from '../api/api';\nimport {\n  handleNetworkError,\n  handleServerAppError,\n  handleServerNetworkError,\n} from '../utils/error.utils';\n\nimport { setAppStatusAC } from './AppReducer';\nimport { setMyProfileAC } from './AuthReducer';\nimport { AppStoreType, AppThunkDispatch, InferActionsTypes } from './store';\n\n// types\n\nexport type ProfileActionsType = InferActionsTypes<typeof actions>;\n/* export type PostTextType = {\n  text: string;\n}; */\nexport type ProfilePageType = {\n  profile: ProfileDataType;\n  status: string;\n};\nexport type PostType = {\n  id: string;\n  message: string;\n  likesCount: number;\n};\nexport type UserProfileContactType = {\n  facebook: string;\n  website: string;\n  vk: string;\n  twitter: string;\n  instagram: string;\n  youtube: string;\n  github: string;\n  mainLink: string;\n};\nexport type userProfilePhotosType = {\n  small: string;\n  large: string;\n};\nexport type ProfileDataType = {\n  userId: number;\n  aboutMe?: string;\n  lookingForAJob?: boolean;\n  lookingForAJobDescription?: string;\n  fullName?: string;\n  contacts: Partial<UserProfileContactType>;\n  photos?: userProfilePhotosType;\n};\n\n// actions\nexport const actions = {\n  /* updateNewPostTextAC: (text: PostTextType) =>\n    ({ type: 'PROFILE/UPDATE-NEW-POST-TEXT', text } as const), */\n  setUserProfileAC: (profile: ProfileDataType) =>\n    ({ type: 'PROFILE/SET-SOME-USER-PROFILE', profile } as const),\n  setStatusAC: (status: string) => ({ type: 'PROFILE/SET-STATUS', status } as const),\n};\n\nconst initialState: ProfilePageType = {\n  status: '',\n  profile: {\n    userId: 0,\n    fullName: '',\n    lookingForAJob: true,\n    lookingForAJobDescription: '',\n    aboutMe: '',\n    contacts: {\n      facebook: '',\n      github: '',\n      instagram: '',\n      mainLink: '',\n      twitter: '',\n      vk: '',\n      website: '',\n      youtube: '',\n    },\n    photos: {\n      small: '',\n      large: '',\n    },\n  },\n};\nexport const profileReducer = (\n  state: ProfilePageType = initialState,\n  action: ProfileActionsType,\n): ProfilePageType => {\n  switch (action.type) {\n    case 'PROFILE/SET-SOME-USER-PROFILE':\n      return { ...state, profile: action.profile };\n    case 'PROFILE/SET-STATUS':\n      return { ...state, status: action.status };\n    default:\n      return state;\n  }\n};\n// thunks\nexport const getProfileTC =\n  (userId: number | null, isMyProfile?: boolean) =>\n  async (dispatch: AppThunkDispatch) => {\n    dispatch(setAppStatusAC('loading'));\n    try {\n      const res = await profileAPI.getProfile(userId);\n      if (isMyProfile) {\n        dispatch(setMyProfileAC(res.data));\n      } else {\n        dispatch(actions.setUserProfileAC(res.data));\n      }\n      dispatch(setAppStatusAC('succeeded'));\n    } catch (error: any) {\n      handleNetworkError(error, dispatch);\n    }\n  };\n\nexport const getUserStatusTC =\n  (userId: number | null) => async (dispatch: AppThunkDispatch) => {\n    dispatch(setAppStatusAC('loading'));\n\n    try {\n      const res = await profileAPI.getStatus(userId);\n      if (res.status === 200) {\n        dispatch(actions.setStatusAC(res.data));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleServerAppError(res.data, dispatch);\n      }\n    } catch (error: any) {\n      console.log('Error when you try get user status', error);\n      handleServerNetworkError(error, dispatch);\n    }\n  };\n\nexport const updateUserStatusTC =\n  (status: string) => async (dispatch: AppThunkDispatch) => {\n    dispatch(setAppStatusAC('loading'));\n\n    try {\n      const res = await profileAPI.updateStatus(status);\n      if (res.data.resultCode === 0) {\n        dispatch(actions.setStatusAC(status));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleServerAppError(res.data, dispatch);\n      }\n    } catch (error: any) {\n      console.log('Error when you try update user status', error);\n      handleServerNetworkError(error, dispatch);\n    }\n  };\n\nexport const uploadAvatarTC =\n  (photoFile: File) =>\n  async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\n    dispatch(setAppStatusAC('loading'));\n    const userId = getState().Auth.data.id;\n    try {\n      const res = await profileAPI.uploadAvatar(photoFile);\n      if (res.data.resultCode === 0) {\n        dispatch(setAppStatusAC('succeeded'));\n        await dispatch(getProfileTC(userId));\n      } else {\n        handleServerAppError(res.data, dispatch);\n      }\n    } catch (error: any) {\n      console.log('Error when you try upload avatar', error);\n      handleServerNetworkError(error, dispatch);\n    }\n  };\nexport const updateProfileTC =\n  (profile: ProfileDataType) =>\n  async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\n    dispatch(setAppStatusAC('loading'));\n\n    const userId = getState().Auth.data.id;\n    try {\n      const res = await profileAPI.updateProfile(profile);\n      if (res.data.resultCode === 0) {\n        await dispatch(getProfileTC(userId, true));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleServerAppError(res.data, dispatch);\n      }\n    } catch (error: any) {\n      console.log('Error when you try update profile', error);\n      handleServerNetworkError(error, dispatch);\n    }\n  };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrapper\":\"ProfileInfo_profileInfoWrapper__7u0G1\",\"profilePhoto\":\"ProfileInfo_profilePhoto__1Z3hR\",\"avatarWrapper\":\"ProfileInfo_avatarWrapper__3-ZYX\",\"hiddenMenu\":\"ProfileInfo_hiddenMenu__2aKH7\",\"visibleMenu\":\"ProfileInfo_visibleMenu__3oWSX\",\"statusBlock\":\"ProfileInfo_statusBlock__YVqts\",\"profileName\":\"ProfileInfo_profileName__32WMW\",\"popover\":\"ProfileInfo_popover__H9pwB\",\"profileStatus\":\"ProfileInfo_profileStatus__34d8T\",\"profileDescription\":\"ProfileInfo_profileDescription__3_rAm\",\"modalMainBox\":\"ProfileInfo_modalMainBox__1USPE\",\"avatarBlock\":\"ProfileInfo_avatarBlock__CjmwA\",\"avatarImg\":\"ProfileInfo_avatarImg__3Lc0_\",\"iconUpload\":\"ProfileInfo_iconUpload__1iiq6\"};","import { authAPI, AuthDataType, securityAPI } from '../api/api';\nimport {\n  handleNetworkError,\n  handleServerAppError,\n  handleServerNetworkError,\n} from '../utils/error.utils';\n\nimport { setAppStatusAC } from './AppReducer';\nimport { getProfileTC, ProfileDataType } from './ProfileReducer';\nimport { AppThunkDispatch } from './store';\n\n// types\nexport enum ACTIONS_TYPE {\n  SET_IS_LOGGED_IN = 'AUTH/SET-IS-LOGGED-IN',\n  SET_IS_INITIALIZED = 'AUTH/SET-IS-INITIALIZED',\n  SET_AUTH_DATA = 'AUTH/SET-AUTH-DATA',\n  GET_CAPTCHA = 'AUTH/GET-CAPTCHA',\n  SET_AUTH_PROFILE_DATA = 'AUTH/SET-AUTH-PROFILE-DATA',\n}\n\nexport type AuthActionsType =\n  | ReturnType<typeof setIsLoggedInAC>\n  | ReturnType<typeof setInitializedAC>\n  | ReturnType<typeof setAuthProfileAC>\n  | ReturnType<typeof getCaptchaAC>\n  | ReturnType<typeof setMyProfileAC>;\n\nexport type LoginParamsType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha: string | null;\n};\n\ntype InitialStateType = {\n  data: AuthDataType;\n  isInitialized: boolean;\n  isLoggedIn: boolean;\n  captchaUrl: null | string;\n  myProfile: undefined | ProfileDataType;\n};\n\nconst initialState: InitialStateType = {\n  data: {\n    id: 0,\n    email: '',\n    login: '',\n  },\n  isInitialized: false,\n  isLoggedIn: false,\n  captchaUrl: null,\n  myProfile: undefined as undefined | ProfileDataType,\n};\n\n// reducer\nexport const authReducer = (\n  state: InitialStateType = initialState,\n  action: AuthActionsType,\n): InitialStateType => {\n  switch (action.type) {\n    case ACTIONS_TYPE.SET_IS_LOGGED_IN:\n      return { ...state, isLoggedIn: action.isLoggedIn };\n    case ACTIONS_TYPE.SET_IS_INITIALIZED:\n      return { ...state, isInitialized: action.isInitialized };\n    case ACTIONS_TYPE.SET_AUTH_DATA:\n      return { ...state, data: action.data };\n    case ACTIONS_TYPE.GET_CAPTCHA:\n      return { ...state, captchaUrl: action.captcha };\n    case ACTIONS_TYPE.SET_AUTH_PROFILE_DATA:\n      return { ...state, myProfile: action.profile };\n    default:\n      return state;\n  }\n};\n// action creators\nexport const setIsLoggedInAC = (isLoggedIn: boolean) =>\n  ({ type: ACTIONS_TYPE.SET_IS_LOGGED_IN, isLoggedIn } as const);\nexport const setInitializedAC = (isInitialized: boolean) =>\n  ({ type: ACTIONS_TYPE.SET_IS_INITIALIZED, isInitialized } as const);\nexport const setAuthProfileAC = (profileData: AuthDataType) =>\n  ({ type: ACTIONS_TYPE.SET_AUTH_DATA, data: profileData } as const);\nexport const getCaptchaAC = (captcha: string | null) =>\n  ({ type: ACTIONS_TYPE.GET_CAPTCHA, captcha } as const);\nexport const setMyProfileAC = (profile: ProfileDataType) =>\n  ({\n    type: ACTIONS_TYPE.SET_AUTH_PROFILE_DATA,\n    profile,\n  } as const);\n\n// thunks\nexport const initializeAppTC = () => async (dispatch: AppThunkDispatch) => {\n  try {\n    const res = await authAPI.me();\n    if (res.data.resultCode === 0) {\n      dispatch(setAuthProfileAC(res.data.data));\n      await dispatch(getProfileTC(res.data.data.id, true)); //   ,       \n      dispatch(setIsLoggedInAC(true));\n    } else {\n      dispatch(setAppStatusAC('failed'));\n    }\n  } catch (error: any) {\n    console.log('Error when you try initialize app', error);\n    handleNetworkError(error, dispatch);\n  } finally {\n    dispatch(setInitializedAC(true));\n  }\n};\n\nexport const logOutTC = () => async (dispatch: AppThunkDispatch) => {\n  const res = await authAPI.logout();\n  try {\n    if (res.data.resultCode === 0) {\n      dispatch(setIsLoggedInAC(false));\n    } else {\n      handleServerAppError(res.data, dispatch);\n    }\n  } catch (error: any) {\n    console.log('Error when you try to logout', error);\n    handleServerNetworkError(error, dispatch);\n  }\n};\n\nexport const getCaptchaTC = () => async (dispatch: AppThunkDispatch) => {\n  const res = await securityAPI.captcha();\n  try {\n    dispatch(getCaptchaAC(res.data.url));\n  } catch (error: any) {\n    console.log('Error when you try to logout', error);\n    handleServerNetworkError(error, dispatch);\n  }\n};\nexport const loginTC = (data: LoginParamsType) => async (dispatch: AppThunkDispatch) => {\n  try {\n    const res = await authAPI.login(data);\n    if (res.data.resultCode === 0) {\n      dispatch(setIsLoggedInAC(true));\n      dispatch(getCaptchaAC(null));\n      dispatch(await initializeAppTC());\n    } else {\n      if (res.data.resultCode === 10) {\n        dispatch(await getCaptchaTC());\n      }\n      handleServerAppError(res.data, dispatch);\n    }\n  } catch (error: any) {\n    console.log('Error when you try to login', error);\n    handleServerNetworkError(error, dispatch);\n  }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"AnyUserPosts_itemWrapper__1a-L3\",\"anyUserPost\":\"AnyUserPosts_anyUserPost__36NTC\",\"userWrapper\":\"AnyUserPosts_userWrapper__1SuFd\",\"userPhotoAndDescriptionBlock\":\"AnyUserPosts_userPhotoAndDescriptionBlock__16URh\",\"userDescription\":\"AnyUserPosts_userDescription__9rICy\",\"userPosition\":\"AnyUserPosts_userPosition__3sBI1\",\"postPhoto\":\"AnyUserPosts_postPhoto__2HKUc\",\"likeBlock\":\"AnyUserPosts_likeBlock__1g8gy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"devChatMessageBlock\":\"Message_devChatMessageBlock__3_uOl\",\"myImgAndMessage\":\"Message_myImgAndMessage__NhvVY\",\"someUserImgAndMessage\":\"Message_someUserImgAndMessage__34Iu4\",\"myNameAndMessage\":\"Message_myNameAndMessage__34b1v\",\"someUserNameAndMessage\":\"Message_someUserNameAndMessage__1Ep3m\"};","import { StatusType } from '../store/chatReducer';\n// types\nexport type ChatMessageAPIType = {\n  message: string;\n  photo: string;\n  userId: number;\n  userName: string;\n};\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void;\ntype StatusChangedSubscriberType = (status: StatusType) => void;\nconst subscribers = {\n  messageReceived: [] as MessagesReceivedSubscriberType[],\n  statusChanged: [] as StatusChangedSubscriberType[],\n};\n\nexport type EventNamesType = 'messageReceived' | 'statusChanged';\n\nlet isShowCloseAlert = true;\nlet ws: WebSocket | null = null;\nlet alertCounter = false;\nconst notifySubscribersAboutStatus = (status: StatusType) =>\n  subscribers.statusChanged.forEach(s => s(status));\nconst openHandler = () => {\n  if (alertCounter) {\n    alert('Internet connection was restored');\n  }\n  notifySubscribersAboutStatus('ready');\n};\nconst errorHandler = () => {\n  notifySubscribersAboutStatus('error');\n};\nconst closeHandler = () => {\n  if (isShowCloseAlert) {\n    alert('Internet connection was interrupted');\n    isShowCloseAlert = false;\n  }\n  notifySubscribersAboutStatus('pending');\n\n  setTimeout(createChannel, 3000);\n  alertCounter = true;\n};\nconst messageHandler = (e: MessageEvent) => {\n  const newMessages = JSON.parse(e.data);\n  subscribers.messageReceived.forEach(s => s(newMessages));\n};\nconst cleanUp = () => {\n  ws?.removeEventListener('close', closeHandler); // (  \"   ,  \")        \n  ws?.removeEventListener('message', messageHandler);\n  ws?.removeEventListener('open', openHandler);\n  ws?.removeEventListener('error', errorHandler);\n};\nexport function createChannel() {\n  cleanUp();\n  ws?.close(); //      \n  ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\n  notifySubscribersAboutStatus('pending');\n  ws.addEventListener('close', closeHandler);\n  ws.addEventListener('message', messageHandler);\n  ws.addEventListener('open', openHandler);\n  ws.addEventListener('error', errorHandler);\n}\n\nexport const chatAPI = {\n  subscribe(\n    eventName: EventNamesType,\n    callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType,\n  ) {\n    // @ts-ignore\n    subscribers[eventName].push(callback);\n    return () => {\n      // @ts-ignore\n      subscribers[eventName] = subscribers[eventName].filter(s => s !== callback);\n    };\n  },\n  unSubscribe(\n    eventName: EventNamesType,\n    callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType,\n  ) {\n    // @ts-ignore\n    subscribers[eventName] = subscribers[eventName].filter(s => s !== callback);\n  },\n  sendMessage(message: string) {\n    ws?.send(message);\n  },\n  start() {\n    createChannel();\n  },\n  stop() {\n    subscribers.messageReceived = [];\n    subscribers.statusChanged = [];\n    cleanUp();\n    ws?.close();\n  },\n};\n","import { Dispatch } from 'redux';\nimport { v1 } from 'uuid';\n\nimport { chatAPI, ChatMessageAPIType } from '../api/chatAPI';\n\nimport { AppThunkDispatch } from './store';\n\n// types\nexport enum ACTIONS_TYPE {\n  SET_MESSAGES = 'CHAT/SET-MESSAGES',\n  SAVE_MESSAGES_COUNT = 'CHAT/SAVE-MESSAGES-COUNT',\n  CHANGE_STATUS = 'CHAT/CHANGE-STATUS',\n}\n\nexport type StatusType = 'pending' | 'ready' | 'error';\nexport type ChatActionsType =\n  | ReturnType<typeof setMessagesAC>\n  | ReturnType<typeof changeStatusAC>\n  | ReturnType<typeof setStartMessagesCountAC>;\n\nexport type ChatMessageType = ChatMessageAPIType & { id: string };\n\ntype InitialStateType = {\n  messages: ChatMessageType[];\n  startMessagesCount: number;\n  status: StatusType;\n};\n\nconst initialState: InitialStateType = {\n  messages: [] as Array<ChatMessageType>,\n  startMessagesCount: 0,\n  status: 'pending',\n};\n\n// reducer\nexport const chatReducer = (\n  state: InitialStateType = initialState,\n  action: ChatActionsType,\n): InitialStateType => {\n  switch (action.type) {\n    case ACTIONS_TYPE.SET_MESSAGES:\n      if (action.messages.length === 1) {\n        return {\n          ...state,\n          messages: [\n            ...state.messages,\n            ...action.messages.map(m => ({ ...m, id: v1() })),\n          ] /* .filter((m, index, arr) => index >= arr.length - 100) */,\n        };\n      }\n      return {\n        ...state,\n        messages: action.messages.map(m => ({ ...m, id: v1() })),\n      };\n    case ACTIONS_TYPE.CHANGE_STATUS:\n      return {\n        ...state,\n        status: action.status,\n      };\n    case ACTIONS_TYPE.SAVE_MESSAGES_COUNT:\n      return {\n        ...state,\n        startMessagesCount: action.startMessagesCount,\n      };\n    default:\n      return state;\n  }\n};\n// action creators\n\nexport const setMessagesAC = (messages: ChatMessageAPIType[]) =>\n  ({ type: ACTIONS_TYPE.SET_MESSAGES, messages } as const);\nexport const setStartMessagesCountAC = (startMessagesCount: number) =>\n  ({ type: ACTIONS_TYPE.SAVE_MESSAGES_COUNT, startMessagesCount } as const);\nexport const changeStatusAC = (status: StatusType) =>\n  ({ type: ACTIONS_TYPE.CHANGE_STATUS, status } as const);\n\n// thunks\n\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\n\nconst newMessageHandlerCreator = (\n  dispatch: Dispatch,\n): ((messages: ChatMessageAPIType[]) => void) => {\n  if (_newMessageHandler === null) {\n    //  \n    _newMessageHandler = messages => {\n      dispatch(setMessagesAC(messages));\n    };\n  }\n  return _newMessageHandler;\n};\n\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null;\n\nconst statusChangedHandlerCreator = (\n  dispatch: Dispatch,\n): ((status: StatusType) => void) => {\n  if (_statusChangedHandler === null) {\n    //  \n    _statusChangedHandler = status => dispatch(changeStatusAC(status));\n  }\n  return _statusChangedHandler;\n};\nexport const startMessagesListeningTC = () => async (dispatch: AppThunkDispatch) => {\n  try {\n    chatAPI.start();\n    chatAPI.subscribe('messageReceived', newMessageHandlerCreator(dispatch));\n    chatAPI.subscribe('statusChanged', statusChangedHandlerCreator(dispatch));\n  } catch (e) {\n    console.log(e);\n  }\n};\nexport const stopMessagesListeningTC = () => async (dispatch: AppThunkDispatch) => {\n  try {\n    chatAPI.unSubscribe('messageReceived', newMessageHandlerCreator(dispatch));\n    chatAPI.unSubscribe('statusChanged', statusChangedHandlerCreator(dispatch));\n    chatAPI.stop();\n  } catch (e) {\n    console.log(e);\n  }\n};\nexport const sendMessageTC = (message: string) => async () => {\n  try {\n    chatAPI.sendMessage(message);\n  } catch (e) {\n    console.log(e);\n  }\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"login_loginWrapper__2tuy6\",\"login\":\"login_login__1VMOr\",\"h2\":\"login_h2__37Ocr\",\"newPassTextFields\":\"login_newPassTextFields__10SKw\",\"textFields\":\"login_textFields__3Ui3E\",\"emailError\":\"login_emailError__1RAOW\",\"passError\":\"login_passError__-3ZUH\",\"checkbox\":\"login_checkbox__1EgJR\",\"button\":\"login_button__2wXv-\"};","export default __webpack_public_path__ + \"static/media/defaultUserImage.ed37b80a.jpg\";","import { v1 } from 'uuid';\r\n\r\nimport postPhoto from '../Images/Post photo.png';\r\nimport user1 from '../Images/Users/user-1.jpg';\r\nimport user2 from '../Images/Users/user-2.jpg';\r\nimport user3 from '../Images/Users/user-3.jpg';\r\nimport user4 from '../Images/Users/user-4.jpg';\r\nimport user5 from '../Images/Users/user-5.jpg';\r\nimport user6 from '../Images/Users/user-6.jpg';\r\nimport user7 from '../Images/Users/user-7.jpg';\r\nimport user8 from '../Images/Users/user-8.jpg';\r\nimport user9 from '../Images/Users/user-9.jpg';\r\n\r\nimport { PostType } from './ProfileReducer';\r\n\r\nexport type OnlineFriendType = {\r\n  id: string;\r\n  avatar: string;\r\n};\r\n\r\nenum ACTIONS_TYPE {\r\n  ADD_POST = 'PROFILE/ADD-POST',\r\n  DELETE_MY_POST = 'PROFILE/DELETE-MY-POST',\r\n  DELETE_USERS_POST = 'PROFILE/DELETE-USERS-POST',\r\n}\r\n\r\nexport type UsersOnWallType = {\r\n  id: string;\r\n  avatar: string;\r\n  name: string;\r\n  position: string;\r\n  postText: string;\r\n  postPhoto: string | undefined;\r\n};\r\nexport type ProfileActionsType =\r\n  | ReturnType<typeof addPostActionAC>\r\n  | ReturnType<typeof deleteMyPostAC>\r\n  | ReturnType<typeof deleteUsersPostAC>;\r\n\r\nexport type PostsType = {\r\n  onlineFriends: Array<OnlineFriendType>;\r\n  anyUserPostsData: Array<UsersOnWallType>;\r\n  myPostsData: Array<PostType>;\r\n};\r\nconst initialState: PostsType = {\r\n  myPostsData: [\r\n    { id: v1(), message: 'I want to be a serious frontend developer.', likesCount: 0 },\r\n  ],\r\n  onlineFriends: [\r\n    { id: v1(), avatar: user1 },\r\n    { id: v1(), avatar: user2 },\r\n    { id: v1(), avatar: user3 },\r\n    { id: v1(), avatar: user4 },\r\n    { id: v1(), avatar: user5 },\r\n    { id: v1(), avatar: user6 },\r\n    { id: v1(), avatar: user7 },\r\n    { id: v1(), avatar: user8 },\r\n    { id: v1(), avatar: user9 },\r\n  ],\r\n  anyUserPostsData: [\r\n    {\r\n      id: v1(),\r\n      avatar: user5,\r\n      name: 'Theresa Steward',\r\n      position: 'iOS developer',\r\n      postPhoto: undefined,\r\n      postText:\r\n        'What did the Dursleys care if Harry lost his place on the House Quidditch team because he hadnt practiced all summer? ' +\r\n        'What was it to the Dursleys if Harry went back to school without any of his homework done? ' +\r\n        'The Dursleys were what wizards called Muggles (not a drop of magical blood in their veins).',\r\n    },\r\n    {\r\n      id: v1(),\r\n      avatar: user4,\r\n      name: 'Kyle Fisher',\r\n      position: 'Product manager',\r\n      postPhoto,\r\n      postText: \"How's your day going, guys?\",\r\n    },\r\n    {\r\n      id: v1(),\r\n      avatar: user7,\r\n      name: 'Audrey Alexander',\r\n      position: 'Android developer',\r\n      postPhoto: undefined,\r\n      postText:\r\n        'The bun runs along the road and meets a wolf. Little bun, little bun, I want to eat you! says the wolf. ' +\r\n        'I ran away from Grandfather, I ran away from Grandmother, I ran away from the hare. ' +\r\n        'And I can run away from you, grey wolf! says the bun and runs away.',\r\n    },\r\n  ],\r\n};\r\nconst UserPostsReducer = (\r\n  state: PostsType = initialState,\r\n  action: ProfileActionsType,\r\n) => {\r\n  switch (action.type) {\r\n    case ACTIONS_TYPE.ADD_POST:\r\n      return {\r\n        ...state,\r\n        myPostsData: [\r\n          ...state.myPostsData,\r\n          { id: v1(), message: action.message, likesCount: 0 },\r\n        ],\r\n      };\r\n    case ACTIONS_TYPE.DELETE_MY_POST:\r\n      return {\r\n        ...state,\r\n        myPostsData: state.myPostsData.filter(post => post.id !== action.id),\r\n      };\r\n    case ACTIONS_TYPE.DELETE_USERS_POST:\r\n      return {\r\n        ...state,\r\n        anyUserPostsData: state.anyUserPostsData.filter(post => post.id !== action.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// actions\r\nexport const addPostActionAC = (message: string) =>\r\n  ({ type: ACTIONS_TYPE.ADD_POST, message } as const);\r\nexport const deleteMyPostAC = (id: string) =>\r\n  ({ type: ACTIONS_TYPE.DELETE_MY_POST, id } as const);\r\nexport const deleteUsersPostAC = (id: string) =>\r\n  ({ type: ACTIONS_TYPE.DELETE_USERS_POST, id } as const);\r\n\r\nexport default UserPostsReducer;\r\n","export default __webpack_public_path__ + \"static/media/Post photo.0bd8ec12.png\";","export default __webpack_public_path__ + \"static/media/user-1.bad1de9b.jpg\";","export default __webpack_public_path__ + \"static/media/user-2.39d014b5.jpg\";","export default __webpack_public_path__ + \"static/media/user-3.5c342bb7.jpg\";","export default __webpack_public_path__ + \"static/media/user-5.95d001b9.jpg\";","export default __webpack_public_path__ + \"static/media/user-6.f8a10ddf.jpg\";","export default __webpack_public_path__ + \"static/media/user-7.aed715d8.jpg\";","export default __webpack_public_path__ + \"static/media/user-8.ae463966.jpg\";","export default __webpack_public_path__ + \"static/media/user-9.aa6a890d.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"users_usersWrapper__3mVRj\",\"usersBlock\":\"users_usersBlock__3yu-x\",\"avatarAndFollowButton\":\"users_avatarAndFollowButton__2bSla\",\"avatar\":\"users_avatar__Ckmk1\",\"nameAndStatus\":\"users_nameAndStatus__2I9Mt\",\"status\":\"users_status__1_p6J\",\"name\":\"users_name__3QGx-\"};"],"sourceRoot":""}