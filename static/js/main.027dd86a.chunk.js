(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[0],{103:function(e,t,n){e.exports={mainBox:"boxStyle_mainBox__24wr7"}},106:function(e,t,n){},115:function(e,t,n){},120:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);n(115);var r,a=n(48),s=n.n(a),c=n(0),o=n.n(c),i=(n(120),n(51)),u=n.n(i),l=n(12),d=n(17),j=n(19),f=n.n(j),b=n(31),O=n(8),p=n(97),h=n.n(p).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c3728aab-6f62-411f-9e90-c03d8ff7b899"}}),m=function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t))},v=function(e){return h.get("profile/".concat(e))},g=function(e){return h.get("profile/status/".concat(e))},x=function(e){return h.put("profile/status",{status:e})},_=function(){return h.get("auth/me")},E=function(e){return h.post("follow/".concat(e))},P=function(e){return h.delete("follow/".concat(e))},S=function(e){return h.post("auth/login",e)},T=function(){return h.delete("/auth/login")};!function(e){e.APP_SET_ERROR="APP-SET-ERROR"}(r||(r={}));var I,w={error:""},N=function(e){return{type:r.APP_SET_ERROR,error:e}},k=21748;!function(e){e.AUTH_SET_IS_LOGGED_IN="SET-IS-LOGGED-IN",e.AUTH_SET_IS_INITIALIZED="SET-IS-INITIALIZED",e.AUTH_SET_PROFILE_DATA="SET-PROFILE-DATA"}(I||(I={}));var A={data:{id:k,email:"",login:""},isInitialized:!1,isLoggedIn:!1},y=function(e){return{type:I.AUTH_SET_IS_LOGGED_IN,isLoggedIn:e}},L=n(62),D=n(150),C=n(18),R=n(1);function F(){var e=Object(l.g)(),t=Object(d.b)(),n=Object(d.c)(C.e);return Object(R.jsxs)("div",{className:u.a.headerContent,children:[Object(R.jsx)("img",{src:"https://templates.envytheme.com/zust/default/assets/images/logo.png",alt:"logo"}),Object(R.jsxs)("div",{className:u.a.loginBlock,children:[n&&Object(R.jsx)(L.a,{}),n&&Object(R.jsx)(D.a,{className:u.a.login,onClick:function(){t(function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:n=e.sent;try{0===n.data.resultCode&&t(y(!1))}catch(r){console.log(r.message)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e("/login")},children:"Log out"})]})]})}function U(){return Object(R.jsx)("header",{className:u.a.headerWrapper,children:Object(R.jsx)(F,{})})}var B=n(43),W=n.n(B),M=n(47),G=n.n(M),H=n(22);function z(e){return Object(R.jsxs)("div",{className:G.a.onlineFriendsWrapper,children:[Object(R.jsx)("img",{className:G.a.imgProfilePhoto,src:e.avatar,alt:"onlineFriendAvatar"}),Object(R.jsx)("span",{className:G.a.OnlineDot})]})}function Z(e){var t=e.SideBar.onlineFriends.map((function(e){return Object(R.jsx)(H.b,{to:"/friends"+e.id,children:Object(R.jsx)(z,{id:e.id,avatar:e.avatar})},e.id)}));return Object(R.jsxs)("aside",{className:W.a.sideWrapper,children:[Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/profile/".concat(k),style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Profile"})}),Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/dialogs",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Messages"})}),Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/events",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Events"})}),Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/photos",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Photos"})}),Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/users",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Find Friends"})}),Object(R.jsx)("div",{className:W.a.NavItem,children:Object(R.jsx)(H.b,{to:"/settings",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Settings"})}),Object(R.jsxs)("div",{className:G.a.ChatBlock,children:[Object(R.jsx)("span",{className:G.a.Title,children:"Chat online"}),t]})]})}var Y,J=n(59),V=n(92),X=n(21),q={onlineFriends:[{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-4.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-3.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-6.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-2.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-7.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-10.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-9.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-5.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-8.jpg"}]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return e},Q=n(10),$={items:[],pageSize:7,totalCount:1,currentPage:1,isFetching:!0,following:[]},ee=function(e){return{type:"FOLLOW",userID:e}},te=function(e){return{type:"UNFOLLOW",userID:e}},ne=function(e){return{type:"SET-USERS",users:e}},re=function(e){return{type:"SET-TOTAL-USERS-COUNT",totalCount:e}},ae=function(e){return{type:"IS-FETCHING",isFetching:e}},se=function(e,t){return{type:"IS-FOLLOWING-PROGRESS",followingIsProgress:e,userID:t}},ce=n(102);!function(e){e.SET_PROFILE="PROFILE/SET-PROFILE",e.ADD_POST="ADD-POST",e.SET_MY_PROFILE_PHOTO="PROFILE/SET-MY-PROFILE_PHOTO",e.UPDATE_NEW_POST_TEXT="PROFILE/UPDATE-NEW-POST-TEXT",e.SET_SOME_USER_PROFILE="PROFILE/SET-SOME-USER-PROFILE",e.SET_STATUS="PROFILE/SET-STATUS",e.DELETE_POST="PROFILE/DELETE-POST"}(Y||(Y={}));var oe=function(e){return{type:Y.SET_STATUS,status:e}},ie={postsData:[{id:Object(X.v1)(),message:"Do you have a job for me? What if I find it?",likesCount:0},{id:Object(X.v1)(),message:"I want to be a serious frontend developer.",likesCount:0},{id:Object(X.v1)(),message:"What is the good weather today,isn't it?",likesCount:0}],status:"",photo:"",profile:{fullName:"",lookingForAJob:!0,lookingForAJobDescription:"",aboutMe:"",contacts:{facebook:"",github:"",instagram:"",mainLink:"",twitter:"",vk:"",website:"",youtube:""},photos:{small:"",large:""}}},ue=function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:r=t.sent;try{n((a=r.data,{type:Y.SET_SOME_USER_PROFILE,profile:a}))}catch(s){console.log(s.message)}case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:r=t.sent;try{200===r.status&&n(oe(r.data))}catch(a){console.log(a.message)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},de=Object(J.b)({ProfilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.ADD_POST:return Object(O.a)(Object(O.a)({},e),{},{postsData:[].concat(Object(Q.a)(e.postsData),[{id:Object(X.v1)(),message:t.data,likesCount:0}])});case Y.SET_SOME_USER_PROFILE:return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});case Y.SET_MY_PROFILE_PHOTO:return Object(O.a)(Object(O.a)({},e),{},{photo:t.photo});case Y.SET_STATUS:return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case Y.DELETE_POST:return Object(O.a)(Object(O.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});default:return e}},DialogPage:V.b,SideBar:K,UsersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(O.a)(Object(O.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(O.a)(Object(O.a)({},e),{},{items:t.users});case"SET-CURRENT-PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalCount:t.totalCount});case"IS-FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"IS-FOLLOWING-PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{following:t.followingIsProgress?[].concat(Object(Q.a)(e.following),[t.userID]):e.following.filter((function(e){return e!==t.userID}))});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.AUTH_SET_IS_LOGGED_IN:return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.isLoggedIn});case I.AUTH_SET_IS_INITIALIZED:return Object(O.a)(Object(O.a)({},e),{},{isInitialized:t.isInitialized});case I.AUTH_SET_PROFILE_DATA:return Object(O.a)(Object(O.a)({},e),{},{data:t.data});default:return e}},App:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.APP_SET_ERROR:return Object(O.a)(Object(O.a)({},e),{},{error:t.error});default:return e}}}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.c,fe=Object(J.d)(de,je(Object(J.a)(ce.a))),be=d.c;window.store=fe;var Oe=n(44),pe=n.n(Oe),he=n(49),me=n(186);function ve(e){var t=e.users,n=e.totalUserCount,r=e.currentPage,a=e.pageSize,s=e.onPageChanged,c=e.followingInProgress,o=e.unfollowTC,i=e.followTC,u=Object(l.g)(),d=Math.ceil(n/a),j=he.a;return Object(R.jsxs)("div",{className:pe.a.usersWrapper,children:[Object(R.jsx)(me.a,{color:"primary",onChange:function(e,t){s(t)},size:"small",variant:"outlined",shape:"rounded",count:d,page:r,"data-testid":"pagination"}),t.map((function(e){var t;return Object(R.jsx)("div",{"data-testid":"userArr",children:Object(R.jsxs)("div",{className:pe.a.usersBlock,children:[Object(R.jsxs)("div",{className:pe.a.avatarAndFollowButton,children:[Object(R.jsx)("img",{onClick:function(){return u("/profile/".concat(e.id))},className:pe.a.avatar,src:e.photos.small?e.photos.small:j,alt:"user"}),Object(R.jsx)("span",{children:e.followed?Object(R.jsx)(D.a,{disabled:c.some((function(t){return t===e.id})),onClick:function(){o(e.id)},children:"Unfollow"}):Object(R.jsx)(D.a,{disabled:c.some((function(t){return t===e.id})),onClick:function(){i(e.id)},children:"Follow"})})]}),Object(R.jsxs)("div",{className:pe.a.nameAndStatus,children:[Object(R.jsx)("h3",{className:pe.a.name,children:Object(R.jsx)("div",{children:e.name})}),Object(R.jsx)("div",{className:pe.a.status,children:"Status:  ".concat(null!==(t=e.status)&&void 0!==t?t:"no status")})]})]})},e.id)}))]})}var ge=n(77),xe=n.n(ge),_e=n(191);function Ee(){return Object(R.jsx)("div",{className:xe.a.preloaderContainer,children:Object(R.jsx)("div",{className:xe.a.progress,children:Object(R.jsx)(_e.a,{size:50})})})}var Pe=o.a.memo((function(){var e=Object(d.b)(),t=be(C.l),n=be(C.c),r=be(C.f),a=be(C.a),s=be(C.j),o=be(C.b);Object(c.useEffect)((function(){e(function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ae(!0)),n.next=3,m(e,t);case 3:a=n.sent;try{r(ae(!1)),r(ne(a.data.items)),r(re(a.data.totalCount))}catch(s){console.log(s.message)}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,r))}),[a,r,e]);return Object(R.jsx)(R.Fragment,{children:n?Object(R.jsx)(Ee,{}):Object(R.jsx)(ve,{onPageChanged:function(t){e(function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ae(!0)),r({type:"SET-CURRENT-PAGE",currentPage:t}),n.next=4,m(t,e);case 4:a=n.sent;try{r(ne(a.data.items)),r(re(a.data.totalCount)),r(ae(!1))}catch(s){console.log(s.message)}case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,t))},currentPage:a,totalUserCount:s,pageSize:r,users:t,followTC:function(t){e(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(se(!0,e)),t.next=3,E(e);case 3:r=t.sent;try{0===r.data.resultCode&&n(ee(e)),n(se(!1,e))}catch(a){console.log(a.message)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},unfollowTC:function(t){e(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(se(!0,e)),t.next=3,P(e);case 3:r=t.sent;try{0===r.data.resultCode&&n(te(e)),n(se(!1,e))}catch(a){console.log(a.message)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},followingInProgress:o})})})),Se=n(52),Te=n.n(Se),Ie=n(45),we=n.n(Ie),Ne=n(14),ke=function(){var e=Object(d.b)(),t=be(C.i),n=Number(Object(l.h)().userId),r=Object(c.useState)(t),a=Object(Ne.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(!0),u=Object(Ne.a)(i,2),j=u[0],O=u[1],p=function(){o(t),O(!1)},h=function(){e(function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:r=t.sent;try{0===r.data.resultCode&&n(oe(e))}catch(a){console.log(a.message)}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s)),O(!0)};return n!==k?Object(R.jsx)("div",{"data-testid":"editableDiv",children:t}):j&&n===k&&!t?Object(R.jsx)("div",{className:Te.a.editableDiv,onClick:p,children:"Set status"}):j&&n===k?Object(R.jsx)("div",{className:Te.a.editableDiv,"data-testid":"editableMyDiv",onClick:p,children:t}):Object(R.jsx)("input",{className:Te.a.input,onChange:function(e){o(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&h()},onBlur:h,type:"text","data-testid":"input",value:s})},Ae=o.a.memo((function(e){var t,n;return Object(R.jsxs)("div",{className:we.a.wrapper,children:[Object(R.jsx)("div",{className:we.a.descriptionBlock,children:Object(R.jsx)("img",{src:null!==(t=null===(n=e.profile)||void 0===n?void 0:n.photos.large)&&void 0!==t?t:he.a,alt:"userPhoto"})}),Object(R.jsxs)("div",{className:we.a.statusBlock,children:[Object(R.jsx)("div",{className:we.a.profileName,children:e.profile.fullName}),Object(R.jsx)("div",{className:we.a.profileStatus,children:Object(R.jsx)(ke,{})}),Object(R.jsxs)("div",{className:we.a.lookingForAJobDescription,children:["Looking for a job status: ",e.profile.lookingForAJobDescription]}),Object(R.jsxs)("div",{className:we.a.contacts,children:[Object(R.jsx)("span",{children:"contacts: "}),Object(R.jsxs)("div",{children:["facebook: ",e.profile.contacts.facebook]}),Object(R.jsxs)("div",{children:["instagram: ",e.profile.contacts.instagram]}),Object(R.jsxs)("div",{children:["YouTube: ",e.profile.contacts.youtube]}),Object(R.jsxs)("div",{children:["Vk: ",e.profile.contacts.vk]})]})]})]})})),ye=n(103),Le=n.n(ye),De=n(78),Ce=n.n(De);function Re(e){var t=Object(c.useState)(),n=Object(Ne.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){a(Math.round(1e3*Math.random()))}),[]),Object(R.jsxs)("div",{className:Ce.a.itemWrapper,children:[Object(R.jsx)("div",{className:Ce.a.userAndLoginBlock,children:Object(R.jsx)(L.a,{})}),Object(R.jsx)("p",{children:e.message}),Object(R.jsxs)("div",{children:[Object(R.jsx)("span",{children:"Like: "}),0!==e.likeCount?e.likeCount:r]})]})}var Fe=n(79),Ue=n.n(Fe),Be=n(95),We=o.a.memo((function(e){var t,n=null===(t=e.postsData)||void 0===t?void 0:t.map((function(e){return Object(R.jsx)(Re,{message:e.message,likeCount:e.likesCount},e.id)})).reverse();return Object(R.jsxs)("div",{className:Ue.a.postBlock,children:[Object(R.jsx)("h3",{children:"My posts"}),Object(R.jsx)(Be.a,{placeholderText:e.placeholderText,callBack:e.callBack}),Object(R.jsx)("div",{className:Ue.a.posts,children:n})]})})),Me=n(56),Ge=o.a.memo((function(e){var t=be(C.g),n=be(C.h),r=Object(d.b)();return Object(R.jsxs)("div",{className:"".concat(Te.a.wrapper," ").concat(Le.a.mainBox),children:[Object(R.jsx)(Ae,{profile:n}),e.userID===k&&Object(R.jsx)(We,{placeholderText:Me.b.profileAreaText,callBack:function(e){return r((t=e,{type:Y.ADD_POST,data:t}));var t},postsData:t})]})})),He=o.a.memo((function(){var e=Number(Object(l.h)().userId),t=be(C.k),n=be(C.e),r=Object(d.b)();return Object(c.useEffect)((function(){e!==t?(r(ue(e)),r(le(e))):(r(ue(t)),r(le(t)))}),[e,r,t]),n?Object(R.jsx)(Ge,{userID:e}):Object(R.jsx)(l.a,{to:jt.LOGIN})}));function ze(){return Object(R.jsx)("div",{children:Object(R.jsx)("div",{children:"Events"})})}function Ze(){return Object(R.jsx)("div",{children:Object(R.jsx)(ze,{})})}var Ye=n(106),Je=n.n(Ye),Ve=function(){return Object(R.jsx)("div",{children:"Photos"})};var Xe=function(){return Object(R.jsx)("div",{className:Je.a.content,children:Object(R.jsx)(Ve,{})})},qe=n(66),Ke=n(190),Qe=n(180),$e=n(188),et=n(195),tt=n(187),nt=n(192),rt=n(182),at=n(183),st=n(196),ct=n(194),ot=n(193),it=n(185),ut=o.a.memo((function(){var e=Object(d.c)((function(e){return e.Auth.isLoggedIn})),t=Object(d.c)((function(e){return e.App.error})),n=Object(d.b)(),r=Object(c.useState)(!0),a=Object(Ne.a)(r,2),s=a[0],o=a[1],i=Object(qe.a)({validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password.length<3&&(t.password="Invalid password length"),e.password||(t.password="Password required"),t},initialValues:{email:"",password:"",rememberMe:!0},onSubmit:function(e){var t;n((t=e,function(){var e=Object(b.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:r=e.sent;try{0===r.data.resultCode?n(y(!0)):n(N(r.data.messages[0]))}catch(a){console.log(a.message)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}});if(e)return Object(R.jsx)(l.a,{to:jt.HOME});return Object(R.jsx)(Ke.a,{container:!0,justifyContent:"center",children:Object(R.jsxs)(Ke.a,{item:!0,justifyContent:"center",children:[Object(R.jsx)("h1",{children:"Login"}),Object(R.jsxs)($e.a,{children:[Object(R.jsxs)(Qe.a,{children:[Object(R.jsxs)("p",{children:["To log in get registered",Object(R.jsx)("a",{href:"https://social-network.samuraijs.com/",rel:"noreferrer",target:"_blank",children:" here"})]}),Object(R.jsx)("p",{children:"or use common test account credentials:"}),Object(R.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(R.jsx)("p",{children:"Password: free"})]}),Object(R.jsx)("form",{onSubmit:i.handleSubmit,children:Object(R.jsxs)(nt.a,{children:[Object(R.jsxs)($e.a,{sx:{mTop:2,width:"35ch"},variant:"standard",children:[Object(R.jsx)(ot.a,{htmlFor:"standard-adornment-email",children:"Email"}),Object(R.jsx)(it.a,Object(O.a)(Object(O.a)({},i.getFieldProps("email")),{},{onFocus:function(){t&&n(N(""))}}))]}),i.touched.email&&i.errors.email?Object(R.jsx)("div",{style:{color:"red"},children:i.errors.email}):null,Object(R.jsxs)($e.a,{sx:{mTop:2,width:"35ch"},variant:"standard",children:[Object(R.jsx)(ot.a,{htmlFor:"standard-adornment-password",children:"Password"}),Object(R.jsx)(it.a,Object(O.a)(Object(O.a)({},i.getFieldProps("password")),{},{id:"standard-adornment-password",type:s?"password":"text",endAdornment:Object(R.jsx)(st.a,{position:"end",children:Object(R.jsx)(ct.a,{"aria-label":"toggle password visibility",onClick:function(){o(!s)},onMouseDown:function(e){e.preventDefault()},children:s?Object(R.jsx)(rt.a,{}):Object(R.jsx)(at.a,{})})})})),i.touched.password&&i.errors.password?Object(R.jsx)("div",{style:{color:"red"},children:i.errors.password}):null]}),Object(R.jsx)(et.a,Object(O.a)(Object(O.a)({label:"Remember me",control:Object(R.jsx)(tt.a,{})},i.getFieldProps("rememberMe")),{},{checked:i.getFieldProps("rememberMe").value})),t&&Object(R.jsx)("div",{style:{color:"red"},children:t}),Object(R.jsx)(D.a,{variant:"contained",type:"submit",children:"Login"})]})})]})]})})}));var lt=function(e){return function(t){return Object(R.jsx)(o.a.Suspense,{fallback:Object(R.jsx)(Ee,{}),children:Object(R.jsx)(e,Object(O.a)({},t))})}},dt=o.a.lazy((function(){return n.e(3).then(n.bind(null,199))})),jt={HOME:"/",LOGIN:"/login",PROFILE:"/profile",USERS:"/users",ERROR404:"/404",ANY_ROUTE:"*",DIALOGS:"/dialogs",EVENTS:"/events",PHOTOS:"/photos"},ft=function(){var e=fe.getState(),t=Object(d.b)(),n=be(C.k),r=be(C.e),a=be(C.d);return Object(c.useEffect)((function(){t(function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:n=e.sent;try{0===n.data.resultCode&&(t(y(!0)),t((a=n.data.data,{type:I.AUTH_SET_PROFILE_DATA,data:a})))}catch(s){console.log(s.message)}finally{t((r=!0,{type:I.AUTH_SET_IS_INITIALIZED,isInitialized:r}))}case 4:case"end":return e.stop()}var r,a}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),a?Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(U,{}),Object(R.jsxs)("main",{className:"mainContent",children:[r&&Object(R.jsx)(Z,{SideBar:e.SideBar}),Object(R.jsxs)(l.d,{children:[Object(R.jsx)(l.b,{path:jt.HOME,element:Object(R.jsx)(l.a,{to:"".concat(jt.PROFILE,"/").concat(n)})}),Object(R.jsx)(l.b,{path:jt.LOGIN,element:Object(R.jsx)(ut,{})}),Object(R.jsx)(l.b,{path:"".concat(jt.PROFILE,"/:userId"),element:lt(He)({})}),Object(R.jsx)(l.b,{path:jt.DIALOGS,element:lt(dt)({})}),Object(R.jsx)(l.b,{path:jt.EVENTS,element:Object(R.jsx)(Ze,{})}),Object(R.jsx)(l.b,{path:jt.PHOTOS,element:Object(R.jsx)(Xe,{})}),Object(R.jsx)(l.b,{path:jt.USERS,element:Object(R.jsx)(Pe,{})}),Object(R.jsx)(l.b,{path:jt.ANY_ROUTE,element:Object(R.jsx)(l.a,{to:jt.ERROR404})}),Object(R.jsx)(l.b,{path:jt.ERROR404,element:Object(R.jsx)("div",{children:"Error 404"})})]})]})]}):Object(R.jsx)(Ee,{})};window.store=fe,s.a.render(Object(R.jsx)(d.a,{store:fe,children:Object(R.jsx)(H.a,{children:Object(R.jsx)(ft,{})})}),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return j})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return b}));var r=function(e){return e.ProfilePage.status},a=function(e){return e.Auth.data.id},s=function(e){return e.ProfilePage.postsData},c=function(e){return e.ProfilePage.profile},o=function(e){return e.Auth.isLoggedIn},i=function(e){return e.Auth.isInitialized},u=function(e){return e.UsersPage.isFetching},l=function(e){return e.UsersPage.items},d=function(e){return e.UsersPage.pageSize},j=function(e){return e.UsersPage.currentPage},f=function(e){return e.UsersPage.totalCount},b=function(e){return e.UsersPage.following}},43:function(e,t,n){e.exports={sideWrapper:"Navbar_sideWrapper__1dV1_",NavItem:"Navbar_NavItem__3u4wb",active:"Navbar_active__2IssC",ChatBlock:"Navbar_ChatBlock__1-WE4"}},44:function(e,t,n){e.exports={usersWrapper:"users_usersWrapper__2NhZI",usersBlock:"users_usersBlock__30vL-",avatarAndFollowButton:"users_avatarAndFollowButton__3flk2",avatar:"users_avatar__3IP3J",nameAndStatus:"users_nameAndStatus__nYsqe",status:"users_status__2gbbh",name:"users_name__3sX1D"}},45:function(e,t,n){e.exports={wrapper:"ProfileInfo_wrapper__2zQ9G",statusBlock:"ProfileInfo_statusBlock__A6KlW",profileName:"ProfileInfo_profileName__aXVcE",profileStatus:"ProfileInfo_profileStatus__3sbu8",contacts:"ProfileInfo_contacts__3rDuc",descriptionBlock:"ProfileInfo_descriptionBlock__WC_wT"}},47:function(e,t,n){e.exports={ChatBlock:"ChatBlock_ChatBlock__5ewrq",Title:"ChatBlock_Title__YfUmN",imgProfilePhoto:"ChatBlock_imgProfilePhoto__dibQ_",OnlineDot:"ChatBlock_OnlineDot__2krZz",onlineFriendsWrapper:"ChatBlock_onlineFriendsWrapper__14FnN"}},49:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultUserImage.ed37b80a.jpg"},51:function(e,t,n){e.exports={headerWrapper:"Header_headerWrapper__2JC-5",headerContent:"Header_headerContent__1KPAQ",loginBlock:"Header_loginBlock__1rezt",login:"Header_login__2_qsa"}},52:function(e,t,n){e.exports={wrapper:"Profile_wrapper__3dKt0",editableDiv:"Profile_editableDiv__GFY9u",input:"Profile_input__1jMdf"}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={profileAreaText:"What's new with you?",dialogsAreaText:"Type a message"},a=500},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(0),a=n.n(r),s=n(17),c=n(68),o=n.n(c),i=n(49),u=n(12),l=n(18),d=n(1),j=a.a.memo((function(){var e=Object(u.g)(),t=Object(s.c)((function(e){return e.ProfilePage.photo})),n=Object(s.c)((function(e){return e.Auth.data.login})),r=Object(s.c)(l.k);return Object(d.jsxs)("div",{className:o.a.myProfilePhotoWrapper,children:[Object(d.jsx)("img",{className:o.a.mySmallPhoto,src:t||i.a,alt:"userPhoto"}),Object(d.jsx)("div",{className:o.a.userName,onClick:function(){e("/profile/".concat(r))},children:n})]})}))},68:function(e,t,n){e.exports={myProfilePhotoWrapper:"MyProfilePhoto_myProfilePhotoWrapper__3ZNPd",mySmallPhoto:"MyProfilePhoto_mySmallPhoto__v9qAS"}},77:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__13SXq",progress:"Preloader_progress__Q1DsD",scaling:"Preloader_scaling__13g5_"}},78:function(e,t,n){e.exports={itemWrapper:"Post_itemWrapper__1z8ce",userAndLoginBlock:"Post_userAndLoginBlock__2x_uT"}},79:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__sox7b",posts:"MyPosts_posts__2zln9"}},80:function(e,t,n){e.exports={formWrapper:"TextAreaForm_formWrapper__2lVua",textArea:"TextAreaForm_textArea__2ZXO2"}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(10),a=n(8),s=n(21),c={dialogs:[{id:Object(s.v1)(),name:"Boris Jonson",avatar:"https://themified.com/friend-finder/images/users/user-4.jpg",message:"What is the weather forecast for tomorrow?"}],messages:[{id:Object(s.v1)(),message:"Looks like it will be sunny tomorrow=)"}]},o=function(e){return{type:"ADD-DIALOG-MESSAGE",text:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-DIALOG-MESSAGE":return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:Object(s.v1)(),message:t.text}])});default:return e}}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(8),a=n(0),s=n.n(a),c=n(66),o=n(80),i=n.n(o),u=n(56),l=n(150),d=n(1),j=s.a.memo((function(e){var t=Object(c.a)({initialValues:{text:""},validate:function(e){var t={};return e.text||(t.text="Enter a message"),e.text.length>=u.a&&(t.text="Max length of message is ".concat(u.a," symbols.")),t},onSubmit:function(t,n){var r=n.resetForm;""!==t.text&&e.callBack(t.text),r()}});return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsxs)("div",{className:i.a.formWrapper,children:[Object(d.jsx)("textarea",Object(r.a)(Object(r.a)({className:i.a.textArea,maxLength:1e3,placeholder:e.placeholderText},t.getFieldProps("text")),{},{autoFocus:!0,onBlur:function(){return t.errors.text=""}})),Object(d.jsx)("div",{children:Object(d.jsx)(l.a,{type:"submit",children:"Publish"})})]}),t.errors.text&&Object(d.jsxs)("div",{style:{color:"red"},children:[" ",t.errors.text]})]})}))}},[[147,1,2]]]);
//# sourceMappingURL=main.027dd86a.chunk.js.map