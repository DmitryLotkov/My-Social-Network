(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r,a=n(13),s=n(9),c=n(22);!function(e){e.ADD_DIALOG_MESSAGE="DIALOGS/ADD-DIALOG-MESSAGE"}(r||(r={}));var i={dialogs:[{id:Object(c.v1)(),name:"Boris Jonson",avatar:"https://themified.com/friend-finder/images/users/user-4.jpg",message:"What is the weather forecast for tomorrow?"}],messages:[{id:Object(c.v1)(),message:"Looks like it will be sunny tomorrow=)"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_DIALOG_MESSAGE:return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:Object(c.v1)(),message:t.text}])});default:return e}},l=function(e){return{type:r.ADD_DIALOG_MESSAGE,text:e}}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(9),a=n(0),s=n.n(a),c=n(71),i=n(87),o=n.n(i),l=n(60),u=n(170),d=n(1),j=s.a.memo((function(e){var t=Object(c.a)({initialValues:{text:""},validate:function(e){var t={};return e.text||(t.text="Enter a message"),e.text.length>=l.a&&(t.text="Max length of message is ".concat(l.a," symbols.")),t},onSubmit:function(t,n){var r=n.resetForm;""!==t.text&&e.callBack(t.text),r()}});return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsxs)("div",{className:o.a.formWrapper,children:[Object(d.jsx)("textarea",Object(r.a)(Object(r.a)({className:o.a.textArea,maxLength:1e3,placeholder:e.placeholderText},t.getFieldProps("text")),{},{autoFocus:!0,onBlur:function(){return t.errors.text=""}})),Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{type:"submit",children:"Publish"})})]}),t.errors.text&&Object(d.jsxs)("div",{style:{color:"red"},children:[" ",t.errors.text]})]})}))},116:function(e,t,n){e.exports={mainBox:"boxStyle_mainBox__24wr7"}},119:function(e,t,n){},132:function(e,t,n){},137:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);n(132);var r,a=n(33),s=n.n(a),c=n(0),i=n.n(c),o=(n(137),n(54)),l=n.n(o),u=n(16),d=n(18),j=n(20),f=n.n(j),O=n(31),b=n(9),p=n(108),h=n.n(p).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c3728aab-6f62-411f-9e90-c03d8ff7b899"}}),m=function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t))},x=function(e){return h.get("profile/".concat(e))},v=function(e){return h.get("profile/status/".concat(e))},_=function(e){return h.put("profile/status",{status:e})},g=function(e){var t=new FormData;return t.append("image",e),h.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},S=function(){return h.get("auth/me")},E=function(e){return h.post("follow/".concat(e))},P=function(e){return h.delete("follow/".concat(e))},T=function(e){return h.post("auth/login",e)},I=function(){return h.delete("/auth/login")};!function(e){e.APP_SET_ERROR="APP-SET-ERROR",e.APP_SET_STATUS="APP/SET-STATUS"}(r||(r={}));var A,N={error:null,status:"idle"},w=function(e){return{type:r.APP_SET_ERROR,error:e}},k=function(e){return{type:r.APP_SET_STATUS,status:e}},y=21748;!function(e){e.AUTH_SET_IS_LOGGED_IN="SET-IS-LOGGED-IN",e.AUTH_SET_IS_INITIALIZED="SET-IS-INITIALIZED",e.AUTH_SET_PROFILE_DATA="SET-PROFILE-DATA"}(A||(A={}));var L={data:{id:y,email:"",login:""},isInitialized:!1,isLoggedIn:!1},R=function(e){return{type:A.AUTH_SET_IS_LOGGED_IN,isLoggedIn:e}},C=n(68),D=n(170),F=n(19),U=n(1);function B(){var e=Object(u.g)(),t=Object(d.b)(),n=Object(d.c)(F.e);return Object(U.jsxs)("div",{className:l.a.headerContent,children:[Object(U.jsx)("img",{src:"https://templates.envytheme.com/zust/default/assets/images/logo.png",alt:"logo"}),Object(U.jsxs)("div",{className:l.a.loginBlock,children:[n&&Object(U.jsx)(C.a,{}),n&&Object(U.jsx)(D.a,{className:l.a.login,onClick:function(){t(function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:n=e.sent;try{0===n.data.resultCode&&t(R(!1))}catch(r){console.log(r.message)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e("/login")},children:"Log out"})]})]})}function G(){return Object(U.jsx)("header",{className:l.a.headerWrapper,children:Object(U.jsx)(B,{})})}var W=n(48),M=n.n(W),H=n(51),z=n.n(H),Y=n(23);function Z(e){return Object(U.jsxs)("div",{className:z.a.onlineFriendsWrapper,children:[Object(U.jsx)("img",{className:z.a.imgProfilePhoto,src:e.avatar,alt:"onlineFriendAvatar"}),Object(U.jsx)("span",{className:z.a.OnlineDot})]})}function V(e){var t=e.SideBar.onlineFriends.map((function(e){return Object(U.jsx)(Y.b,{to:"/friends"+e.id,children:Object(U.jsx)(Z,{id:e.id,avatar:e.avatar})},e.id)}));return Object(U.jsxs)("aside",{className:M.a.sideWrapper,children:[Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/profile/".concat(y),style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Profile"})}),Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/dialogs",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Messages"})}),Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/events",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Events"})}),Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/photos",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Photos"})}),Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/users",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Find Friends"})}),Object(U.jsx)("div",{className:M.a.NavItem,children:Object(U.jsx)(Y.b,{to:"/settings",style:function(e){return{color:e.isActive?"goldenrod":"black"}},children:"Settings"})}),Object(U.jsxs)("div",{className:z.a.ChatBlock,children:[Object(U.jsx)("span",{className:z.a.Title,children:"Chat online"}),t]})]})}var J,q=n(64),X=n(22),Q={onlineFriends:[{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-4.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-3.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-6.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-2.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-7.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-10.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-9.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-5.jpg"},{id:Object(X.v1)(),avatar:"https://themified.com/friend-finder/images/users/user-8.jpg"}]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return e},$=n(13),ee=function(e,t){var n;t(k("failed")),t(w((null===(n=e.response)||void 0===n?void 0:n.data.error)||"some Error"))};!function(e){e.FOLLOW="USERS/FOLLOW",e.UNFOLLOW="USERS/UNFOLLOW",e.SET_USERS="USERS/SET-USERS",e.SET_CURRENT_PAGE="USERS/SET-CURRENT-PAGE",e.SET_TOTAL_USERS_COUNT="USERS/SET-TOTAL-USERS-COUNT",e.IS_FETCHING="USERS/IS-FETCHING",e.IS_FOLLOWING_PROGRESS="USERS/IS-FOLLOWING-PROGRESS"}(J||(J={}));var te,ne={items:[],pageSize:7,totalCount:1,currentPage:1,isFetching:!0,following:[]},re=function(e){return{type:J.FOLLOW,userID:e}},ae=function(e){return{type:J.UNFOLLOW,userID:e}},se=function(e){return{type:J.SET_USERS,users:e}},ce=function(e){return{type:J.SET_TOTAL_USERS_COUNT,totalCount:e}},ie=function(e){return{type:J.IS_FETCHING,isFetching:e}},oe=function(e,t){return{type:J.IS_FOLLOWING_PROGRESS,followingIsProgress:e,userID:t}},le=n(113);!function(e){e.SET_PROFILE="PROFILE/SET-PROFILE",e.ADD_POST="PROFILE/ADD-POST",e.SAVE_MY_PROFILE_PHOTO="PROFILE/SAVE-MY-PROFILE_PHOTO",e.UPDATE_NEW_POST_TEXT="PROFILE/UPDATE-NEW-POST-TEXT",e.SET_SOME_USER_PROFILE="PROFILE/SET-SOME-USER-PROFILE",e.SET_STATUS="PROFILE/SET-STATUS",e.DELETE_POST="PROFILE/DELETE-POST"}(te||(te={}));var ue=function(e){return{type:te.SET_STATUS,status:e}},de={postsData:[{id:Object(X.v1)(),message:"Do you have a job for me? What if I find it?",likesCount:0},{id:Object(X.v1)(),message:"I want to be a serious frontend developer.",likesCount:0},{id:Object(X.v1)(),message:"What is the good weather today,isn't it?",likesCount:0}],status:"",profile:{fullName:"",lookingForAJob:!0,lookingForAJobDescription:"",aboutMe:"",contacts:{facebook:"",github:"",instagram:"",mainLink:"",twitter:"",vk:"",website:"",youtube:""},photos:{small:"",large:""}}},je=function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(k("loading")),t.next=3,x(e);case 3:r=t.sent;try{n((a=r.data,{type:te.SET_SOME_USER_PROFILE,profile:a})),n(k("succeeded"))}catch(s){ee(s,n)}case 5:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(k("loading")),t.next=3,v(e);case 3:r=t.sent;try{200===r.status&&(n(ue(r.data)),n(k("succeeded")))}catch(a){ee(a,n)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=n(105),be=d.b,pe=Object(q.b)({ProfilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.ADD_POST:return Object(b.a)(Object(b.a)({},e),{},{postsData:[].concat(Object($.a)(e.postsData),[{id:Object(X.v1)(),message:t.data,likesCount:0}])});case te.SET_SOME_USER_PROFILE:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case te.SET_STATUS:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case te.SAVE_MY_PROFILE_PHOTO:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{photos:t.photos})});case te.DELETE_POST:return Object(b.a)(Object(b.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});default:return e}},DialogPage:Oe.b,SideBar:K,UsersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.FOLLOW:return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case J.UNFOLLOW:return Object(b.a)(Object(b.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userID?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case J.SET_USERS:return Object(b.a)(Object(b.a)({},e),{},{items:t.users});case J.SET_CURRENT_PAGE:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case J.SET_TOTAL_USERS_COUNT:return Object(b.a)(Object(b.a)({},e),{},{totalCount:t.totalCount});case J.IS_FETCHING:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case J.IS_FOLLOWING_PROGRESS:return Object(b.a)(Object(b.a)({},e),{},{following:t.followingIsProgress?[].concat(Object($.a)(e.following),[t.userID]):e.following.filter((function(e){return e!==t.userID}))});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.AUTH_SET_IS_LOGGED_IN:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.isLoggedIn});case A.AUTH_SET_IS_INITIALIZED:return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.isInitialized});case A.AUTH_SET_PROFILE_DATA:return Object(b.a)(Object(b.a)({},e),{},{data:t.data});default:return e}},App:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.APP_SET_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case r.APP_SET_STATUS:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}}}),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.c,me=Object(q.d)(pe,he(Object(q.a)(le.a))),xe=d.c;window.store=me;var ve=n(49),_e=n.n(ve),ge=n(52),Se=n(216);function Ee(e){var t=e.users,n=e.totalUserCount,r=e.currentPage,a=e.pageSize,s=e.onPageChanged,c=e.followingInProgress,i=e.unfollowTC,o=e.followTC,l=Object(u.g)(),d=Math.ceil(n/a),j=ge.a;return Object(U.jsxs)("div",{className:_e.a.usersWrapper,children:[Object(U.jsx)(Se.a,{color:"primary",onChange:function(e,t){s(t)},size:"small",variant:"outlined",shape:"rounded",count:d,page:r,"data-testid":"pagination"}),t.map((function(e){var t;return Object(U.jsx)("div",{"data-testid":"userArr",children:Object(U.jsxs)("div",{className:_e.a.usersBlock,children:[Object(U.jsxs)("div",{className:_e.a.avatarAndFollowButton,children:[Object(U.jsx)("img",{onClick:function(){return l("/profile/".concat(e.id))},className:_e.a.avatar,src:e.photos.small?e.photos.small:j,alt:"user"}),Object(U.jsx)("span",{children:e.followed?Object(U.jsx)(D.a,{disabled:c.some((function(t){return t===e.id})),onClick:function(){i(e.id)},children:"Unfollow"}):Object(U.jsx)(D.a,{disabled:c.some((function(t){return t===e.id})),onClick:function(){o(e.id)},children:"Follow"})})]}),Object(U.jsxs)("div",{className:_e.a.nameAndStatus,children:[Object(U.jsx)("h3",{className:_e.a.name,children:Object(U.jsx)("div",{children:e.name})}),Object(U.jsx)("div",{className:_e.a.status,children:"Status:  ".concat(null!==(t=e.status)&&void 0!==t?t:"no status")})]})]})},e.id)}))]})}var Pe=n(84),Te=n.n(Pe),Ie=n(224);function Ae(){return Object(U.jsx)("div",{className:Te.a.main,children:Object(U.jsx)("div",{className:Te.a.progress,children:Object(U.jsx)(Ie.a,{size:50})})})}var Ne=i.a.memo((function(){var e=Object(d.b)(),t=xe(F.l),n=xe(F.c),r=xe(F.f),a=xe(F.a),s=xe(F.j),i=xe(F.b);Object(c.useEffect)((function(){e(function(e,t){return function(){var n=Object(O.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie(!0)),n.next=3,m(e,t);case 3:a=n.sent;try{r(ie(!1)),r(se(a.data.items)),r(ce(a.data.totalCount))}catch(s){ee(s,r)}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,r))}),[a,r,e]);return Object(U.jsx)(U.Fragment,{children:n?Object(U.jsx)(Ae,{}):Object(U.jsx)(Ee,{onPageChanged:function(t){e(function(e,t){return function(){var n=Object(O.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie(!0)),r((s=t,{type:J.SET_CURRENT_PAGE,currentPage:s})),n.next=4,m(t,e);case 4:a=n.sent;try{r(se(a.data.items)),r(ce(a.data.totalCount)),r(ie(!1))}catch(c){ee(c,r)}case 6:case"end":return n.stop()}var s}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,t))},currentPage:a,totalUserCount:s,pageSize:r,users:t,followTC:function(t){e(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oe(!0,e)),t.next=3,E(e);case 3:r=t.sent;try{0===r.data.resultCode&&n(re(e)),n(oe(!1,e))}catch(a){ee(a,n)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},unfollowTC:function(t){e(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oe(!0,e)),t.next=3,P(e);case 3:r=t.sent;try{0===r.data.resultCode&&n(ae(e)),n(oe(!1,e))}catch(a){ee(a,n)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},followingInProgress:i})})})),we=n(56),ke=n.n(we),ye=n(12),Le=n(39),Re=n.n(Le),Ce=function(){var e=Object(d.b)(),t=xe(F.i),n=Number(Object(u.h)().userId),r=Object(c.useState)(t),a=Object(ye.a)(r,2),s=a[0],i=a[1],o=Object(c.useState)(!0),l=Object(ye.a)(o,2),j=l[0],b=l[1],p=function(){i(t),b(!1)},h=function(){e(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(k("loading")),t.next=3,_(e);case 3:r=t.sent;try{0===r.data.resultCode&&(n(ue(e)),n(k("succeeded")))}catch(a){ee(a,n)}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s)),b(!0)};return n!==y?Object(U.jsx)("div",{"data-testid":"editableDiv",children:t}):j&&n===y&&!t?Object(U.jsx)("div",{className:ke.a.editableDiv,onClick:p,children:"Set status"}):j&&n===y?Object(U.jsx)("div",{className:ke.a.editableDiv,"data-testid":"editableMyDiv",onClick:p,children:t}):Object(U.jsx)("input",{className:ke.a.input,onChange:function(e){i(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&h()},onBlur:h,type:"text","data-testid":"input",value:s})},De=n(121),Fe=n(229),Ue=n(225),Be=n(210),Ge={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:350,bgcolor:"#F9F9FE",boxShadow:24,p:4,borderRadius:2},We=i.a.memo((function(e){var t,n,r=1e7,a=xe((function(e){return e.ProfilePage.profile.photos.large})),s=Number(Object(u.h)().userId),i=xe(F.k),o=Object(c.useRef)(null),l=Object(c.useState)(!1),j=Object(ye.a)(l,2),b=j[0],p=j[1],h=Object(c.useState)(a),m=Object(ye.a)(h,2),x=m[0],v=m[1],_=Object(c.useState)(),S=Object(ye.a)(_,2),E=S[0],P=S[1],T=Object(d.b)(),I=function(){return p(!1)};return Object(U.jsxs)("div",{className:Re.a.wrapper,children:[Object(U.jsxs)("div",{className:Re.a.descriptionBlock,children:[Object(U.jsx)("img",{className:Re.a.img,src:null!==(t=null===(n=e.profile)||void 0===n?void 0:n.photos.large)&&void 0!==t?t:ge.a,alt:"userPhoto"}),s===i&&Object(U.jsx)("div",{className:Re.a.menu,onClick:function(){return p(!0)},children:Object(U.jsx)("p",{children:"Change your photo"})})]}),Object(U.jsxs)("div",{className:Re.a.statusBlock,children:[Object(U.jsx)("div",{className:Re.a.profileName,children:e.profile.fullName}),Object(U.jsx)("div",{className:Re.a.profileStatus,children:Object(U.jsx)(Ce,{})}),Object(U.jsxs)("div",{className:Re.a.lookingForAJobDescription,children:["Looking for a job status: ",e.profile.lookingForAJobDescription]}),Object(U.jsxs)("div",{className:Re.a.contacts,children:[Object(U.jsx)("span",{children:"contacts: "}),Object(U.jsxs)("div",{children:["facebook: ",e.profile.contacts.facebook]}),Object(U.jsxs)("div",{children:["instagram: ",e.profile.contacts.instagram]}),Object(U.jsxs)("div",{children:["YouTube: ",e.profile.contacts.youtube]}),Object(U.jsxs)("div",{children:["Vk: ",e.profile.contacts.vk]})]})]}),Object(U.jsx)(De.a,{open:b,onClose:I,children:Object(U.jsxs)(Fe.a,{sx:Ge,children:[Object(U.jsxs)(Fe.a,{children:[Object(U.jsx)(Fe.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:Object(U.jsx)("strong",{children:Object(U.jsx)("p",{style:{fontSize:"20px"},children:"Uploading profile photo"})})}),Object(U.jsx)(Ue.a,{style:{position:"absolute",top:"5px",right:"10px"},onClick:I,children:Object(U.jsx)(Be.a,{})})]}),Object(U.jsxs)(Fe.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(U.jsx)(Fe.a,{id:"outer-container",children:Object(U.jsx)("img",{src:x||a,alt:"avatar",width:"200px",style:{borderRadius:"8px",marginBottom:"10px"}})}),Object(U.jsx)(Fe.a,{children:Object(U.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(U.jsx)("input",{type:"file",style:{display:"none"},id:"answer",ref:o,accept:"image/*",onChange:function(e){var t,n=new FileReader,a=null===(t=e.target)||void 0===t?void 0:t.files;a&&a[0].type&&("image/png"===a[0].type||"image/jpeg"===a[0].type)?(P(a[0]),n.onloadend=function(){v(n.result)},a[0].size&&a[0].size<=r?n.readAsDataURL(a[0]):T(w("Your file size must be less then ".concat(10,"MB \ud83d\ude15")))):T(w("Your file has not in .png .jpeg format. Please choose the right file"))}}),Object(U.jsx)(D.a,{sx:{textTransform:"none"},variant:"contained",onClick:function(){return o.current&&o.current.click()},children:"Upload photo"}),Object(U.jsx)(D.a,{sx:{textTransform:"none"},variant:"contained",onClick:function(){var e;T((e=E,function(){var t=Object(O.a)(f.a.mark((function t(n,r){var a,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(k("loading")),a=r().Auth.data.id,t.next=4,g(e);case 4:if(s=t.sent,t.prev=5,0!==s.data.resultCode){t.next=13;break}return n(k("succeeded")),t.t0=n,t.next=11,je(a);case 11:t.t1=t.sent,(0,t.t0)(t.t1);case 13:t.next=18;break;case 15:t.prev=15,t.t2=t.catch(5),ee(t.t2,n);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e,n){return t.apply(this,arguments)}}())),I()},children:"Save"})]})}),Object(U.jsx)("p",{children:"You can upload images in JPG or PNG format"})]})]})})]})})),Me=n(116),He=n.n(Me),ze=n(85),Ye=n.n(ze);function Ze(e){var t=Object(c.useState)(),n=Object(ye.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){a(Math.round(1e3*Math.random()))}),[]),Object(U.jsxs)("div",{className:Ye.a.itemWrapper,children:[Object(U.jsx)("div",{className:Ye.a.userAndLoginBlock,children:Object(U.jsx)(C.a,{})}),Object(U.jsx)("p",{children:e.message}),Object(U.jsxs)("div",{children:[Object(U.jsx)("span",{children:"Like: "}),0!==e.likeCount?e.likeCount:r]})]})}var Ve=n(86),Je=n.n(Ve),qe=n(106),Xe=i.a.memo((function(e){var t,n=null===(t=e.postsData)||void 0===t?void 0:t.map((function(e){return Object(U.jsx)(Ze,{message:e.message,likeCount:e.likesCount},e.id)})).reverse();return Object(U.jsxs)("div",{className:Je.a.postBlock,children:[Object(U.jsx)("h3",{children:"My posts"}),Object(U.jsx)(qe.a,{placeholderText:e.placeholderText,callBack:e.callBack}),Object(U.jsx)("div",{className:Je.a.posts,children:n})]})})),Qe=n(60),Ke=i.a.memo((function(e){var t=xe(F.g),n=xe(F.h),r=Object(d.b)();return Object(U.jsxs)("div",{className:"".concat(ke.a.wrapper," ").concat(He.a.mainBox),children:[Object(U.jsx)(We,{profile:n}),e.userID===y&&Object(U.jsx)(Xe,{placeholderText:Qe.b.profileAreaText,callBack:function(e){return r((t=e,{type:te.ADD_POST,data:t}));var t},postsData:t})]})})),$e=i.a.memo((function(){var e=Number(Object(u.h)().userId),t=xe(F.k),n=xe(F.e),r=Object(d.b)();return Object(c.useEffect)((function(){e!==t?(r(je(e)),r(fe(e))):(r(je(t)),r(fe(t)))}),[e,r,t]),n?Object(U.jsx)(Ke,{userID:e}):Object(U.jsx)(u.a,{to:Pt.LOGIN})}));function et(){return Object(U.jsx)("div",{children:Object(U.jsx)("div",{children:"Events"})})}function tt(){return Object(U.jsx)("div",{children:Object(U.jsx)(et,{})})}var nt=n(119),rt=n.n(nt),at=function(){return Object(U.jsx)("div",{children:"Photos"})};var st=function(){return Object(U.jsx)("div",{className:rt.a.content,children:Object(U.jsx)(at,{})})},ct=n(71),it=n(223),ot=n(211),lt=n(221),ut=n(228),dt=n(218),jt=n(226),ft=n(213),Ot=n(214),bt=n(230),pt=n(227),ht=n(217),mt=i.a.memo((function(){var e=xe((function(e){return e.Auth.isLoggedIn})),t=xe((function(e){return e.App.error})),n=Object(d.b)(),r=Object(c.useState)(!0),a=Object(ye.a)(r,2),s=a[0],i=a[1],o=Object(ct.a)({validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password.length<3&&(t.password="Invalid password length"),e.password||(t.password="Password required"),t},initialValues:{email:"",password:"",rememberMe:!0},onSubmit:function(e){var t;n((t=e,function(){var e=Object(O.a)(f.a.mark((function e(n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:r=e.sent;try{0===r.data.resultCode?n(R(!0)):n(w(r.data.messages[0]))}catch(a){console.log(a.message)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}});if(e)return Object(U.jsx)(u.a,{to:Pt.HOME});return Object(U.jsx)(it.a,{container:!0,justifyContent:"center",children:Object(U.jsxs)(it.a,{item:!0,justifyContent:"center",children:[Object(U.jsx)("h1",{children:"Login"}),Object(U.jsxs)(lt.a,{children:[Object(U.jsxs)(ot.a,{children:[Object(U.jsxs)("p",{children:["To log in get registered",Object(U.jsx)("a",{href:"https://social-network.samuraijs.com/",rel:"noreferrer",target:"_blank",children:" here"})]}),Object(U.jsx)("p",{children:"or use common test account credentials:"}),Object(U.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(U.jsx)("p",{children:"Password: free"})]}),Object(U.jsx)("form",{onSubmit:o.handleSubmit,children:Object(U.jsxs)(jt.a,{children:[Object(U.jsxs)(lt.a,{sx:{mTop:2,width:"35ch"},variant:"standard",children:[Object(U.jsx)(pt.a,{htmlFor:"standard-adornment-email",children:"Email"}),Object(U.jsx)(ht.a,Object(b.a)(Object(b.a)({},o.getFieldProps("email")),{},{onFocus:function(){t&&n(w(""))}}))]}),o.touched.email&&o.errors.email?Object(U.jsx)("div",{style:{color:"red"},children:o.errors.email}):null,Object(U.jsxs)(lt.a,{sx:{mTop:2,width:"35ch"},variant:"standard",children:[Object(U.jsx)(pt.a,{htmlFor:"standard-adornment-password",children:"Password"}),Object(U.jsx)(ht.a,Object(b.a)(Object(b.a)({},o.getFieldProps("password")),{},{id:"standard-adornment-password",type:s?"password":"text",endAdornment:Object(U.jsx)(bt.a,{position:"end",children:Object(U.jsx)(Ue.a,{"aria-label":"toggle password visibility",onClick:function(){i(!s)},onMouseDown:function(e){e.preventDefault()},children:s?Object(U.jsx)(ft.a,{}):Object(U.jsx)(Ot.a,{})})})})),o.touched.password&&o.errors.password?Object(U.jsx)("div",{style:{color:"red"},children:o.errors.password}):null]}),Object(U.jsx)(ut.a,Object(b.a)(Object(b.a)({label:"Remember me",control:Object(U.jsx)(dt.a,{})},o.getFieldProps("rememberMe")),{},{checked:o.getFieldProps("rememberMe").value})),Object(U.jsx)(D.a,{variant:"contained",type:"submit",children:"Login"})]})})]})]})})}));var xt=function(e){return function(t){return Object(U.jsx)(i.a.Suspense,{fallback:Object(U.jsx)(Ae,{}),children:Object(U.jsx)(e,Object(b.a)({},t))})}},vt=n(220),_t=n(219),gt=n(233),St=function(){var e=be(),t=xe((function(e){return e.App.error})),n=function(t,n){"clickaway"!==n&&e(w(null))};return Object(U.jsx)(vt.a,{open:null!==t,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(U.jsxs)(_t.a,{onClose:n,severity:"error",sx:{width:"100%"},children:[Object(U.jsx)(gt.a,{children:"Error"}),Object(U.jsx)("strong",{children:t})]})})},Et=i.a.lazy((function(){return n.e(3).then(n.bind(null,236))})),Pt={HOME:"/",LOGIN:"/login",PROFILE:"/profile",USERS:"/users",ERROR404:"/404",ANY_ROUTE:"*",DIALOGS:"/dialogs",EVENTS:"/events",PHOTOS:"/photos"},Tt=function(){var e=xe((function(e){return e.App.status})),t=me.getState(),n=Object(d.b)(),r=xe(F.k),a=xe(F.e),s=xe(F.d);return Object(c.useEffect)((function(){n(function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:n=e.sent;try{0===n.data.resultCode&&(t(R(!0)),t((a=n.data.data,{type:A.AUTH_SET_PROFILE_DATA,data:a})))}catch(s){console.log(s.message)}finally{t((r=!0,{type:A.AUTH_SET_IS_INITIALIZED,isInitialized:r}))}case 4:case"end":return e.stop()}var r,a}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),s?Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(G,{}),Object(U.jsxs)("main",{className:"mainContent",children:[a&&Object(U.jsx)(V,{SideBar:t.SideBar}),"loading"===e&&Object(U.jsx)(Ae,{}),Object(U.jsxs)(u.d,{children:[Object(U.jsx)(u.b,{path:Pt.HOME,element:Object(U.jsx)(u.a,{to:"".concat(Pt.PROFILE,"/").concat(r)})}),Object(U.jsx)(u.b,{path:Pt.LOGIN,element:Object(U.jsx)(mt,{})}),Object(U.jsx)(u.b,{path:"".concat(Pt.PROFILE,"/:userId"),element:xt($e)({})}),Object(U.jsx)(u.b,{path:Pt.DIALOGS,element:xt(Et)({})}),Object(U.jsx)(u.b,{path:Pt.EVENTS,element:Object(U.jsx)(tt,{})}),Object(U.jsx)(u.b,{path:Pt.PHOTOS,element:Object(U.jsx)(st,{})}),Object(U.jsx)(u.b,{path:Pt.USERS,element:Object(U.jsx)(Ne,{})}),Object(U.jsx)(u.b,{path:Pt.ANY_ROUTE,element:Object(U.jsx)(u.a,{to:Pt.ERROR404})}),Object(U.jsx)(u.b,{path:Pt.ERROR404,element:Object(U.jsx)("div",{children:"Error 404"})})]}),Object(U.jsx)(St,{})]})]}):Object(U.jsx)(Ae,{})};window.store=me,s.a.render(Object(U.jsx)(d.a,{store:me,children:Object(U.jsx)(Y.a,{children:Object(U.jsx)(Tt,{})})}),document.getElementById("root"))},19:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return j})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return O}));var r=function(e){return e.ProfilePage.status},a=function(e){return e.Auth.data.id},s=function(e){return e.ProfilePage.postsData},c=function(e){return e.ProfilePage.profile},i=function(e){return e.Auth.isLoggedIn},o=function(e){return e.Auth.isInitialized},l=function(e){return e.UsersPage.isFetching},u=function(e){return e.UsersPage.items},d=function(e){return e.UsersPage.pageSize},j=function(e){return e.UsersPage.currentPage},f=function(e){return e.UsersPage.totalCount},O=function(e){return e.UsersPage.following}},39:function(e,t,n){e.exports={wrapper:"ProfileInfo_wrapper__1slqq",statusBlock:"ProfileInfo_statusBlock__12kNH",profileName:"ProfileInfo_profileName__QENTj",profileStatus:"ProfileInfo_profileStatus__P1vsw",contacts:"ProfileInfo_contacts__yTcQt",descriptionBlock:"ProfileInfo_descriptionBlock__252WB",menu:"ProfileInfo_menu__4TXbA",modalMainBox:"ProfileInfo_modalMainBox__3RTcD",avatarBlock:"ProfileInfo_avatarBlock__3CI4t",avatarImg:"ProfileInfo_avatarImg__3-stZ",iconUpload:"ProfileInfo_iconUpload__aSS_N"}},48:function(e,t,n){e.exports={sideWrapper:"Navbar_sideWrapper__1dV1_",NavItem:"Navbar_NavItem__3u4wb",active:"Navbar_active__2IssC",ChatBlock:"Navbar_ChatBlock__1-WE4"}},49:function(e,t,n){e.exports={usersWrapper:"users_usersWrapper__2NhZI",usersBlock:"users_usersBlock__30vL-",avatarAndFollowButton:"users_avatarAndFollowButton__3flk2",avatar:"users_avatar__3IP3J",nameAndStatus:"users_nameAndStatus__nYsqe",status:"users_status__2gbbh",name:"users_name__3sX1D"}},51:function(e,t,n){e.exports={ChatBlock:"ChatBlock_ChatBlock__5ewrq",Title:"ChatBlock_Title__YfUmN",imgProfilePhoto:"ChatBlock_imgProfilePhoto__dibQ_",OnlineDot:"ChatBlock_OnlineDot__2krZz",onlineFriendsWrapper:"ChatBlock_onlineFriendsWrapper__14FnN"}},52:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultUserImage.ed37b80a.jpg"},54:function(e,t,n){e.exports={headerWrapper:"Header_headerWrapper__2JC-5",headerContent:"Header_headerContent__1KPAQ",loginBlock:"Header_loginBlock__1rezt",login:"Header_login__2_qsa"}},56:function(e,t,n){e.exports={wrapper:"Profile_wrapper__3dKt0",editableDiv:"Profile_editableDiv__GFY9u",input:"Profile_input__1jMdf"}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={profileAreaText:"What's new with you?",dialogsAreaText:"Type a message"},a=500},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(0),a=n.n(r),s=n(18),c=n(75),i=n.n(c),o=n(52),l=n(16),u=n(19),d=n(1),j=a.a.memo((function(){var e=Object(l.g)(),t=Object(s.c)((function(e){return e.ProfilePage.profile.photos.small})),n=Object(s.c)((function(e){return e.Auth.data.login})),r=Object(s.c)(u.k);return Object(d.jsxs)("div",{className:i.a.myProfilePhotoWrapper,children:[Object(d.jsx)("img",{className:i.a.mySmallPhoto,src:t||o.a,alt:"userPhoto"}),Object(d.jsx)("div",{className:i.a.userName,onClick:function(){e("/profile/".concat(r))},children:n})]})}))},75:function(e,t,n){e.exports={myProfilePhotoWrapper:"MyProfilePhoto_myProfilePhotoWrapper__3ZNPd",mySmallPhoto:"MyProfilePhoto_mySmallPhoto__v9qAS"}},84:function(e,t,n){e.exports={main:"Preloader_main__2BYGT",progress:"Preloader_progress__Q1DsD",scaling:"Preloader_scaling__13g5_"}},85:function(e,t,n){e.exports={itemWrapper:"Post_itemWrapper__1z8ce",userAndLoginBlock:"Post_userAndLoginBlock__2x_uT"}},86:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__sox7b",posts:"MyPosts_posts__2zln9"}},87:function(e,t,n){e.exports={formWrapper:"TextAreaForm_formWrapper__2lVua",textArea:"TextAreaForm_textArea__2ZXO2"}}},[[164,1,2]]]);
//# sourceMappingURL=main.d84049ed.chunk.js.map