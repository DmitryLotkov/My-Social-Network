{"version":3,"sources":["Images/Users/user-4.jpg","Pages/Profile/MyPosts.module.scss","components/Common/MyProfilePhoto/MyProfilePhoto.tsx","components/Common/TextAreaForm/TextAreaForm.tsx","components/Common/MyProfilePhoto/MyProfilePhoto.module.scss","Pages/Profile/MyPosts/Post/Post.module.scss","components/Common/TextAreaForm/TextAreaForm.module.scss","components/Common/Preloader/Preloader.module.scss","Pages/Footer/Footer.module.scss","store/store.ts","store/DialogsReducer.tsx","Pages/EditProfile/EditProfile.module.scss","store/AppReducer.tsx","Pages/Chat/Messages.module.scss","components/Common/Selectors/Selectors.ts","components/Header/Header.module.scss","utils/error.utils.ts","Pages/Error404/Error404.module.scss","Pages/Profile/ContactBlock/ContactBlock.module.scss","Pages/Users/Users.tsx","components/Common/Preloader/Preloader.tsx","Pages/Users/UsersContainerFC.tsx","Pages/Photos/Photos.tsx","Pages/Photos/PhotosContainer.tsx","components/HOC/withSuspense.tsx","components/ErrorSnackBar/ErrorSnackBar.tsx","Images/Logo.svg","components/Header/Navigation.tsx","components/Header/Header.tsx","components/PrivateRoutes.tsx","Images/astronaut.svg","Images/earth.svg","Images/moon.svg","Images/rocket.svg","Images/404Text.svg","Pages/Error404/Error404.tsx","Pages/Login/Login.tsx","Pages/Footer/Footer.tsx","Pages/EditProfile/EditProfile.tsx","Pages/Events/Events.tsx","Pages/Events/EventsContainer.tsx","Pages/Profile/ProfileStatus.tsx","constants.ts","Pages/Profile/ContactBlock/ContactBlock.tsx","Pages/Profile/OnlineFriends/ChatBlock.tsx","Pages/Profile/ProfileInfo/ProfileInfo.tsx","Pages/Profile/MyPosts/Post/Post.tsx","Pages/Profile/MyPosts.tsx","Pages/Profile/AnyUserPosts/AnyUserPost.tsx","Pages/Profile/AnyUserPosts/AnyUserPosts.tsx","Pages/Chat/Message.tsx","Pages/Chat/Messages.tsx","Pages/Chat/Chat.tsx","Pages/Chat/ChatPage.tsx","Pages/Profile/ProfileFC.tsx","Pages/Profile/ProfileContainerFC.tsx","App.tsx","index.tsx","api/api.tsx","store/ProfileReducer.tsx","store/AuthReducer.tsx","Pages/Profile/AnyUserPosts/AnyUserPosts.module.scss","Pages/Profile/ProfileInfo/ProfileInfo.module.scss","Pages/Chat/Message.module.scss","api/chatAPI.ts","store/chatReducer.tsx","Pages/Login/login.module.scss","Images/defaultUserImage.jpg","store/UserPostsReducer.tsx","Images/Users/user-1.jpg","Images/Users/user-2.jpg","Images/Users/user-3.jpg","Images/Users/user-5.jpg","Images/Users/user-6.jpg","Images/Users/user-7.jpg","Images/Users/user-8.jpg","Images/Users/user-9.jpg","Images/Post photo.png","Pages/Users/users.module.scss","store/UsersReducer.tsx","Pages/Profile/Profile.module.scss","Pages/Profile/OnlineFriends/ChatBlock.module.scss","Pages/Chat/ChatPage.module.scss","components/Common/TextAreaForm/textAreaData.ts"],"names":["module","exports","MyProfilePhoto","React","memo","navigate","useNavigate","myPhoto","useAppSelector","state","Auth","myProfile","photos","small","myLoginName","fullName","userID","useSelector","myIDSelector","onClick","className","styles","myProfilePhotoWrapper","mySmallPhoto","src","defaultUserPhoto","alt","jobDescription","TextAreaForm","props","formik","useFormik","initialValues","text","validate","values","errors","length","maxMessageLength","onSubmit","resetForm","callBack","handleSubmit","formWrapper","multiline","textArea","placeholder","placeholderText","getFieldProps","onBlur","onKeyUp","e","webSocketStatusDisabled","key","ctrlKey","iconButton","type","disabled","style","color","useAppDispatch","useDispatch","rootReducer","combineReducers","ProfilePage","profileReducer","DialogPage","dialogsReducer","HardcodedUsers","hardcodedUsersReducer","UsersPage","userReducer","authReducer","App","appReducer","ChatPage","chatReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ACTIONS_TYPE","initialState","dialogs","id","v1","name","avatar","user4","message","messages","action","ADD_DIALOG_MESSAGE","addMessageAC","error","status","APP_SET_ERROR","APP_SET_STATUS","setAppErrorAC","setAppStatusAC","statusSelector","data","profileSelector","profile","isLoggedInSelector","isLoggedIn","isInitializedSelector","isInitialized","isFetchingSelector","isFetching","usersSelector","items","pageSizeSelector","pageSize","currentPageSelector","currentPage","totalUserCountSelector","totalCount","followingArrSelector","following","chatMessageSelector","chatStatusSelector","chatStartMessageCountSelector","startMessagesCount","handleNetworkError","Error","dispatch","response","handleServerAppError","handleServerNetworkError","Users","users","totalUserCount","onPageChanged","followingInProgress","unfollowTC","followTC","pagesCount","Math","ceil","userPhoto","usersWrapper","Pagination","onChange","event","page","size","variant","shape","count","data-testid","map","user","usersBlock","avatarAndFollowButton","followed","Button","some","nameAndStatus","Preloader","main","progress","CircularProgress","UserContainerFC","followingArr","useEffect","getUsersTC","pageNumber","onPageChangedTC","follow","unfollow","Photos","PhotosContainer","content","withSuspense","Component","Suspense","fallback","ErrorSnackBar","handleClose","reason","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","severity","sx","width","AlertTitle","Navigation","logOutHandler","logOutTC","myID","headerContent","logo","sideWrapper","NavItem","to","PATH","PROFILE","isActive","activeNavLink","unActiveNavLink","fontSize","hideForMobile","DIALOGS","USERS","LastNavItem","EDIT_PROFILE","loginBlock","profilePhoto","loginButton","IconButton","logOutIcon","Header","headerWrapper","PrivateRoutes","location","useLocation","encodeURIComponent","pathname","replace","Error404","ErrorWrapper","stars","centralBody","image404","errorText","HOME","btnGoHome","objects","objectRocket","rocket","earthMoon","objectEarth","earth","objectMoon","moon","boxAstronaut","objectAstronaut","astronaut","glowingStars","star","Login","serverError","captchaUrl","useState","isPassType","setIsPassType","email","test","password","rememberMe","captcha","loginTC","listener","code","preventDefault","document","addEventListener","removeEventListener","Grid","loginWrapper","container","justifyContent","login","item","h2","FormControl","textFields","FormLabel","href","rel","target","FormGroup","mTop","InputLabel","htmlFor","Input","onFocus","touched","emailError","endAdornment","InputAdornment","position","aria-label","onMouseDown","VisibilityOff","Visibility","passError","FormControlLabel","checkbox","label","control","Checkbox","checked","value","button","marginTop","marginBottom","Footer","year","Date","getFullYear","LastContactContainer","error404Display","EditProfile","userId","s","editProfileWrapper","enableReinitialize","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","updateProfileTC","formRow","contactText","TextField","inputProps","textField","handleChange","handleBlur","helperText","formRowWithoutMargin","labelPlacement","Events","EventsContainer","ProfileStatus","localStatus","setLocalStatus","editMode","setEditMode","activateEditMode","deactivateEditMode","updateUserStatusTC","editableDiv","input","currentTarget","onKeyPress","maxPictureSize","Yup","min","max","required","matches","nullable","url","ContactBlock","contactsBlock","contactsBlockItem","icon","faVk","faInstagram","faYoutube","faGithub","faTwitter","faFacebook","faFirefoxBrowser","faGoogle","ChatBlock","chatStyles","onlineFriendsWrapper","imgProfilePhoto","OnlineDot","top","left","transform","bgcolor","boxShadow","p","borderRadius","ProfileInfo","large","Number","useParams","myId","photoRef","useRef","onlineFriends","setOpen","base64Avatar","setLocalAvatar","fileAvatar","setFileAvatar","openPopover","setOpenPopover","popoverAnchor","show","Object","every","handleCloseModal","onlineFriendsArr","f","profileInfoWrapper","avatarWrapper","isNaN","menu","statusBlock","profileName","popover","ref","profileStatus","profileDescription","Title","Modal","Box","display","flexDirection","alignItems","right","Close","accept","reader","FileReader","file","files","onloadend","result","readAsDataURL","textTransform","current","click","uploadAvatarTC","Popover","anchorEl","transformOrigin","Typography","Post","likeCount","updated","likeObj","setLikeObj","addLikeHandler","likeGenerator","round","random","generateLike","itemWrapper","avatarAndClose","height","deleteMyPostAC","likeBlock","MyPosts","postsElements","postsData","likesCount","reverse","postBlock","myPostForm","newPostHeader","posts","AnyUserPost","postText","postPhoto","anyUserPost","userWrapper","userPhotoAndDescriptionBlock","userDescription","userPosition","deleteUsersPostAC","AnyUserPosts","anyPostsElements","anyUserPostsData","post","Message","devChatMessageBlock","myImgAndMessage","someUserImgAndMessage","myNameAndMessage","someUserNameAndMessage","userName","marginLeft","photo","defaultUserImage","Messages","isAutoScroll","setIsAutoScroll","messagesAnchorRef","scrollIntoView","messagesBlock","onScroll","element","abs","scrollHeight","scrollTop","clientHeight","m","Chat","startMessagesListeningTC","stopMessagesListeningTC","sendMessageTC","filter","isChatOpen","setIsChatOpen","startMessagesLength","setStartMessagesLength","newMessagesCount","setStartMessagesCountAC","chatPageBlockOpen","chatPageBlockCollapsed","chatTitle","messageFlag","noMessageFlag","minimizeIcon","ProfileFC","myPostsData","profileWrapper","allPostsBlock","profileAreaText","addPostActionAC","ProfileContainerFC","myUserID","getProfileTC","getUserStatusTC","LOGIN","SuspendedDialogContainer","lazy","ERROR404","ANY_ROUTE","EVENTS","PHOTOS","appStatus","initializeAppTC","path","UsersContainerFC","ReactDOM","render","getElementById","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","get","profileAPI","getProfile","getStatus","updateStatus","put","uploadAvatar","photoFile","formData","FormData","append","updateProfile","authAPI","me","delete","logout","getFollowers","securityAPI","setStatusAC","SET_STATUS","SET_SOME_USER_PROFILE","SAVE_MY_PROFILE_PHOTO","isMyProfile","a","res","setMyProfileAC","console","log","resultCode","getState","undefined","SET_IS_LOGGED_IN","SET_IS_INITIALIZED","SET_AUTH_DATA","GET_CAPTCHA","SET_AUTH_PROFILE_DATA","setIsLoggedInAC","getCaptchaAC","profileData","getCaptchaTC","subscribers","isShowCloseAlert","ws","alertCounter","closeHandler","alert","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","newMessages","JSON","parse","forEach","openHandler","errorHandler","cleanUp","close","WebSocket","chatAPI","eventName","callback","push","send","SET_MESSAGES","CHANGE_STATUS","SAVE_MESSAGES_COUNT","_newMessageHandler","newMessageHandlerCreator","setMessagesAC","_statusChangedHandler","statusChangedHandlerCreator","changeStatusAC","user1","user2","user3","user5","user6","user7","user8","user9","ADD_POST","DELETE_MY_POST","DELETE_USERS_POST","UserPostsReducer","FOLLOW","u","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","IS_FETCHING","IS_FOLLOWING_PROGRESS","followingIsProgress","followSuccessAC","unFollowSuccessAC","setUsersAC","setUsersTotalCountAC","serverTotalUsersCount","toggleIsFetchingAC","toggleFollowingProgressAC","dialogsAreaText"],"mappings":"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","file":"static/js/main.2f2bfaef.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user-4.f2ebe3cd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__awBB3\",\"myPostForm\":\"MyPosts_myPostForm__1W6yS\",\"newPostHeader\":\"MyPosts_newPostHeader__2cgix\",\"posts\":\"MyPosts_posts__2-aqw\"};","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../store/store\";\r\nimport styles from \"./MyProfilePhoto.module.scss\";\r\nimport defaultUserPhoto from \"../../../Images/defaultUserImage.jpg\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {myIDSelector} from \"../Selectors/Selectors\";\r\n\r\n\r\nexport const MyProfilePhoto = React.memo(() =>{\r\n    const navigate = useNavigate();\r\n    const myPhoto = useAppSelector<string | undefined>(state => state.Auth.myProfile?.photos?.small);\r\n    const myLoginName = useAppSelector<string | undefined>(state => state.Auth.myProfile?.fullName);\r\n    const userID = useSelector(myIDSelector);\r\n    const navigateToMyMage = () => navigate(`/profile/${userID}`);\r\n\r\n    return (\r\n        <div onClick={navigateToMyMage} className={styles.myProfilePhotoWrapper}>\r\n            <img className={styles.mySmallPhoto} src={myPhoto || defaultUserPhoto} alt={\"userPhoto\"}/>\r\n            <div >\r\n                <strong>{myLoginName}</strong>\r\n                <div className={styles.jobDescription}>Frontend developer</div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {useFormik} from \"formik\";\r\nimport styles from \"./TextAreaForm.module.scss\";\r\nimport {maxMessageLength} from \"./textAreaData\";\r\nimport {TextField} from \"@mui/material\";\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { MyPostsPropsType } from \"../../../Pages/Profile/MyPosts\";\r\n\r\ntype TexAreaPostType = MyPostsPropsType & {\r\n    webSocketStatusDisabled?: boolean\r\n}\r\n\r\n\r\nexport const TextAreaForm = React.memo((props: TexAreaPostType) => {\r\n    type FormikErrorType = {\r\n        text?: string\r\n    }\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            text: \"\",\r\n        },\r\n        validate: values => {\r\n            const errors: FormikErrorType = {};\r\n            if(values.text.length >= maxMessageLength){\r\n                errors.text = `Max length of message is ${maxMessageLength} symbols.`\r\n            }\r\n            return errors;\r\n        },\r\n\r\n        onSubmit: (values, {resetForm}) => {\r\n            if (values.text !== \"\")\r\n                props.callBack(values.text)\r\n            resetForm();\r\n        },\r\n\r\n    })\r\n    const onKeyUpHandler = (e:React.KeyboardEvent<HTMLDivElement>) =>{\r\n        if(!props?.webSocketStatusDisabled && e.key===\"Enter\" && e.ctrlKey){\r\n            formik.handleSubmit();\r\n        }\r\n    }\r\n    return (\r\n        <form  onSubmit={formik.handleSubmit}>\r\n            <div className={styles.formWrapper}>\r\n                <TextField  multiline={true} className={styles.textArea}\r\n                         placeholder={props.placeholderText}\r\n                         {...formik.getFieldProps(\"text\")} onBlur={() => formik.errors.text = \"\"} onKeyUp={onKeyUpHandler }\r\n            />\r\n                <>\r\n                    {\r\n                        formik.values.text &&\r\n                            <IconButton className={styles.iconButton} type={\"submit\"} disabled={props?.webSocketStatusDisabled }>\r\n                                 <SendIcon/>\r\n                            </IconButton>\r\n                    }\r\n                </>\r\n            </div>\r\n            {formik.errors.text &&  <div style={{color: \"red\"}}> {formik.errors.text}</div>}\r\n        </form>\r\n    )\r\n\r\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myProfilePhotoWrapper\":\"MyProfilePhoto_myProfilePhotoWrapper__ujXj7\",\"mySmallPhoto\":\"MyProfilePhoto_mySmallPhoto__2CA9x\",\"jobDescription\":\"MyProfilePhoto_jobDescription__1Re2c\",\"jobStatus\":\"MyProfilePhoto_jobStatus__1rH_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"Post_itemWrapper__36K0p\",\"avatarAndClose\":\"Post_avatarAndClose__10YEY\",\"likeBlock\":\"Post_likeBlock__2ZQLA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"TextAreaForm_formWrapper__1ppx3\",\"textArea\":\"TextAreaForm_textArea__1pfwG\",\"iconButton\":\"TextAreaForm_iconButton__3YTtH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__3pqhT\",\"progress\":\"Preloader_progress__aJfYS\",\"scaling\":\"Preloader_scaling__1TF5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LastContactContainer\":\"Footer_LastContactContainer__1b38W\",\"error404Display\":\"Footer_error404Display__2vHdz\"};","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\n\r\n\r\nimport hardcodedUsersReducer from \"./UserPostsReducer\";\r\nimport {UsersActionsType, userReducer} from \"./UsersReducer\";\r\nimport {AuthActionsType, authReducer} from \"./AuthReducer\";\r\nimport thunkMiddleware, {ThunkDispatch} from 'redux-thunk'\r\nimport {appReducer, AppActionsType} from \"./AppReducer\";\r\nimport {ProfileActionsType, profileReducer} from \"./ProfileReducer\";\r\nimport {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsReducer} from \"./DialogsReducer\";\r\nimport {ChatActionsType, chatReducer} from \"./chatReducer\";\r\n\r\n\r\n\r\n\r\nexport type AppRootStateType = ReturnType <typeof rootReducer>\r\nexport type RootActionsType = AuthActionsType | AppActionsType | ProfileActionsType | UsersActionsType | ChatActionsType\r\nexport type AppThunkDispatch = ThunkDispatch<AppStoreType, null, RootActionsType>;\r\nexport const useAppDispatch: () => AppThunkDispatch = useDispatch;\r\nconst rootReducer = combineReducers({\r\n    ProfilePage: profileReducer,\r\n    DialogPage: dialogsReducer,\r\n    HardcodedUsers: hardcodedUsersReducer,\r\n    UsersPage: userReducer,\r\n    Auth: authReducer,\r\n    App: appReducer,\r\n    ChatPage: chatReducer\r\n})\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nexport type AppStoreType = ReturnType<typeof rootReducer>;\r\nexport const useAppSelector: TypedUseSelectorHook<AppStoreType> = useSelector;\r\n","import {v1} from \"uuid\";\r\nimport user4 from \"./../Images/Users/user-4.jpg\"\r\n\r\n\r\n\r\n//types\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport enum ACTIONS_TYPE {\r\n    ADD_DIALOG_MESSAGE = \"DIALOGS/ADD-DIALOG-MESSAGE\",\r\n}\r\nexport type DialogActionsType = ReturnType<typeof addMessageAC>\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n    avatar: string\r\n    message: string\r\n}\r\nexport type DialogsStateType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n}\r\nconst initialState: DialogsStateType = {\r\n\r\n    dialogs: [\r\n        {\r\n            id: v1(),\r\n            name: \"Kyle Fisher\",\r\n            avatar: user4,\r\n            message: \"What is the weather forecast for tomorrow?\"\r\n        },\r\n\r\n    ],\r\n    messages: [\r\n        {id: v1(), message: \"Looks like it will be sunny tomorrow=)\"}\r\n    ]\r\n}\r\n//reducer\r\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: DialogActionsType): DialogsStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.ADD_DIALOG_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: action.text}]\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n//action creators\r\nexport const addMessageAC = (text: string) => ({type: ACTIONS_TYPE.ADD_DIALOG_MESSAGE, text} as const)\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editProfileWrapper\":\"EditProfile_editProfileWrapper__OZsZF\",\"content\":\"EditProfile_content__yeo62\",\"checkBox\":\"EditProfile_checkBox__3_9ZV\",\"formRowWithoutMargin\":\"EditProfile_formRowWithoutMargin__2qdG4\",\"formRow\":\"EditProfile_formRow__x-fvC\",\"contactText\":\"EditProfile_contactText__16E2y\",\"textField\":\"EditProfile_textField__6lKce\",\"checkBoxLabel\":\"EditProfile_checkBoxLabel__7g5NV\",\"button\":\"EditProfile_button__XUxZk\"};","\r\n\r\n//types\r\nexport type NullableType<T> = null | T\r\nexport enum ACTIONS_TYPE {\r\n    APP_SET_ERROR = \"APP-SET-ERROR\",\r\n    APP_SET_STATUS = \"APP/SET-STATUS\"\r\n}\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\nexport type AppActionsType = ReturnType<typeof setAppErrorAC> | ReturnType<typeof setAppStatusAC>\r\n\r\ntype InitialStateType = typeof initialState\r\nconst initialState = {\r\n    error: null as NullableType<string>,\r\n    status: \"idle\" as RequestStatusType,\r\n}\r\n\r\n//reducer\r\nexport const appReducer = (state: InitialStateType = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.APP_SET_ERROR:\r\n            return {...state, error: action.error}\r\n        case ACTIONS_TYPE.APP_SET_STATUS:\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creators\r\nexport const setAppErrorAC = (error: NullableType<string>) => ({type: ACTIONS_TYPE.APP_SET_ERROR, error} as const);\r\nexport const setAppStatusAC = (status: RequestStatusType) => ({ type: ACTIONS_TYPE.APP_SET_STATUS, status} as const);\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesBlock\":\"Messages_messagesBlock__n1krz\"};","import {AppRootStateType} from \"../../../store/store\";\r\nimport {UserType} from \"../../../store/UsersReducer\";\r\nimport {ProfileDataType} from \"../../../store/ProfileReducer\";\r\nimport {ChatMessageType, StatusType} from \"../../../store/chatReducer\";\r\n\r\nexport const statusSelector = (state:AppRootStateType):string =>{\r\n    return state.ProfilePage.status;\r\n}\r\nexport const myIDSelector = (state:AppRootStateType):number =>{\r\n    return state.Auth.data.id;\r\n}\r\nexport const profileSelector = (state:AppRootStateType):ProfileDataType =>{\r\n    return state.ProfilePage.profile;\r\n}\r\nexport const isLoggedInSelector = (state:AppRootStateType):boolean =>{\r\n    return state.Auth.isLoggedIn;\r\n}\r\nexport const isInitializedSelector = (state:AppRootStateType):boolean =>{\r\n    return state.Auth.isInitialized;\r\n}\r\nexport const isFetchingSelector = (state:AppRootStateType):boolean =>{\r\n    return state.UsersPage.isFetching;\r\n}\r\nexport const usersSelector = (state:AppRootStateType):UserType[] =>{\r\n    return state.UsersPage.items;\r\n}\r\nexport const pageSizeSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.pageSize;\r\n}\r\nexport const currentPageSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.currentPage;\r\n}\r\nexport const totalUserCountSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.totalCount;\r\n}\r\nexport const followingArrSelector = (state:AppRootStateType):Array<string> =>{\r\n    return state.UsersPage.following;\r\n}\r\nexport const chatMessageSelector = (state:AppRootStateType):Array<ChatMessageType> =>{\r\n    return state.ChatPage.messages;\r\n}\r\nexport const chatStatusSelector = (state:AppRootStateType):StatusType =>{\r\n    return state.ChatPage.status;\r\n}\r\nexport const chatStartMessageCountSelector = (state:AppRootStateType):number =>{\r\n    return state.ChatPage.startMessagesCount;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"Header_headerWrapper__ieoh3\",\"sideWrapper\":\"Header_sideWrapper__1xkaz\",\"NavItem\":\"Header_NavItem__1l6qi\",\"LastNavItem\":\"Header_LastNavItem__t7uwd\",\"hideForMobile\":\"Header_hideForMobile__2r21P\",\"unActiveNavLink\":\"Header_unActiveNavLink__S8Dvm\",\"activeNavLink\":\"Header_activeNavLink__FTlHl\",\"logo\":\"Header_logo__3DKsg\",\"headerContent\":\"Header_headerContent__1GBc_\",\"logOutIcon\":\"Header_logOutIcon__13SK4\",\"loginBlock\":\"Header_loginBlock__2Vz7d\",\"profilePhoto\":\"Header_profilePhoto__2JnBf\",\"loginButton\":\"Header_loginButton__3L0rf\"};","import {AxiosError} from \"axios\";\r\nimport {AppThunkDispatch} from \"../store/store\";\r\nimport {setAppErrorAC, setAppStatusAC} from \"../store/AppReducer\";\r\nimport {RespType} from \"../api/api\";\r\n\r\n\r\nexport const handleNetworkError = (Error: AxiosError<{ error: string }>, dispatch: AppThunkDispatch) =>{\r\n\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n    dispatch(setAppErrorAC(Error.response?.data.error || \"some Error\"));\r\n}\r\n\r\n\r\nexport const handleServerAppError = <D>(data: RespType<D>, dispatch: AppThunkDispatch, ) =>{\r\n    if (data.messages.length) {\r\n        dispatch(setAppErrorAC(data.messages[0]));\r\n    } else {\r\n        dispatch(setAppErrorAC(\"Some error occupied\"));\r\n    }\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n\r\n}\r\nexport const handleServerNetworkError = (error:Error, dispatch:AppThunkDispatch) =>{\r\n    dispatch(setAppErrorAC(error.message));\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinEarthOnHover\":\"Error404_spinEarthOnHover__1b0Fw\",\"ErrorWrapper\":\"Error404_ErrorWrapper__1uC5B\",\"stars\":\"Error404_stars__mdnOj\",\"centralBody\":\"Error404_centralBody__2CXaR\",\"image404\":\"Error404_image404__303rd\",\"btnGoHome\":\"Error404_btnGoHome__1YTZO\",\"objects\":\"Error404_objects__3JyeS\",\"objectRocket\":\"Error404_objectRocket__2hYkb\",\"rocketMovement\":\"Error404_rocketMovement__2b-w6\",\"earthMoon\":\"Error404_earthMoon__1EI0X\",\"objectEarth\":\"Error404_objectEarth__3clmu\",\"spinEarth\":\"Error404_spinEarth__3Qgkn\",\"objectMoon\":\"Error404_objectMoon__23mNN\",\"boxAstronaut\":\"Error404_boxAstronaut__3qClC\",\"moveAstronaut\":\"Error404_moveAstronaut__3_sW1\",\"objectAstronaut\":\"Error404_objectAstronaut__3pH88\",\"rotateAstronaut\":\"Error404_rotateAstronaut__1Y_ck\",\"glowingStars\":\"Error404_glowingStars__3ILxB\",\"star\":\"Error404_star__3zlhp\",\"glowStar\":\"Error404_glowStar__2B4_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsBlock\":\"ContactBlock_contactsBlock__1UYE4\",\"contactsBlockItem\":\"ContactBlock_contactsBlockItem__mCkW3\",\"icon\":\"ContactBlock_icon__3gBow\",\"lastContactBlockItem\":\"ContactBlock_lastContactBlockItem__3UFiP\"};","import React, {ChangeEvent} from \"react\";\r\nimport style from \"./users.module.scss\";\r\nimport userPhoto from \"../../Images/defaultUserImage.jpg\";\r\nimport {UserType} from \"../../store/UsersReducer\";\r\nimport Pagination from '@mui/material/Pagination';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype usersPropsType = {\r\n    totalUserCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: UserType[]\r\n    followingInProgress: Array<string>\r\n    followTC: (userID: string) => void\r\n    unfollowTC: (userID: string) => void\r\n}\r\n\r\nexport function Users({users, totalUserCount, currentPage, pageSize, onPageChanged, followingInProgress,\r\n                          unfollowTC, followTC}: usersPropsType) {\r\n    const navigate = useNavigate();\r\n    const pagesCount = Math.ceil(totalUserCount / pageSize);\r\n    const defaultUserPhoto: string = userPhoto;\r\n    const onPageHandler = (event: ChangeEvent<unknown>, page: number) => {\r\n        onPageChanged(page);\r\n    }\r\n\r\n\r\n    return <div className={style.usersWrapper}>\r\n        <Pagination color={\"primary\"}\r\n                    onChange={onPageHandler}\r\n                    size={\"small\"}\r\n                    variant={\"outlined\"}\r\n                    shape=\"rounded\"\r\n                    count={pagesCount}\r\n                    page={currentPage}\r\n                    data-testid=\"pagination\"\r\n        />\r\n        {users.map(user =>\r\n\r\n            <div key={user.id} data-testid=\"userArr\">\r\n                <div className={style.usersBlock}>\r\n                    <div className={style.avatarAndFollowButton}>\r\n                        <img onClick={() => navigate(`/profile/${user.id}`)}\r\n                             className={style.avatar} src={user.photos.small ? user.photos.small : defaultUserPhoto}\r\n                             alt={\"user\"}/>\r\n                        <span>\r\n                            {user.followed ?\r\n                                <Button disabled={followingInProgress\r\n                                    .some(id => id === user.id)}\r\n                                        onClick={() => {\r\n                                            //ниже вызывается thunk creator из пропсов, в userContainerFC unfollowTC оборачивается dispatch\r\n                                            unfollowTC(user.id)\r\n                                        }\r\n                                        }>Unfollow</Button>\r\n\r\n                                : <Button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={\r\n                                              () => {\r\n                                                  //ниже вызывается thunk creator из пропсов, в userContainerFC unfollowTC оборачивается dispatch\r\n                                                  //thunk creator нужен для связи DAL и BLL минуя UI\r\n                                                  followTC(user.id)\r\n                                              }\r\n                                          }>Follow</Button>\r\n                            }\r\n                            </span>\r\n                    </div>\r\n                    <div className={style.nameAndStatus}>\r\n                        <h3 className={style.name}>\r\n                            <div>{user.name}</div>\r\n                        </h3>\r\n                        <div className={style.status}>{`Status:  ${user.status ?? \"no status\"}`}</div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>)}\r\n    </div>\r\n\r\n}\r\n\r\n","import React from \"react\"\r\nimport styles from \"./Preloader.module.scss\"\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nexport function Preloader (){\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.progress}>\r\n                <CircularProgress size={50}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {useDispatch} from \"react-redux\";\r\nimport {\r\n    follow, getUsersTC, onPageChangedTC, unfollow\r\n} from \"../../store/UsersReducer\";\r\nimport React, {FC, useEffect} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../../components/Common/Preloader/Preloader\";\r\nimport {\r\n    currentPageSelector, followingArrSelector,\r\n    isFetchingSelector,\r\n    pageSizeSelector,\r\n    totalUserCountSelector,\r\n    usersSelector\r\n} from \"../../components/Common/Selectors/Selectors\";\r\nimport {useAppSelector} from \"../../store/store\";\r\n\r\n\r\n\r\nconst UserContainerFC: FC = React.memo(() => {\r\n\r\n    const dispatch = useDispatch();\r\n    const users = useAppSelector(usersSelector);\r\n    const isFetching = useAppSelector(isFetchingSelector);\r\n    const pageSize = useAppSelector(pageSizeSelector);\r\n    const currentPage = useAppSelector(currentPageSelector);\r\n    const totalUserCount = useAppSelector(totalUserCountSelector);\r\n    const followingArr = useAppSelector(followingArrSelector);\r\n    // let Redirect= WithAuthRedirect(Users);\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsersTC());\r\n    }, [currentPage, pageSize, dispatch])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(onPageChangedTC(pageSize, pageNumber));\r\n    }\r\n\r\n    const unfollowTC = (userID: string) => {\r\n        dispatch(unfollow(userID))\r\n    }\r\n\r\n    const followTC = (userID: string) => {\r\n        dispatch(follow(userID))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isFetching ?\r\n                    <Preloader/> :\r\n                    <Users onPageChanged={onPageChanged}\r\n                                            currentPage={currentPage}\r\n                                            totalUserCount={totalUserCount}\r\n                                            pageSize={pageSize}\r\n                                            users={users}\r\n                                            followTC={followTC}\r\n                                            unfollowTC={unfollowTC}\r\n                                            followingInProgress={followingArr}/>\r\n            }\r\n        </>\r\n    )\r\n})\r\nexport default UserContainerFC\r\n","import React from 'react';\r\n\r\nconst Photos = () => {\r\n    return (\r\n        <div>\r\n            Photos\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Photos;","import React from 'react';\r\nimport styles from \"./Photos.module.scss\";\r\n\r\nimport Photos from \"./Photos\";\r\n\r\n\r\nfunction PhotosContainer() {\r\n    /*const Redirect = WithAuthRedirect(Photos)*/\r\n    return(\r\n        <div className={styles.content}>\r\n            {/*<Redirect/>*/}\r\n            <Photos/>\r\n        </div>\r\n    );\r\n}\r\n/*compose<React.ComponentType>(WithAuthRedirect)(PhotosContainer);*/\r\nexport default PhotosContainer","import React, {ReactElement} from 'react';\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nfunction withSuspense<T>(Component: React.ComponentType<T>) {\r\n\r\n    return (props:T):ReactElement => (\r\n        <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    )\r\n}\r\nexport default withSuspense\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\n\r\nimport Alert from \"@mui/material/Alert\";\r\nimport {AlertTitle} from \"@mui/material\";\r\nimport {useAppDispatch, useAppSelector} from \"../../store/store\";\r\nimport {NullableType, setAppErrorAC} from \"../../store/AppReducer\";\r\n\r\n\r\n\r\nexport const ErrorSnackBar = () => {\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n    const error = useAppSelector<NullableType<string>>(state => state.App.error);\r\n\r\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setAppErrorAC(null))\r\n    };\r\n\r\n    return (\r\n        <Snackbar open={error !== null} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}>\r\n            <Alert\r\n                onClose={handleClose} severity=\"error\" sx={{width: '100%'}}>\r\n                <AlertTitle>Error</AlertTitle>\r\n                <strong>{error}</strong>\r\n            </Alert>\r\n        </Snackbar>\r\n    );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Logo.f593821f.svg\";","import React from 'react';\r\nimport styles from \"./Header.module.scss\"\r\nimport {NavLink, useNavigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logOutTC} from \"../../store/AuthReducer\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {isLoggedInSelector, myIDSelector} from \"../Common/Selectors/Selectors\";\r\nimport logo from \"../../Images/Logo.svg\"\r\nimport {PATH} from \"../../App\";\r\nimport RssFeedIcon from '@mui/icons-material/RssFeed';\r\nimport MessageIcon from '@mui/icons-material/Message';\r\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport {MyProfilePhoto} from \"../Common/MyProfilePhoto/MyProfilePhoto\";\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport {IconButton} from \"@mui/material\";\r\n\r\nexport function Navigation() {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const isLoggedIn = useSelector(isLoggedInSelector);\r\n    const logOutHandler = () => {\r\n        dispatch(logOutTC());\r\n        navigate(\"/login\")\r\n    }\r\n    const myID = useSelector(myIDSelector);\r\n\r\n    const navigateToMyMage = () => {\r\n        navigate(`/profile/${myID}`)\r\n    }\r\n    return (\r\n        <div className={styles.headerContent}>\r\n            <div className={styles.logo}>\r\n                <img src={logo} alt=\"logo\"/>\r\n            </div>\r\n            <nav className={styles.sideWrapper}>\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={`${PATH.PROFILE}/${myID}`}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <RssFeedIcon fontSize={'large'}/>\r\n                        <div className={styles.hideForMobile}>Feed</div>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={PATH.DIALOGS}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <MessageIcon fontSize={'large'}/>\r\n                        <div className={styles.hideForMobile}>Dialogs</div>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={PATH.USERS}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <PeopleAltIcon fontSize={'large'}/>\r\n                        <div className={styles.hideForMobile}>All Users</div>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={styles.LastNavItem}>\r\n                    <NavLink to={PATH.EDIT_PROFILE}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <SettingsIcon fontSize={'large'}/>\r\n                        <div className={styles.hideForMobile}>Edit Profile</div>\r\n                    </NavLink>\r\n                </div>\r\n\r\n            </nav>\r\n\r\n            <div className={styles.loginBlock}>\r\n                <div className={styles.profilePhoto} onClick={navigateToMyMage}>\r\n                    <MyProfilePhoto/>\r\n                </div>\r\n                {/*<div className={styles.jobStatus}>\r\n                    <div className={styles.userName} onClick={navigateToMyMage}>\r\n                        {myLoginName}\r\n                    </div>\r\n                </div>*/}\r\n                {\r\n                    isLoggedIn &&\r\n                    <>\r\n                        <Button variant={\"outlined\"} className={styles.loginButton} onClick={logOutHandler}>\r\n                            Log out\r\n                        </Button>\r\n\r\n                         <IconButton className={styles.logOutIcon} onClick={logOutHandler}>\r\n                            <LogoutIcon fontSize={\"large\"} />\r\n                        </IconButton>\r\n                    </>\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport styles from \"./Header.module.scss\"\r\nimport {Navigation} from \"./Navigation\";\r\n\r\n\r\nexport function Header() {\r\n\r\n    return (\r\n        <header className={styles.headerWrapper}>\r\n            <Navigation/>\r\n        </header>\r\n\r\n    )\r\n}","import React from 'react';\r\nimport {Navigate, Outlet, useLocation} from \"react-router-dom\";\r\nimport {useAppSelector} from \"../store/store\";\r\nimport {isLoggedInSelector} from \"./Common/Selectors/Selectors\";\r\nimport {Header} from \"./Header/Header\";\r\n\r\n\r\n\r\nconst PrivateRoutes = () => {\r\n    const location = useLocation();\r\n\r\n    const isLoggedIn = useAppSelector<boolean>(isLoggedInSelector);\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Navigate\r\n                to={`/login?redirectTo=${encodeURIComponent(location.pathname)}`}\r\n                replace\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Outlet/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PrivateRoutes;","export default __webpack_public_path__ + \"static/media/astronaut.efda7730.svg\";","export default __webpack_public_path__ + \"static/media/earth.e0fbdf02.svg\";","export default __webpack_public_path__ + \"static/media/moon.5a77d87b.svg\";","export default __webpack_public_path__ + \"static/media/rocket.9c039dba.svg\";","export default __webpack_public_path__ + \"static/media/404Text.154db121.svg\";","import React from \"react\";\r\nimport styles from \"./Error404.module.scss\";\r\nimport {NavLink, } from \"react-router-dom\";\r\n\r\nimport astronaut from \"./../../Images/astronaut.svg\";\r\nimport earth from \"./../../Images/earth.svg\";\r\nimport moon from \"./../../Images/moon.svg\";\r\nimport rocket from \"./../../Images/rocket.svg\";\r\nimport errorText from \"./../../Images/404Text.svg\";\r\nimport {PATH} from \"../../App\";\r\n\r\nexport const Error404 = () => {\r\n\r\n    return (\r\n        <div className={styles.ErrorWrapper } >\r\n\r\n            <div className={styles.stars} >\r\n\r\n                <div className={styles.centralBody}>\r\n                    <img className={styles.image404} src={errorText} alt={\"img404\"}/>\r\n                    <NavLink to={`${PATH.HOME}`} className={styles.btnGoHome}>GO BACK HOME</NavLink>\r\n                </div>\r\n                <div className={styles.objects}>\r\n                    <img className={styles.objectRocket} src={rocket} alt={\"imgRocket\"}/>\r\n                    <div className={styles.earthMoon}>\r\n                        <img className={styles.objectEarth} src={earth} alt={\"imgEarth\"}/>\r\n                        <img className={styles.objectMoon} src={moon} alt={\"imgMoon\"}/>\r\n                    </div>\r\n                    <div className={styles.boxAstronaut}>\r\n                        <img className={styles.objectAstronaut} src={astronaut} alt={\"imgAstronaut\"}/>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.glowingStars}>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, } from \"react-redux\";\r\nimport {loginTC} from \"../../store/AuthReducer\";\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {NullableType, setAppErrorAC} from \"../../store/AppReducer\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Button from \"@mui/material/Button\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport {PATH} from \"../../App\";\r\nimport {Visibility, VisibilityOff} from \"@mui/icons-material\";\r\nimport {InputAdornment} from \"@mui/material\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport Input from \"@mui/material/Input\";\r\nimport styles from \"./login.module.scss\";\r\n\r\ntype FormikErrorType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\nexport const Login = React.memo(() => {\r\n    const isLoggedIn = useAppSelector<boolean>(state => state.Auth.isLoggedIn);\r\n    const serverError = useAppSelector<NullableType<string>>(state => state.App.error);\r\n    const captchaUrl = useAppSelector<NullableType<string>>(state => state.Auth.captchaUrl)\r\n    const dispatch = useDispatch();\r\n    const [isPassType, setIsPassType] = useState<boolean>(true);\r\n\r\n    const formik = useFormik({\r\n        validate: (values) => {\r\n            const errors: Partial<FormikErrorType> = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (values.password.length < 3) {\r\n                errors.password = \"Invalid password length\"\r\n            }\r\n            if (!values.password) {\r\n                errors.password = \"Password required\"\r\n            }\r\n\r\n            return errors;\r\n        },\r\n        initialValues: {\r\n            email: \"\",\r\n            password: \"\",\r\n            rememberMe: true,\r\n            captcha: \"\"\r\n        },\r\n\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values));\r\n        }\r\n    })\r\n\r\n\r\n    const removeError = () => {\r\n        serverError && dispatch(setAppErrorAC(\"\"));\r\n    }\r\n    const handleClickShowPassword = () => {\r\n        setIsPassType(!isPassType);\r\n    };\r\n    const handleMouseDownPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        event.preventDefault();\r\n    };\r\n    useEffect(() => {\r\n        const listener = (event: KeyboardEvent) => {\r\n            if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\r\n                event.preventDefault();\r\n                formik.handleSubmit()\r\n            }\r\n        };\r\n        document.addEventListener(\"keydown\", listener);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", listener);\r\n        };\r\n    }, [formik]);\r\n\r\n    if (isLoggedIn) {\r\n        return <Navigate to={PATH.HOME}/>\r\n    }\r\n    return (\r\n\r\n        <Grid className={styles.loginWrapper} container justifyContent={\"center\"}>\r\n            <Grid className={styles.login} item justifyContent={'center'}>\r\n                <h2 className={styles.h2}>\r\n                    Social network\r\n                </h2>\r\n                <h2 >\r\n                    Sign in\r\n                </h2>\r\n                <FormControl className={styles.textFields}>\r\n                    <FormLabel>\r\n                        <p>To log in get registered\r\n                            <a href={'https://social-network.samuraijs.com/'}\r\n                               rel=\"noreferrer\" target={'_blank'}> here\r\n                            </a>\r\n                        </p>\r\n                        <p>or use common test account credentials:</p>\r\n                        <p>Email: free@samuraijs.com</p>\r\n                        <p>Password: free</p>\r\n                    </FormLabel>\r\n                    <form onSubmit={formik.handleSubmit}>\r\n                        <FormGroup >\r\n                            <FormControl  sx={{mTop: 2, width: '30ch'}} variant=\"standard\">\r\n                                <InputLabel htmlFor=\"standard-adornment-email\">Email</InputLabel>\r\n                                <Input {...formik.getFieldProps(\"email\")} onFocus={removeError}\r\n                                />\r\n                            </FormControl>\r\n                            {formik.touched.email && formik.errors.email ?\r\n                                <div className={styles.emailError}>{formik.errors.email}</div> : null}\r\n\r\n                            <FormControl sx={{mTop: 2, width: '30ch'}} variant=\"standard\">\r\n                                <InputLabel htmlFor=\"standard-adornment-password\">Password</InputLabel>\r\n                                <Input {...formik.getFieldProps(\"password\")}\r\n                                       id=\"standard-adornment-password\"\r\n                                       type={isPassType ? 'password' : 'text'}\r\n                                       endAdornment={\r\n                                           <InputAdornment position=\"end\">\r\n                                               <IconButton\r\n                                                   aria-label=\"toggle password visibility\"\r\n                                                   onClick={handleClickShowPassword}\r\n                                                   onMouseDown={handleMouseDownPassword}\r\n                                               >\r\n                                                   {isPassType ? <VisibilityOff/> : <Visibility/>}\r\n                                               </IconButton>\r\n                                           </InputAdornment>\r\n                                       }\r\n                                />\r\n                                {formik.touched.password && formik.errors.password ?\r\n                                    <div className={styles.passError}>{formik.errors.password}</div> : null}\r\n                            </FormControl>\r\n\r\n                            <FormControlLabel className={styles.checkbox}\r\n                                label={'Remember me'}\r\n                                control={<Checkbox/>}\r\n                                {...formik.getFieldProps(\"rememberMe\")}\r\n                                checked={formik.getFieldProps(\"rememberMe\").value}\r\n                            />\r\n\r\n                            {captchaUrl &&\r\n                            <>\r\n                                <img src={captchaUrl} alt={\"captchaImg\"}/>\r\n                                <FormControl sx={{mTop: 2, width: '30ch'}} variant=\"standard\">\r\n                                    <InputLabel htmlFor=\"standard-adornment-password\">Captcha</InputLabel>\r\n                                    <Input {...formik.getFieldProps(\"captcha\")}\r\n\r\n                                    />\r\n                                    {formik.touched.captcha && formik.errors.captcha ?\r\n                                        <div style={{color: \"red\"}}>{formik.errors.captcha}</div> : null}\r\n                                </FormControl>\r\n                            </>\r\n                            }\r\n\r\n                            <div className={styles.button}>\r\n                                <Button style={{marginTop: \" 1rem\", marginBottom: \"1rem\", width: \"200px\"}}\r\n                                       variant={'contained'}\r\n                                       type={\"submit\"}>\r\n                                Login\r\n                            </Button>\r\n                            </div>\r\n                        </FormGroup>\r\n                    </form>\r\n                </FormControl>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n});\r\n\r\n","import React from 'react';\r\nimport styles from \"./../Footer/Footer.module.scss\"\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\n\r\nexport const Footer = () => {\r\n    const year = new Date().getFullYear();\r\n    const location = useLocation();\r\n\r\n    const myPortfolioRoute = \"https://dmitrylotkov.github.io/Portfolio/\"\r\n    return (\r\n        <footer className={location.pathname !== \"/404\" ? styles.LastContactContainer: styles.error404Display}>\r\n            <span>© {year} All Rights Reserved. Created for educational purposes by\r\n                <a href={myPortfolioRoute}>\r\n                    <strong> @Dmitry Lotkov</strong>\r\n                </a>\r\n            </span>\r\n        </footer>\r\n    );\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport s from \"./EditProfile.module.scss\"\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {TextField} from \"@mui/material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {Formik} from \"formik\";\r\nimport {updateProfileTC} from \"../../store/ProfileReducer\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport {useDispatch} from 'react-redux';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {PATH} from \"../../App\";\r\n\r\n\r\n\r\nexport const EditProfile = React.memo(() => {\r\n    const userId = useAppSelector(state => state.Auth.data.id);\r\n    const myProfile = useAppSelector(state => state.Auth.myProfile);\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <div className={s.editProfileWrapper}>\r\n            <div className={s.content}><h3>Edit profile</h3>\r\n\r\n                <Formik enableReinitialize={true}\r\n                        initialValues={{\r\n                            userId: userId,\r\n                            lookingForAJob: myProfile && myProfile.lookingForAJob,\r\n                            lookingForAJobDescription: myProfile &&  myProfile.lookingForAJobDescription,\r\n                            fullName: myProfile &&  myProfile.fullName,\r\n                            aboutMe: myProfile &&  myProfile.aboutMe,\r\n                            contacts: {\r\n                                facebook: myProfile &&  myProfile.contacts.facebook,\r\n                                website: myProfile &&  myProfile.contacts.website,\r\n                                vk: myProfile &&  myProfile.contacts.vk,\r\n                                twitter: myProfile &&  myProfile.contacts.twitter,\r\n                                instagram: myProfile &&  myProfile.contacts.instagram,\r\n                                youtube: myProfile &&  myProfile.contacts.youtube,\r\n                                github: myProfile &&  myProfile.contacts.github,\r\n                                mainLink: myProfile &&  myProfile.contacts.mainLink,\r\n                            }\r\n\r\n                        }}\r\n\r\n                        onSubmit={\r\n                            values => {\r\n                                dispatch(updateProfileTC(values));\r\n                                navigate(`${PATH.PROFILE}/${userId}`);\r\n                            }\r\n                        }>\r\n\r\n                    {props => (\r\n                        <form onSubmit={props.handleSubmit}>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>Github: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.github\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.github}\r\n                                           error={!!props.errors.contacts?.github}\r\n                                           helperText={props.errors.contacts?.github}\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>Facebook: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.facebook\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.facebook}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>VK: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.vk\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.vk}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>Instagram: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.instagram\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.instagram}\r\n\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>Twitter: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.twitter\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.twitter}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>YouTube: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.youtube\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>WebSite: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.website\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>Main link: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.mainLink\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <div className={s.contactText}>About me: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           multiline={true}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"aboutMe\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.aboutMe}\r\n\r\n                                />\r\n\r\n                            </div>\r\n                            <div className={s.formRowWithoutMargin}>\r\n                                <div className={s.contactText}>Full name: </div>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"fullName\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.fullName}\r\n\r\n                                />\r\n                            </div>\r\n                            <div  className={s.formRowWithoutMargin}>\r\n\r\n                                <FormControlLabel\r\n                                    labelPlacement={\"start\"}\r\n\r\n                                    label={'Looking for a job:'}\r\n                                    name={\"lookingForAJob\"}\r\n                                    control={<Checkbox/>}\r\n                                    checked={props.values.lookingForAJob}\r\n                                    onChange={props.handleChange}\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Job description: </p>\r\n                                <TextField inputProps={{ className: s.textField }}\r\n                                           multiline={true}\r\n                                           size={\"small\"}\r\n                                           name={\"lookingForAJobDescription\"}\r\n                                           type=\"text\"\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.lookingForAJobDescription}\r\n                                />\r\n                            </div>\r\n\r\n\r\n                            <div className={s.button}>\r\n                                <Button variant={'contained'} type={\"submit\"}>Submit\r\n                                    changes</Button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\n","import React from 'react';\r\n\r\n\r\n\r\nexport function Events(){\r\n    return(\r\n        <div >\r\n            <div>Events</div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport {Events} from \"./Events\";\r\n\r\nexport function EventsContainer(){\r\n   /* const Redirect = WithAuthRedirect(Events);*/\r\n    return(\r\n        <div>\r\n            {/*<Redirect/>*/}\r\n            <Events/>\r\n        </div>\r\n    );\r\n}","import React, {ChangeEvent, useState} from 'react';\r\nimport styles from \"./Profile.module.scss\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updateUserStatusTC} from \"../../store/ProfileReducer\";\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {myIDSelector, statusSelector} from \"../../components/Common/Selectors/Selectors\";\r\n\r\n\r\nexport const ProfileStatus = () => {\r\n    const dispatch = useDispatch();\r\n    const status = useAppSelector(statusSelector);\r\n    const [localStatus, setLocalStatus] = useState(status);\r\n    const [editMode, setEditMode] = useState<boolean>(true);\r\n    const userId = useAppSelector(state => state.ProfilePage.profile.userId);\r\n    const myID = useAppSelector(myIDSelector);\r\n\r\n    const activateEditMode = () => {\r\n        setLocalStatus(status);\r\n        setEditMode(false);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        dispatch(updateUserStatusTC(localStatus));\r\n        setEditMode(true);\r\n    }\r\n    const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setLocalStatus(e.currentTarget.value);\r\n    }\r\n    const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === \"Enter\") {\r\n            deactivateEditMode();\r\n        }\r\n    }\r\n\r\n    if (userId !== myID) {\r\n\r\n        return (\r\n            <div data-testid=\"editableDiv\">\r\n                {status}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (editMode && userId === myID && !status) {\r\n\r\n        return (\r\n            <div\r\n                className={styles.editableDiv}\r\n                onClick={activateEditMode}>\r\n                Set status\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if ((editMode && userId === myID)) {\r\n        return (\r\n            <div className={styles.editableDiv}\r\n                 data-testid=\"editableMyDiv\"\r\n                 onClick={activateEditMode}>\r\n                 {status}\r\n            </div>)\r\n    } else return <input className={styles.input}\r\n                         onChange={changeTitle}\r\n                         onKeyPress={onKeyPressHandler}\r\n                         onBlur={deactivateEditMode}\r\n                         type=\"text\"\r\n                         data-testid=\"input\"\r\n                         value={localStatus}/>\r\n};\r\n\r\n","import * as Yup from \"yup\";\r\n\r\nexport const freeUserId = 1079;\r\nexport const myUserID = 21748;\r\nexport const maxPictureSize = 10000000; //10MB\r\nconst webSiteRegular =  /((https?):\\/\\/)?(www.)?[a-z0-9]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/;\r\n\r\nexport const DisplayingErrorMessagesSchema = Yup.object().shape({\r\n    fullName: Yup.string()\r\n        .min(3, 'User name must be more than 3 symbols')\r\n        .max(50, 'User name must be less than 50 symbols')\r\n        .required('Required'),\r\n    aboutMe: Yup.string()\r\n        .min(3, 'User description text must be more than 3 symbols')\r\n        .max(300, 'User description text must be less than 300 symbols')\r\n        .required('Required'),\r\n    lookingForAJobDescription: Yup.string()\r\n        .min(3, 'Job description text must be more than 3 symbols')\r\n        .max(300, 'Job description text must be less than 300 symbols')\r\n        .required('Required'),\r\n    contacts: Yup.object().shape({\r\n        facebook: Yup.lazy(value => !value ? Yup.string() : Yup.string().matches(\r\n            /(?:https:\\/\\/)?(?:www\\.)?facebook\\.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[\\w]*\\/)*([\\w]*)/,\r\n            'Please enter correct url'\r\n        )),\r\n        website: Yup.string()\r\n            .min(0)\r\n            .nullable()\r\n            .matches(\r\n                webSiteRegular,\r\n                'Please enter correct url'\r\n            ),\r\n        vk: Yup.string()\r\n\r\n            .matches(\r\n                /(?:https:\\/\\/)?[-a-zA-Z0-9@:%_+.~#?&=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_+.~#?&=]*)?/gi,\r\n                'Please enter correct vk url'\r\n            ),\r\n        twitter: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /@([A-Za-z0-9_]{1,15})/,\r\n                'Please enter correct twitter url'\r\n            )\r\n            ,\r\n        instagram: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /(?:(?:http|https):\\/\\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)\\/(\\w+)/igm,\r\n                'Please enter correct instagram url'\r\n            )\r\n            ,\r\n        youtube: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /youtu(?:.*\\/v\\/|.*v\\|\\.be\\/)([A-Za-z0-9_-]{11})/,\r\n                'Please enter correct YouTube url'\r\n            )\r\n            ,\r\n        github: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /(?:(?:http|https):\\/\\/)?(?:www.)?(?:github.com)\\/(\\w+)/igm,\r\n                'Please enter correct github url'\r\n            )\r\n            ,\r\n        mainLink: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .url(),\r\n\r\n    }),\r\n\r\n\r\n});","import React from 'react';\r\nimport {useAppSelector} from \"../../../store/store\";\r\nimport style from \"./ContactBlock.module.scss\"\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faGithub} from \"@fortawesome/free-brands-svg-icons/faGithub\";\r\nimport {faVk} from \"@fortawesome/free-brands-svg-icons/faVk\";\r\nimport {faTwitter} from \"@fortawesome/free-brands-svg-icons/faTwitter\";\r\nimport {faFacebook} from \"@fortawesome/free-brands-svg-icons/faFacebook\";\r\nimport {faFirefoxBrowser, faYoutube} from \"@fortawesome/free-brands-svg-icons\";\r\nimport {faInstagram} from \"@fortawesome/free-brands-svg-icons/faInstagram\";\r\nimport {faGoogle} from \"@fortawesome/free-brands-svg-icons/faGoogle\";\r\nimport {profileSelector} from \"../../../components/Common/Selectors/Selectors\";\r\n\r\nexport const ContactBlock = () => {\r\n    const profile = useAppSelector(profileSelector);\r\n\r\n    return (\r\n        <div className={style.contactsBlock}>\r\n            <div>\r\n                <strong>Contacts</strong>\r\n            </div>\r\n            {profile.contacts.vk &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faVk}/>\r\n                <a href={profile.contacts.vk}>\r\n                    Vk\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.instagram &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faInstagram}/>\r\n                <a href={profile.contacts.instagram}>\r\n                    Instagram\r\n                </a>\r\n            </div>\r\n            }\r\n            {profile.contacts.youtube &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faYoutube}/>\r\n                <a href={profile.contacts.youtube}>\r\n                    You tube\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.github &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faGithub}/>\r\n                <a href={profile.contacts.github}>\r\n                    GitHub\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.twitter &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faTwitter}/>\r\n                <a href={profile.contacts.twitter}>\r\n                    twitter\r\n                </a>\r\n            </div>\r\n            }\r\n            {profile.contacts.facebook &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faFacebook}/>\r\n                <a href={profile.contacts.twitter}>\r\n                    faceBook\r\n                </a>\r\n            </div>}\r\n            {profile.contacts.website &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faFirefoxBrowser}/>\r\n                <a href={profile.contacts.website}>\r\n                    Web site\r\n                </a>\r\n            </div>}\r\n            {profile.contacts.mainLink &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faGoogle}/>\r\n                <a href={profile.contacts.website}>\r\n                    Main link\r\n                </a>\r\n            </div>}\r\n            {profile.lookingForAJobDescription &&\r\n            <>\r\n                <div>\r\n                    <strong>Job description</strong>\r\n                </div>\r\n                <div className={style.contactsBlockItem}>\r\n                    {profile.lookingForAJobDescription}\r\n                </div>\r\n            </>}\r\n        </div>\r\n    );\r\n};\r\n\r\n","\r\nimport React from \"react\";\r\nimport chatStyles from \"./ChatBlock.module.scss\"\r\ntype OnlineFriendType = {\r\n    id: string\r\n    avatar: string\r\n}\r\nexport function ChatBlock(props: OnlineFriendType) {\r\n\r\n    return (\r\n            <div className={chatStyles.onlineFriendsWrapper}>\r\n                <img className={chatStyles.imgProfilePhoto} src={props.avatar} alt={\"onlineFriendAvatar\"}/>\r\n                <span className={chatStyles.OnlineDot}/>\r\n            </div>\r\n\r\n    );\r\n}","import React, {ChangeEvent, useRef, useState} from \"react\";\r\nimport styles from \"./ProfileInfo.module.scss\"\r\nimport {\r\n    ProfileDataType, uploadAvatarTC,\r\n} from \"../../../store/ProfileReducer\";\r\nimport defaultUserPhoto from \"../../../Images/defaultUserImage.jpg\";\r\nimport {ProfileStatus} from \"../ProfileStatus\";\r\nimport Modal from \"@mui/material/Modal/Modal\";\r\nimport {Box, Typography} from \"@mui/material\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport {Close} from \"@mui/icons-material\";\r\nimport {useAppSelector} from \"../../../store/store\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setAppErrorAC} from \"../../../store/AppReducer\";\r\n\r\nimport {useParams} from \"react-router-dom\";\r\nimport {maxPictureSize} from \"../../../constants\";\r\nimport {ContactBlock} from \"../ContactBlock/ContactBlock\";\r\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\";\r\nimport Popover from \"@mui/material/Popover\";\r\nimport {ChatBlock} from \"../OnlineFriends/ChatBlock\";\r\n\r\nimport chatStyles from \"../OnlineFriends/ChatBlock.module.scss\";\r\nimport {myIDSelector} from \"../../../components/Common/Selectors/Selectors\";\r\nimport {OnlineFriendType} from \"../../../store/UserPostsReducer\";\r\n\r\n\r\ntype profileInfoPropsType = {\r\n    profile: ProfileDataType | undefined\r\n\r\n}\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 350,\r\n    bgcolor: '#F9F9FE',\r\n    boxShadow: 24,\r\n    p: 4,\r\n    borderRadius: 2,\r\n}\r\nexport const ProfileInfo = React.memo((props: profileInfoPropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const userPhoto = useAppSelector(state => state.ProfilePage.profile.photos?.large);\r\n    const userId = Number(useParams<'userId'>().userId)\r\n    const myId = useAppSelector(myIDSelector);\r\n    const photoRef = useRef<HTMLInputElement>(null);\r\n    const onlineFriends = useAppSelector<Array<OnlineFriendType>>(state => state.HardcodedUsers.onlineFriends)\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [base64Avatar, setLocalAvatar] = useState<any>(userPhoto);\r\n    const [fileAvatar, setFileAvatar] = useState<any>();\r\n    const [openPopover, setOpenPopover] = useState(false)\r\n    const popoverAnchor = useRef(null);\r\n    const show = props.profile && Object.values( props.profile.contacts).every(item => item !== null)\r\n\r\n    const handleCloseModal = () => setOpen(false);\r\n    const handleClosePopover = () => setOpenPopover(false);\r\n    const handleOpenPopover = () => setOpenPopover(true);\r\n    const uploadPhoto = () => photoRef.current && photoRef.current.click();\r\n    const handleSaveAvatar = () => {\r\n        dispatch(uploadAvatarTC(fileAvatar));\r\n        handleCloseModal();\r\n    }\r\n    const onChangeAvatar = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const reader = new FileReader();\r\n        const file = e.target?.files;\r\n\r\n        if ((file && file[0].type) && (file[0].type === \"image/png\" || file[0].type === \"image/jpeg\")) {\r\n            setFileAvatar(file[0])\r\n            reader.onloadend = function () {\r\n                setLocalAvatar(reader.result)\r\n            }\r\n            if (file[0].size && file[0].size <= maxPictureSize) {\r\n                reader.readAsDataURL(file[0])\r\n            } else {\r\n                dispatch(setAppErrorAC(`Your file size must be less then ${maxPictureSize / 1000000}MB 😕`))\r\n            }\r\n\r\n        } else {\r\n            dispatch(setAppErrorAC(`Your file has not in .png .jpeg format. Please choose the right file`))\r\n        }\r\n\r\n    }\r\n    const onlineFriendsArr = onlineFriends.map((f) =>\r\n        <ChatBlock\r\n            key={f.id}\r\n            id={f.id}\r\n            avatar={f.avatar}/>\r\n    )\r\n    return (\r\n        <div className={styles.profileInfoWrapper}>\r\n\r\n            <div className={styles.profilePhoto}>\r\n                <div className={styles.avatarWrapper}>\r\n                    {props.profile && <img src={props.profile.photos?.large ?? defaultUserPhoto} alt={\"userPhoto\"}/>}\r\n                    {(userId === myId || isNaN(userId)) &&\r\n                    <div className={styles.menu} onClick={() => setOpen(true)}><p>Change photo</p></div>}\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.statusBlock}>\r\n                <div className={styles.profileName}>\r\n                    {props.profile && <strong>{props.profile.fullName}</strong>}\r\n                    {/*<img src={smallLogo} alt=\"smallLogo\"/>*/}\r\n                    <CheckCircleOutlineIcon\r\n                        className={styles.popover}\r\n                        ref={popoverAnchor}\r\n                        onClick={handleOpenPopover} fontSize={\"small\"}\r\n                        color={props.profile && props.profile.lookingForAJob ? \"success\" : \"error\"}/>\r\n                </div>\r\n                <div className={styles.profileStatus}>\r\n                    <ProfileStatus/>\r\n                </div>\r\n                {props.profile && <p className={styles.profileDescription}>\r\n                    {props.profile.aboutMe}\r\n                </p>}\r\n            </div>\r\n            {show && <ContactBlock/>}\r\n\r\n            <div className={chatStyles.ChatBlock}>\r\n                <span className={chatStyles.Title}>Chat online</span>\r\n                {onlineFriendsArr}\r\n            </div>\r\n            <Modal open={open}\r\n                   onClose={handleCloseModal}\r\n            >\r\n                <Box sx={style}>\r\n                    <Box>\r\n                        <Box style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            justifyContent: 'center',\r\n                            alignItems: \"center\", position: \"relative\"\r\n                        }}><strong>\r\n                            <p style={{fontSize: \"20px\"}}>Uploading profile photo</p>\r\n                        </strong></Box>\r\n                        <IconButton style={{position: \"absolute\", top: \"5px\", right: \"10px\"}}\r\n                                    onClick={handleCloseModal}>\r\n                            <Close/>\r\n                        </IconButton>\r\n                    </Box>\r\n                    <Box style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        /*justifyContent: 'space-between',*/\r\n                        alignItems: \"center\"\r\n                    }}>\r\n\r\n                        <Box id=\"outer-container\">\r\n                            <img src={base64Avatar || userPhoto} alt=\"avatar\"\r\n                                 width={\"200px\"} style={{borderRadius: \"8px\", marginBottom: \"10px\"}}\r\n                            />\r\n                        </Box>\r\n\r\n                        <Box style={{\r\n                            display: \"flex\",\r\n                            justifyContent: 'space-between',\r\n                            width: \"200px\"\r\n                        }}>\r\n                            <input type={\"file\"} style={{display: \"none\"}} id={\"answer\"} ref={photoRef}\r\n                                   accept=\"image/*\" onChange={onChangeAvatar}/>\r\n                            <Button sx={{textTransform: \"none\"}} variant={\"contained\"}\r\n                                    onClick={uploadPhoto}>\r\n                                Upload photo\r\n                            </Button>\r\n                            <Button sx={{textTransform: \"none\"}} variant={\"contained\"} onClick={handleSaveAvatar}>\r\n                                Save\r\n                            </Button>\r\n                        </Box>\r\n                        <p>You can upload images in JPG or PNG format</p>\r\n                    </Box>\r\n                </Box>\r\n            </Modal>\r\n            <Popover open={openPopover}\r\n                     anchorEl={popoverAnchor.current}\r\n                     onClose={handleClosePopover}\r\n                     anchorOrigin={{\r\n                         vertical: 'top',\r\n                         horizontal: 'left',\r\n                     }}\r\n                     transformOrigin={{\r\n                         vertical: 'bottom',\r\n                         horizontal: 'right',\r\n                     }}\r\n            >\r\n                <Typography\r\n                    sx={{p: 1}}>{props.profile && props.profile.lookingForAJob ? \"In search of a job\" : \"Not looking for a job\"}</Typography>\r\n            </Popover>\r\n        </div>\r\n    );\r\n})","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./Post.module.scss\"\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport {deleteMyPostAC} from \"../../../../store/UserPostsReducer\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {IconButton} from \"@mui/material\";\r\nimport {MyProfilePhoto} from \"../../../../components/Common/MyProfilePhoto/MyProfilePhoto\";\r\n\r\nexport const maxLikesCount = 300;\r\ntype MyPostsPropsType = {\r\n    id: string\r\n    message: string\r\n    likeCount: number\r\n}\r\nexport type LikeObjType = {\r\n    likeCount: number\r\n    updated: boolean\r\n}\r\n\r\nexport function Post(props: MyPostsPropsType) {\r\n    const [likeObj, setLikeObj] = useState<LikeObjType>({likeCount: 5, updated: false});\r\n    const dispatch = useDispatch();\r\n    const deletePost = (userId: string) => {\r\n        dispatch(deleteMyPostAC(userId))\r\n    }\r\n    const generateLike = () => {\r\n        let likeGenerator = Math.round(Math.random() * maxLikesCount)\r\n        setLikeObj({likeCount: likeGenerator, updated: false});\r\n    };\r\n    const addLikeHandler = () => {\r\n        if (!likeObj.updated) {\r\n            setLikeObj({likeCount: likeObj.likeCount + 1, updated: true})\r\n        } else {\r\n            setLikeObj({likeCount: likeObj.likeCount - 1, updated: false})\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        generateLike()\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.itemWrapper}>\r\n            <div className={styles.avatarAndClose}>\r\n                <MyProfilePhoto/>\r\n                <IconButton style={{height: \"40px\"}} onClick={() => deletePost(props.id)}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n\r\n            </div>\r\n            <p>\r\n                {props.message}\r\n            </p>\r\n            <div className={styles.likeBlock}>\r\n                {likeObj.updated ? <FavoriteIcon onClick={addLikeHandler}/> :\r\n                    <FavoriteBorderIcon onClick={addLikeHandler}/>} {likeObj.likeCount}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport {Post} from \"./MyPosts/Post/Post\";\r\nimport styles from \"./MyPosts.module.scss\"\r\nimport {PostType} from \"../../store/ProfileReducer\";\r\nimport {TextAreaForm} from \"../../components/Common/TextAreaForm/TextAreaForm\";\r\n\r\n\r\n\r\nexport type MyPostsPropsType = {\r\n    postsData?: Array<PostType>\r\n    callBack: (text: string) => void\r\n    placeholderText: string\r\n}\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    let postsElements = props.postsData?.map(p => <Post key={p.id}\r\n                                                        id={p.id}\r\n                                                        message={p.message}\r\n                                                        likeCount={p.likesCount}/>).reverse()\r\n    return (\r\n        <div className={styles.postBlock}>\r\n            <div className={styles.myPostForm}>\r\n                <h5 className={styles.newPostHeader}>NEW POST</h5>\r\n                <TextAreaForm placeholderText={props.placeholderText} callBack={props.callBack}/>\r\n            </div>\r\n            <div className={styles.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n})\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./AnyUserPosts.module.scss\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\n\r\nimport {deleteUsersPostAC, UsersOnWallType} from \"../../../store/UserPostsReducer\";\r\nimport {LikeObjType, maxLikesCount} from \"../MyPosts/Post/Post\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {IconButton} from \"@mui/material\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst AnyUserPost = ({avatar, name, position, postText, postPhoto, id}: UsersOnWallType) => {\r\n    const dispatch = useDispatch();\r\n    const [likeObj, setLikeObj] = useState<LikeObjType>({likeCount: 5, updated: false});\r\n    const generateLike = () => {\r\n        let likeGenerator = Math.round(Math.random() * maxLikesCount)\r\n        setLikeObj({likeCount: likeGenerator, updated: false});\r\n    };\r\n    const addLikeHandler = () =>{\r\n        if(!likeObj.updated){\r\n            setLikeObj({likeCount: likeObj.likeCount +1, updated: true})\r\n        } else{\r\n            setLikeObj({likeCount: likeObj.likeCount -1, updated: false})\r\n        }\r\n    }\r\n    const deletePostHandler = (userId: string) =>{\r\n        dispatch(deleteUsersPostAC(userId))\r\n    }\r\n    useEffect(() => {\r\n        generateLike()\r\n    }, []);\r\n    return (\r\n        <div className={styles.anyUserPost}>\r\n            <div className={styles.userWrapper}>\r\n                <div className={styles.userPhotoAndDescriptionBlock}>\r\n                    <img src={avatar} alt={\"avatar\"}/>\r\n                    <div className={styles.userDescription}>\r\n                        <strong>{name}</strong>\r\n                        <div className={styles.userPosition}>{position}</div>\r\n                    </div>\r\n                </div>\r\n                <IconButton onClick={() => deletePostHandler(id)}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            </div>\r\n            <p>{postText}</p>\r\n            {postPhoto && <img className={styles.postPhoto} src={postPhoto} alt=\"postPhoto\"/>}\r\n\r\n            <div className={styles.likeBlock}>\r\n                {likeObj.updated ? <FavoriteIcon onClick={addLikeHandler}/> : <FavoriteBorderIcon onClick={addLikeHandler}/> } {likeObj.likeCount}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnyUserPost;","import React from 'react';\r\nimport styles from \"../AnyUserPosts/AnyUserPosts.module.scss\";\r\n\r\nimport {useAppSelector} from \"../../../store/store\";\r\nimport {UsersOnWallType} from \"../../../store/UserPostsReducer\";\r\nimport AnyUserPost from \"./AnyUserPost\";\r\n\r\n\r\nconst AnyUserPosts = () => {\r\n    const userInfo = useAppSelector<Array<UsersOnWallType>>(state => state.HardcodedUsers.anyUserPostsData);\r\n    const anyPostsElements = userInfo.map(post => <AnyUserPost key={post.id} postPhoto={post.postPhoto} name={post.name}\r\n                                                               id={post.id} avatar={post.avatar}\r\n                                                               position={post.position} postText={post.postText}/>)\r\n    return (\r\n        <div className={styles.itemWrapper}>\r\n            {\r\n                anyPostsElements\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnyUserPosts;","import {ChatMessageAPIType} from \"../../api/chatAPI\";\r\nimport React from \"react\";\r\nimport styles from \"./Message.module.scss\"\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport defaultUserImage from \"../../Images/defaultUserImage.jpg\"\r\ntype MessagePropsType = {\r\n    message: ChatMessageAPIType\r\n    userId: number\r\n}\r\nexport const Message = React.memo(({message, userId}: MessagePropsType) => {\r\n    const myId = useAppSelector<number>(state => state.Auth.data.id);\r\n\r\n    return (\r\n        <div className={styles.devChatMessageBlock}>\r\n            <div className={myId === userId ? styles.myImgAndMessage: styles.someUserImgAndMessage}>\r\n                {myId === userId\r\n                    ? <>\r\n                    <div className={myId === userId ? styles.myNameAndMessage : styles.someUserNameAndMessage}>\r\n                        <div className={styles.userName}>{message.userName}</div>\r\n                        <div>{message.message}</div>\r\n                    </div>\r\n                    <img style={{marginLeft: \"10px\"}} src={message.photo} alt={\"chatUserPhoto\"}/>\r\n                </>\r\n                :<>\r\n                    <img src={message.photo || defaultUserImage} alt={\"chatUserPhoto\"}/>\r\n                    <div className={myId === userId ? styles.myNameAndMessage : styles.someUserNameAndMessage}>\r\n                        <div className={styles.userName}>{message.userName}</div>\r\n                        <div>{message.message}</div>\r\n                    </div>\r\n                </>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n});","import React, {useEffect, useRef, useState} from \"react\";\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {Message} from \"./Message\";\r\nimport styles from \"./Messages.module.scss\";\r\n\r\nexport const Messages = React.memo(() => {\r\n\r\n    const[isAutoScroll, setIsAutoScroll] = useState(true);\r\n    const messages = useAppSelector(state => state.ChatPage.messages);\r\n    const messagesAnchorRef = useRef<HTMLDivElement>(null);\r\n    const scrollHandler = (e:React.UIEvent<HTMLDivElement, UIEvent>) =>{\r\n        const element = e.currentTarget;\r\n        if(Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight) < 400){\r\n            !isAutoScroll && setIsAutoScroll(true)\r\n        }\r\n        else {\r\n            isAutoScroll && setIsAutoScroll(false)\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        if(isAutoScroll){\r\n            messagesAnchorRef.current?.scrollIntoView();\r\n        }\r\n\r\n    }, [messages, isAutoScroll])\r\n\r\n    return (\r\n        <div className={styles.messagesBlock} onScroll={scrollHandler}>\r\n            {messages.map(m => <Message message={m} key={m.id} userId = {m.userId} />)}\r\n            <div ref={messagesAnchorRef}/>\r\n        </div>\r\n    );\r\n});","import React, {useEffect} from \"react\";\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {\r\n    sendMessageTC,\r\n    startMessagesListeningTC,\r\n    StatusType,\r\n    stopMessagesListeningTC\r\n} from \"../../store/chatReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {TextAreaForm} from \"../../components/Common/TextAreaForm/TextAreaForm\";\r\nimport {Messages} from \"./Messages\";\r\n\r\nexport const Chat = React.memo(() => {\r\n\r\n    const status = useAppSelector<StatusType>(state => state.ChatPage.status);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=>{\r\n        dispatch(startMessagesListeningTC());\r\n        return () => {\r\n            dispatch(stopMessagesListeningTC())\r\n        }\r\n    }, [dispatch])\r\n\r\n\r\n    const sendMessageHandler = (message: string) => dispatch(sendMessageTC(message));\r\n\r\n    return (\r\n        <div>\r\n            {status === \"error\" && <div>Some error occurred. Please refresh the gage</div>}\r\n            <>\r\n                <Messages/>\r\n                <TextAreaForm webSocketStatusDisabled={status !== \"ready\"}\r\n                              placeholderText={\"Press Ctrl + Enter to send message\"}\r\n                              callBack={sendMessageHandler}/>\r\n            </>\r\n\r\n        </div>\r\n    );\r\n});","import React, {useEffect, useState} from \"react\";\r\nimport {Chat} from \"./Chat\";\r\nimport styles from \"./ChatPage.module.scss\"\r\nimport {IconButton} from \"@mui/material\";\r\nimport MinimizeIcon from '@mui/icons-material/Minimize';\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {setStartMessagesCountAC, StatusType} from \"../../store/chatReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {\r\n    chatMessageSelector,\r\n    chatStartMessageCountSelector,\r\n    chatStatusSelector,\r\n    myIDSelector\r\n} from \"../../components/Common/Selectors/Selectors\";\r\n\r\n\r\nconst ChatPage = React.memo(() => {\r\n    const myId = useAppSelector(myIDSelector);\r\n    const messages = useAppSelector(chatMessageSelector).filter(m => m.userId !== myId);\r\n    const status = useAppSelector<StatusType>(chatStatusSelector);\r\n    const startMessagesCount = useAppSelector<number>(chatStartMessageCountSelector);\r\n    const [isChatOpen, setIsChatOpen] = useState<boolean>(false);\r\n    const [startMessagesLength, setStartMessagesLength] = useState<number>(messages.length);\r\n    const newMessagesCount = messages.length - startMessagesCount;\r\n    const dispatch = useDispatch();\r\n\r\n    const collapseChat = () => {\r\n        setIsChatOpen(!isChatOpen);\r\n        dispatch(setStartMessagesCountAC(messages.length)); //удалим флаг новых сообщений, засинхронизировав стейт по клику на кнопку свенуть\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (status === 'ready' && startMessagesLength === 0) {\r\n            setStartMessagesLength(messages.length);\r\n            dispatch(setStartMessagesCountAC(messages.length)); // записать стартовые сообещения в стейт\r\n        }\r\n    }, [status, messages, dispatch]);\r\n\r\n    return (\r\n        <div className={isChatOpen ? styles.chatPageBlockOpen : styles.chatPageBlockCollapsed}>\r\n            <div className={styles.chatTitle}>\r\n                <div>Public chat</div>\r\n                <div className={newMessagesCount > 0 && !isChatOpen ? styles.messageFlag : styles.noMessageFlag}>\r\n                    <div>{newMessagesCount}</div>\r\n                </div>\r\n                <IconButton onClick={collapseChat} className={styles.minimizeIcon}>\r\n                    <MinimizeIcon/>\r\n                </IconButton>\r\n            </div>\r\n            <Chat/>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default ChatPage","import React from \"react\";\r\nimport styles from \"./Profile.module.scss\"\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {MyPosts} from \"./MyPosts\";\r\n\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport AnyUserPosts from \"./AnyUserPosts/AnyUserPosts\";\r\nimport {addPostActionAC} from \"../../store/UserPostsReducer\";\r\nimport ChatPage from \"../../Pages/Chat/ChatPage\";\r\nimport {placeholderText} from \"../../components/Common/TextAreaForm/textAreaData\";\r\n\r\n\r\nexport const ProfileFC = React.memo(() => {\r\n    const postsData = useAppSelector(state => state.HardcodedUsers.myPostsData);\r\n    const profile = useAppSelector(state => state.ProfilePage.profile);\r\n    const dispatch = useDispatch();\r\n    const addMessage = (text: string) => dispatch(addPostActionAC(text));\r\n\r\n    return (\r\n        <div className={styles.profileWrapper}>\r\n\r\n            <ProfileInfo profile={profile}/>\r\n\r\n            <div className={styles.allPostsBlock}>\r\n                <MyPosts\r\n                    placeholderText={placeholderText.profileAreaText}\r\n                    callBack={addMessage}\r\n                    postsData={postsData}/>\r\n                <AnyUserPosts/>\r\n                <ChatPage/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n})","import React, {FC, useEffect} from \"react\";\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport {ProfileFC} from \"./ProfileFC\";\r\n\r\nimport {useAppSelector} from \"../../store/store\";\r\nimport {PATH} from \"../../App\";\r\nimport {getProfileTC, getUserStatusTC} from \"../../store/ProfileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {isLoggedInSelector} from \"../../components/Common/Selectors/Selectors\";\r\n\r\n\r\nexport const ProfileContainerFC: FC = React.memo(() => {\r\n    const dispatch = useDispatch();\r\n    let userId = Number(useParams<'userId'>().userId);//эта id взялась из компоненты app из роута <Route path={\"/profile/:userId\"}\r\n    const isLoggedIn = useAppSelector(isLoggedInSelector);\r\n    const myUserID = useAppSelector(state => state.Auth.data.id);\r\n    if (isNaN(userId)) {\r\n        userId = myUserID;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(userId){\r\n            dispatch(getProfileTC(userId));\r\n            dispatch(getUserStatusTC(userId));\r\n        }\r\n\r\n    }, [userId, dispatch]);\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={PATH.LOGIN}/>\r\n    }\r\n    return <ProfileFC/>\r\n})\r\n\r\n\r\n\r\n","import React, {FC, useEffect} from 'react';\r\nimport './App.scss';\r\nimport {Route, Routes, Navigate} from \"react-router-dom\";\r\nimport {useAppSelector} from \"./store/store\";\r\nimport UsersContainerFC from './Pages/Users/UsersContainerFC';\r\nimport PhotosContainer from \"./Pages/Photos/PhotosContainer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {initializeAppTC} from \"./store/AuthReducer\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\nimport {isInitializedSelector} from \"./components/Common/Selectors/Selectors\";\r\nimport withSuspense from \"./components/HOC/withSuspense\";\r\nimport {RequestStatusType} from \"./store/AppReducer\";\r\nimport {ErrorSnackBar} from \"./components/ErrorSnackBar/ErrorSnackBar\";\r\nimport PrivateRoutes from \"./components/PrivateRoutes\";\r\nimport {Error404} from \"./Pages/Error404/Error404\";\r\nimport {Login} from \"./Pages/Login/Login\";\r\nimport {Footer} from \"./Pages/Footer/Footer\";\r\nimport {EditProfile} from \"./Pages/EditProfile/EditProfile\";\r\nimport {EventsContainer} from \"./Pages/Events/EventsContainer\";\r\nimport {ProfileContainerFC} from \"./Pages/Profile/ProfileContainerFC\";\r\n\r\n\r\nconst SuspendedDialogContainer = React.lazy(() => import(\"./Pages/Dialogs/DialogContainerFC\"));\r\n\r\nexport const PATH = {\r\n    HOME: \"/\",\r\n    LOGIN: \"/login\",\r\n    PROFILE: \"/profile\",\r\n    USERS: \"/users\",\r\n    ERROR404: \"/404\",\r\n    ANY_ROUTE: \"*\",\r\n    DIALOGS: \"/dialogs\",\r\n    EVENTS: \"/events\",\r\n    PHOTOS: \"/photos\",\r\n    EDIT_PROFILE: \"/edit_profile\"\r\n}\r\n\r\n\r\nconst App: FC = () => {\r\n\r\n    const appStatus = useAppSelector<RequestStatusType>(state => state.App.status);\r\n    const dispatch = useDispatch();\r\n    const isInitialized = useAppSelector(isInitializedSelector);\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeAppTC());\r\n    }, [dispatch]);\r\n\r\n\r\n    if (!isInitialized) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={\"App\"}>\r\n            <main className={\"mainContent\"}>\r\n                {appStatus === 'loading' && <Preloader/>}\r\n                <Routes>\r\n                    <Route path={PATH.HOME} element={<Navigate to={`${PATH.PROFILE}`}/>}/>\r\n                    <Route element={<PrivateRoutes />}>\r\n                        <Route path={`${PATH.PROFILE}`} element={<ProfileContainerFC/>}/>\r\n                        <Route path={`${PATH.PROFILE}/:userId`} element={<ProfileContainerFC/>}/>\r\n                        <Route path={PATH.DIALOGS} element={withSuspense(SuspendedDialogContainer)({})}/>\r\n                        <Route path={PATH.USERS} element={<UsersContainerFC/>}/>\r\n                        <Route path={PATH.EDIT_PROFILE} element={<EditProfile/>}/>\r\n                    </Route>\r\n                    <Route path={PATH.LOGIN} element={<Login/>}/>\r\n                    <Route path={PATH.EVENTS} element={<EventsContainer/>}/>\r\n                    <Route path={PATH.PHOTOS} element={<PhotosContainer/>}/>\r\n                    <Route path={PATH.ANY_ROUTE} element={<Navigate to={PATH.ERROR404}/>}/>\r\n                    <Route path={`${PATH.ERROR404}`} element={<Error404/>}/>\r\n                </Routes>\r\n                <ErrorSnackBar/>\r\n\r\n            </main>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","import './index.scss';\r\nimport ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport App from \"./App\";\r\nimport {store} from \"./store/store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\n    ReactDOM.render(\r\n            <Provider store={store}>\r\n                <HashRouter>\r\n                    <App/>\r\n                </HashRouter>\r\n            </Provider>,\r\n        document.getElementById('root')\r\n    );\r\n\r\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {UsersPageType} from \"../store/UsersReducer\";\r\nimport {ProfileDataType} from \"../store/ProfileReducer\";\r\nimport {LoginParamsType} from \"../store/AuthReducer\";\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"c3728aab-6f62-411f-9e90-c03d8ff7b899\",\r\n    }\r\n})\r\nexport type AuthDataType = {\r\n    id:number,\r\n    email: string\r\n    login:string\r\n}\r\nexport type RespType<T = {}> = {\r\n    resultCode: 0\r\n    data: T\r\n    fieldsErrors: Array<string>\r\n    messages: Array<string>\r\n}\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<UsersPageType>(`users?page=${currentPage}&count=${pageSize}`);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID: number | null) {\r\n        return instance.get<ProfileDataType>(`profile/${userID}`);\r\n    },\r\n    getStatus(userID: number | null) {\r\n        return instance.get<AxiosResponse<RespType>, any>(`profile/status/${userID}`);\r\n    },\r\n    updateStatus(status: string | null) {\r\n\r\n        return instance.put<AxiosResponse<RespType>,any>(`profile/status`, {status})\r\n    },\r\n    uploadAvatar(photoFile:File){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put<RespType<{photos:{small:\"\", large:\"\"}}>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    updateProfile(profile: ProfileDataType){\r\n        return instance.put<AxiosResponse<RespType>,any>(`profile`, {...profile})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<RespType<AuthDataType>>(`auth/me`);\r\n    },\r\n    follow(userID: string | undefined) {\r\n        return instance.post<RespType<AuthDataType>>(`follow/${userID}`);\r\n    },\r\n    unfollow(userID: string | undefined) {\r\n        return instance.delete<RespType<AuthDataType>>(`follow/${userID}`);\r\n    },\r\n    login(data: LoginParamsType){\r\n        return instance.post<RespType<AuthDataType>>(`auth/login`, data);\r\n    },\r\n    logout(){\r\n        return instance.delete<RespType>('/auth/login');\r\n    },\r\n    getFollowers(userID: string | undefined){\r\n        return instance.get(`follow/${userID}`)\r\n    }\r\n\r\n}\r\nexport const securityAPI = {\r\n    captcha(){\r\n        return instance.get<{url:string| null}>(`/security/get-captcha-url`)\r\n    }\r\n}\r\n","import {profileAPI} from \"../api/api\";\r\nimport {AppStoreType, AppThunkDispatch} from \"./store\";\r\nimport {setAppStatusAC} from \"./AppReducer\";\r\nimport {handleNetworkError, handleServerAppError, handleServerNetworkError} from \"../utils/error.utils\";\r\nimport {setMyProfileAC} from \"./AuthReducer\";\r\n\r\n//types\r\nenum ACTIONS_TYPE {\r\n    SET_PROFILE = \"PROFILE/SET-PROFILE\",\r\n    SAVE_MY_PROFILE_PHOTO = \"PROFILE/SAVE-MY-PROFILE_PHOTO\",\r\n    UPDATE_NEW_POST_TEXT = \"PROFILE/UPDATE-NEW-POST-TEXT\",\r\n    SET_SOME_USER_PROFILE = \"PROFILE/SET-SOME-USER-PROFILE\",\r\n    SET_STATUS = \"PROFILE/SET-STATUS\",\r\n\r\n}\r\n\r\nexport type ProfileActionsType =\r\n     ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof setUserProfileAC>\r\n    | ReturnType<typeof savePhotoAC>\r\n    | ReturnType<typeof setStatusAC>\r\n\r\n\r\n\r\nexport type PostTextType = {\r\n    text: string\r\n}\r\nexport type ProfilePageType = {\r\n\r\n    profile: ProfileDataType\r\n    status: string\r\n}\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\nexport type UserProfileContactType = {\r\n    facebook: string\r\n    website: string\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n}\r\nexport type userProfilePhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileDataType = {\r\n    userId: number,\r\n    aboutMe?: string\r\n    lookingForAJob?: boolean\r\n    lookingForAJobDescription?: string\r\n    fullName?: string\r\n    contacts: Partial<UserProfileContactType>\r\n    photos?: userProfilePhotosType\r\n}\r\n\r\n//actions\r\nexport const updateNewPostTextAC = (text: PostTextType) => ({type: ACTIONS_TYPE.UPDATE_NEW_POST_TEXT, text} as const)\r\nexport const setUserProfileAC = (profile: ProfileDataType) => ({\r\n    type: ACTIONS_TYPE.SET_SOME_USER_PROFILE,\r\n    profile\r\n} as const);\r\nexport const savePhotoAC = (photos: userProfilePhotosType) => ({\r\n    type: ACTIONS_TYPE.SAVE_MY_PROFILE_PHOTO,\r\n    photos\r\n} as const);\r\nexport const setStatusAC = (status: string) => ({type: ACTIONS_TYPE.SET_STATUS, status} as const);\r\n\r\n\r\nconst initialState: ProfilePageType = {\r\n    status: \"\",\r\n    profile: {\r\n        userId: 0,\r\n        fullName: \"\",\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: \"\",\r\n        aboutMe: \"\",\r\n        contacts: {\r\n            facebook: \"\",\r\n            github: \"\",\r\n            instagram: \"\",\r\n            mainLink: \"\",\r\n            twitter: \"\",\r\n            vk: \"\",\r\n            website: \"\",\r\n            youtube: \"\",\r\n        },\r\n        photos:\r\n            {\r\n                small: \"\",\r\n                large: \"\",\r\n            }\r\n    }\r\n}\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileActionsType): ProfilePageType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.SET_SOME_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case ACTIONS_TYPE.SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case ACTIONS_TYPE.SAVE_MY_PROFILE_PHOTO:\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//thunks\r\nexport const getProfileTC = (userId: number | null, isMyProfile?: boolean) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    try {\r\n        let res = await profileAPI.getProfile(userId);\r\n        if (isMyProfile) {\r\n            dispatch(setMyProfileAC(res.data))\r\n        }\r\n        else {\r\n            dispatch(setUserProfileAC(res.data));\r\n        }\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n    } catch (error: any) {\r\n        handleNetworkError(error, dispatch);\r\n    }\r\n\r\n}\r\n\r\nexport const getUserStatusTC = (userId: number | null) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n\r\n    try {\r\n        let res = await profileAPI.getStatus(userId);\r\n        if (res.status === 200) {\r\n            dispatch(setStatusAC(res.data));\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try get user status\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\nexport const updateUserStatusTC = (status: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n\r\n    try {\r\n        let res = await profileAPI.updateStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setStatusAC(status))\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try update user status\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const uploadAvatarTC = (photoFile: File) => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    const userId = getState().Auth.data.id;\r\n\r\n    try {\r\n        let res = await profileAPI.uploadAvatar(photoFile)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n            await dispatch( getProfileTC(userId))\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try upload avatar\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\nexport const updateProfileTC = (profile: ProfileDataType) => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n\r\n    const userId = getState().Auth.data.id;\r\n    try {\r\n        let res = await profileAPI.updateProfile(profile)\r\n        if (res.data.resultCode === 0) {\r\n            await dispatch( getProfileTC(userId, true))\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try update profile\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\n","import {authAPI, AuthDataType, securityAPI} from \"../api/api\";\r\nimport {AppThunkDispatch} from \"./store\";\r\nimport {handleNetworkError, handleServerAppError, handleServerNetworkError} from \"../utils/error.utils\";\r\nimport {setAppStatusAC} from \"./AppReducer\";\r\nimport {getProfileTC, ProfileDataType} from \"./ProfileReducer\";\r\n\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    SET_IS_LOGGED_IN = \"AUTH/SET-IS-LOGGED-IN\",\r\n    SET_IS_INITIALIZED = \"AUTH/SET-IS-INITIALIZED\",\r\n    SET_AUTH_DATA = \"AUTH/SET-AUTH-DATA\",\r\n    GET_CAPTCHA = \"AUTH/GET-CAPTCHA\",\r\n    SET_AUTH_PROFILE_DATA = \"AUTH/SET-AUTH-PROFILE-DATA\",\r\n}\r\n\r\nexport type AuthActionsType =\r\n    ReturnType<typeof setIsLoggedInAC>\r\n    | ReturnType<typeof setInitializedAC>\r\n    | ReturnType<typeof setAuthProfileAC>\r\n    | ReturnType<typeof getCaptchaAC>\r\n    | ReturnType<typeof setMyProfileAC>\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\n\r\ntype InitialStateType = {\r\n    data: AuthDataType,\r\n    isInitialized: boolean\r\n    isLoggedIn: boolean,\r\n    captchaUrl: null | string\r\n    myProfile: undefined | ProfileDataType\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    data: {\r\n        id: 0,\r\n        email: \"\",\r\n        login: \"\",\r\n\r\n    },\r\n    isInitialized: false,\r\n    isLoggedIn: false,\r\n    captchaUrl: null,\r\n    myProfile: undefined as undefined | ProfileDataType\r\n}\r\n\r\n//reducer\r\nexport const authReducer = (state: InitialStateType = initialState, action: AuthActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.SET_IS_LOGGED_IN:\r\n            return {...state, isLoggedIn: action.isLoggedIn}\r\n        case ACTIONS_TYPE.SET_IS_INITIALIZED:\r\n            return {...state, isInitialized: action.isInitialized}\r\n        case ACTIONS_TYPE.SET_AUTH_DATA:\r\n            return {...state, data: action.data}\r\n        case ACTIONS_TYPE.GET_CAPTCHA:\r\n            return {...state, captchaUrl: action.captcha}\r\n        case ACTIONS_TYPE.SET_AUTH_PROFILE_DATA:\r\n            return {...state, myProfile: action.profile}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creators\r\nexport const setIsLoggedInAC = (isLoggedIn: boolean) =>\r\n    ({type: ACTIONS_TYPE.SET_IS_LOGGED_IN, isLoggedIn} as const);\r\nexport const setInitializedAC = (isInitialized: boolean) =>\r\n    ({type: ACTIONS_TYPE.SET_IS_INITIALIZED, isInitialized} as const);\r\nexport const setAuthProfileAC = (profileData: AuthDataType) =>\r\n    ({type: ACTIONS_TYPE.SET_AUTH_DATA, data: profileData} as const);\r\nexport const getCaptchaAC = (captcha: string | null) =>\r\n    ({type: ACTIONS_TYPE.GET_CAPTCHA, captcha} as const);\r\nexport const setMyProfileAC = (profile: ProfileDataType) => ({\r\n    type: ACTIONS_TYPE.SET_AUTH_PROFILE_DATA, profile\r\n} as const)\r\n\r\n\r\n//thunks\r\nexport const initializeAppTC = () => async (dispatch: AppThunkDispatch) => {\r\n    try {\r\n        let res = await authAPI.me();\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setAuthProfileAC(res.data.data));\r\n            await dispatch(getProfileTC(res.data.data.id, true)); // этот запрос делается, чтобы записать мои данные в отдельный стейт\r\n            dispatch(setIsLoggedInAC(true));\r\n        } else {\r\n            dispatch(setAppStatusAC(\"failed\"));\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try initialize app\", error)\r\n        handleNetworkError(error, dispatch);\r\n    } finally {\r\n        dispatch(setInitializedAC(true));\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const loginTC = (data: LoginParamsType) => async (dispatch: AppThunkDispatch) => {\r\n    try {\r\n        let res = await authAPI.login(data);\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setIsLoggedInAC(true));\r\n            dispatch(getCaptchaAC(null))\r\n            dispatch(await initializeAppTC())\r\n        } else {\r\n            if (res.data.resultCode === 10) {\r\n                dispatch(await getCaptchaTC())\r\n            }\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try to login\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n\r\n}\r\nexport const logOutTC = () => async (dispatch: AppThunkDispatch) => {\r\n    let res = await authAPI.logout();\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setIsLoggedInAC(false));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try to logout\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const getCaptchaTC = () => async (dispatch: AppThunkDispatch) => {\r\n    let res = await securityAPI.captcha();\r\n    try {\r\n\r\n        dispatch(getCaptchaAC(res.data.url))\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try to logout\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"AnyUserPosts_itemWrapper__1a-L3\",\"anyUserPost\":\"AnyUserPosts_anyUserPost__36NTC\",\"userWrapper\":\"AnyUserPosts_userWrapper__1SuFd\",\"userPhotoAndDescriptionBlock\":\"AnyUserPosts_userPhotoAndDescriptionBlock__16URh\",\"userDescription\":\"AnyUserPosts_userDescription__9rICy\",\"userPosition\":\"AnyUserPosts_userPosition__3sBI1\",\"postPhoto\":\"AnyUserPosts_postPhoto__2HKUc\",\"likeBlock\":\"AnyUserPosts_likeBlock__1g8gy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrapper\":\"ProfileInfo_profileInfoWrapper__7u0G1\",\"profilePhoto\":\"ProfileInfo_profilePhoto__1Z3hR\",\"avatarWrapper\":\"ProfileInfo_avatarWrapper__3-ZYX\",\"menu\":\"ProfileInfo_menu__31uyN\",\"statusBlock\":\"ProfileInfo_statusBlock__YVqts\",\"profileName\":\"ProfileInfo_profileName__32WMW\",\"popover\":\"ProfileInfo_popover__H9pwB\",\"profileStatus\":\"ProfileInfo_profileStatus__34d8T\",\"profileDescription\":\"ProfileInfo_profileDescription__3_rAm\",\"modalMainBox\":\"ProfileInfo_modalMainBox__1USPE\",\"avatarBlock\":\"ProfileInfo_avatarBlock__CjmwA\",\"avatarImg\":\"ProfileInfo_avatarImg__3Lc0_\",\"iconUpload\":\"ProfileInfo_iconUpload__1iiq6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"devChatMessageBlock\":\"Message_devChatMessageBlock__3_uOl\",\"myImgAndMessage\":\"Message_myImgAndMessage__NhvVY\",\"someUserImgAndMessage\":\"Message_someUserImgAndMessage__34Iu4\",\"myNameAndMessage\":\"Message_myNameAndMessage__34b1v\",\"someUserNameAndMessage\":\"Message_someUserNameAndMessage__1Ep3m\"};","import {StatusType} from \"../store/chatReducer\";\r\n//types\r\nexport type ChatMessageAPIType = {\r\n    message: string,\r\n    photo: string,\r\n    userId: number,\r\n    userName: string\r\n}\r\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void;\r\ntype StatusChangedSubscriberType = (status: StatusType) => void;\r\nconst subscribers = {\r\n    \"messageReceived\" : [] as MessagesReceivedSubscriberType[],\r\n    \"statusChanged\": [] as StatusChangedSubscriberType[]\r\n}\r\n\r\nexport type EventNamesType = \"messageReceived\" | \"statusChanged\";\r\n\r\nlet isShowCloseAlert = true;\r\nlet ws: WebSocket | null = null;\r\nlet alertCounter = false;\r\n\r\nconst closeHandler = () => {\r\n    console.log(\"Close ws\");\r\n    if(isShowCloseAlert){\r\n        alert(\"Internet connection was interrupted\");\r\n        isShowCloseAlert = false\r\n    }\r\n    notifySubscribersAboutStatus(\"pending\");\r\n    setTimeout(createChannel, 3000);\r\n    alertCounter = true;\r\n}\r\nlet messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data);\r\n    subscribers[\"messageReceived\"].forEach(s => s(newMessages));\r\n}\r\nlet openHandler = () => {\r\n    if(alertCounter){\r\n        alert(\"Internet connection was restored\")\r\n    }\r\n    notifySubscribersAboutStatus(\"ready\");\r\n}\r\nlet errorHandler = () => {\r\n    notifySubscribersAboutStatus(\"error\");\r\n    console.log(\"Refresh page\")\r\n}\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener(\"close\", closeHandler); // (проверка на \"если вед сокет был, то удалим\") при реконекте удаляем подписчик на старый веб сокет\r\n    ws?.removeEventListener(\"message\", messageHandler);\r\n    ws?.removeEventListener(\"open\", openHandler);\r\n    ws?.removeEventListener(\"error\", errorHandler);\r\n}\r\n\r\nconst notifySubscribersAboutStatus = (status: StatusType) => subscribers[\"statusChanged\"].forEach(s=>s(status));\r\nexport function createChannel() {\r\n    cleanUp()\r\n    ws?.close(); // при реконекте закрываем старый веб сокет\r\n    ws = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\");\r\n    notifySubscribersAboutStatus(\"pending\")\r\n    ws.addEventListener(\"close\", closeHandler);\r\n    ws.addEventListener(\"message\", messageHandler);\r\n    ws.addEventListener(\"open\", openHandler);\r\n    ws.addEventListener(\"error\", errorHandler);\r\n}\r\n\r\nexport const chatAPI = {\r\n    subscribe(eventName: EventNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribers[eventName].push(callback);\r\n        return () => {\r\n            // @ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unSubscribe(eventName: EventNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message);\r\n    },\r\n    start() {\r\n        createChannel();\r\n    },\r\n    stop() {\r\n        subscribers[\"messageReceived\"] = [];\r\n        subscribers[\"statusChanged\"] = [];\r\n        cleanUp();\r\n        ws?.close();\r\n\r\n    }\r\n}","import {AppThunkDispatch} from \"./store\";\r\nimport {chatAPI, ChatMessageAPIType} from \"../api/chatAPI\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    SET_MESSAGES = \"CHAT/SET-MESSAGES\",\r\n    SAVE_MESSAGES_COUNT = \"CHAT/SAVE-MESSAGES-COUNT\",\r\n    CHANGE_STATUS = \"CHAT/CHANGE-STATUS\",\r\n\r\n}\r\n\r\nexport type StatusType = \"pending\" | \"ready\" | \"error\";\r\nexport type ChatActionsType =\r\n    ReturnType<typeof setMessagesAC> |\r\n    ReturnType<typeof changeStatusAC> |\r\n    ReturnType<typeof setStartMessagesCountAC>\r\n\r\n\r\nexport type ChatMessageType = ChatMessageAPIType & { id: string }\r\n\r\ntype InitialStateType = {\r\n    messages: ChatMessageType[];\r\n    startMessagesCount: number;\r\n    status: StatusType;\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    messages: [] as Array<ChatMessageType>,\r\n    startMessagesCount: 0,\r\n    status: \"pending\",\r\n}\r\n\r\n//reducer\r\nexport const chatReducer = (state: InitialStateType = initialState, action: ChatActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.SET_MESSAGES:\r\n            if (action.messages.length === 1) {\r\n                return {\r\n                    ...state, messages: [...state.messages, ...action.messages.map(m => ({...m, id: v1()}))\r\n                    ]/* .filter((m, index, arr) => index >= arr.length - 100)*/\r\n                }\r\n            }\r\n            return {\r\n                ...state, messages: action.messages.map(m => ({...m, id: v1()}))\r\n            }\r\n        case ACTIONS_TYPE.CHANGE_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case ACTIONS_TYPE.SAVE_MESSAGES_COUNT:\r\n            return {\r\n                ...state, startMessagesCount: action.startMessagesCount\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creators\r\n\r\nexport const setMessagesAC = (messages: ChatMessageAPIType[]) => ({type: ACTIONS_TYPE.SET_MESSAGES, messages}) as const;\r\nexport const setStartMessagesCountAC = (startMessagesCount: number) => ({type: ACTIONS_TYPE.SAVE_MESSAGES_COUNT,\r\n    startMessagesCount\r\n}) as const;\r\nexport const changeStatusAC = (status: StatusType) => ({type: ACTIONS_TYPE.CHANGE_STATUS, status}) as const;\r\n\r\n\r\n//thunks\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\r\n\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) { // это мемоизация\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(setMessagesAC(messages))\r\n        }\r\n\r\n    }\r\n    return _newMessageHandler\r\n\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null;\r\n\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) { // это мемоизация\r\n        _statusChangedHandler = (status) => dispatch(changeStatusAC(status))\r\n    }\r\n    return _statusChangedHandler\r\n\r\n}\r\nexport const startMessagesListeningTC = () => async (dispatch: AppThunkDispatch) => {\r\n\r\n    try {\r\n        chatAPI.start();\r\n        chatAPI.subscribe(\"messageReceived\", newMessageHandlerCreator(dispatch));\r\n        chatAPI.subscribe(\"statusChanged\", statusChangedHandlerCreator(dispatch));\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n\r\n}\r\nexport const stopMessagesListeningTC = () => async (dispatch: AppThunkDispatch) => {\r\n    try {\r\n        chatAPI.unSubscribe(\"messageReceived\", newMessageHandlerCreator(dispatch));\r\n        chatAPI.unSubscribe(\"statusChanged\", statusChangedHandlerCreator(dispatch));\r\n        chatAPI.stop();\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\nexport const sendMessageTC = (message: string) => async () => {\r\n    try {\r\n        chatAPI.sendMessage(message)\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"login_loginWrapper__2tuy6\",\"login\":\"login_login__1VMOr\",\"h2\":\"login_h2__37Ocr\",\"newPassTextFields\":\"login_newPassTextFields__10SKw\",\"textFields\":\"login_textFields__3Ui3E\",\"emailError\":\"login_emailError__1RAOW\",\"passError\":\"login_passError__-3ZUH\",\"checkbox\":\"login_checkbox__1EgJR\",\"button\":\"login_button__2wXv-\"};","export default __webpack_public_path__ + \"static/media/defaultUserImage.ed37b80a.jpg\";","import {v1} from \"uuid\";\r\nimport user1 from \"./../Images/Users/user-1.jpg\";\r\nimport user2 from \"./../Images/Users/user-2.jpg\";\r\nimport user3 from \"./../Images/Users/user-3.jpg\";\r\nimport user4 from \"./../Images/Users/user-4.jpg\";\r\nimport user5 from \"./../Images/Users/user-5.jpg\";\r\nimport user6 from \"./../Images/Users/user-6.jpg\";\r\nimport user7 from \"./../Images/Users/user-7.jpg\";\r\nimport user8 from \"./../Images/Users/user-8.jpg\";\r\nimport user9 from \"./../Images/Users/user-9.jpg\";\r\nimport postPhoto from \"./../Images/Post photo.png\";\r\nimport {\r\n    PostType,\r\n} from \"./ProfileReducer\";\r\n\r\n\r\nexport type OnlineFriendType = {\r\n    id: string\r\n    avatar: string\r\n}\r\n\r\nenum ACTIONS_TYPE {\r\n    ADD_POST = \"PROFILE/ADD-POST\",\r\n    DELETE_MY_POST = \"PROFILE/DELETE-MY-POST\",\r\n    DELETE_USERS_POST = \"PROFILE/DELETE-USERS-POST\"\r\n}\r\n\r\nexport type UsersOnWallType = {\r\n    id: string\r\n    avatar: string\r\n    name: string\r\n    position: string\r\n    postText: string\r\n    postPhoto: string | undefined\r\n\r\n}\r\nexport type ProfileActionsType = ReturnType<typeof addPostActionAC>\r\n    | ReturnType<typeof deleteMyPostAC>\r\n    | ReturnType<typeof deleteUsersPostAC>\r\n\r\nexport type PostsType = {\r\n    onlineFriends: Array<OnlineFriendType>\r\n    anyUserPostsData: Array<UsersOnWallType>\r\n    myPostsData: Array<PostType>\r\n}\r\nconst initialState: PostsType = {\r\n    myPostsData: [\r\n        {id: v1(), message: \"I want to be a serious frontend developer.\", likesCount: 0},\r\n    ],\r\n    onlineFriends: [\r\n        {id: v1(), avatar: user1},\r\n        {id: v1(), avatar: user2},\r\n        {id: v1(), avatar: user3},\r\n        {id: v1(), avatar: user4},\r\n        {id: v1(), avatar: user5},\r\n        {id: v1(), avatar: user6},\r\n        {id: v1(), avatar: user7},\r\n        {id: v1(), avatar: user8},\r\n        {id: v1(), avatar: user9},\r\n    ],\r\n    anyUserPostsData: [\r\n\r\n        {\r\n            id: v1(),\r\n            avatar: user5,\r\n            name: \"Theresa Steward\",\r\n            position: \"iOS developer\",\r\n            postPhoto: undefined,\r\n            postText: \"What did the Dursleys care if Harry lost his place on the House Quidditch team because he hadn’t practiced all summer? \" +\r\n                \"What was it to the Dursleys if Harry went back to school without any of his homework done? \" +\r\n                \"The Dursleys were what wizards called Muggles (not a drop of magical blood in their veins).\"\r\n        },\r\n        {\r\n            id: v1(),\r\n            avatar: user4,\r\n            name: \"Kyle Fisher\",\r\n            position: \"Product manager\",\r\n            postPhoto: postPhoto,\r\n            postText: \"How's your day going, guys?\",\r\n        },\r\n        {\r\n            id: v1(),\r\n            avatar: user7,\r\n            name: \"Audrey Alexander\",\r\n            position: \"Android developer\",\r\n            postPhoto: undefined,\r\n            postText: \"The bun runs along the road and meets a wolf. «Little bun, little bun, I want to eat you!» says the wolf. \" +\r\n                \"«I ran away from Grandfather, I ran away from Grandmother, I ran away from the hare. \" +\r\n                \"And I can run away from you, grey wolf!» says the bun and runs away.\",\r\n        },\r\n    ]\r\n}\r\nconst UserPostsReducer = (state: PostsType = initialState, action: ProfileActionsType) => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.ADD_POST:\r\n            return {\r\n                ...state,\r\n                myPostsData: [...state.myPostsData, {id: v1(), message: action.message, likesCount: 0}]\r\n            };\r\n        case ACTIONS_TYPE.DELETE_MY_POST:\r\n            return {...state, myPostsData: state.myPostsData.filter(post => post.id !== action.id)}\r\n        case ACTIONS_TYPE.DELETE_USERS_POST:\r\n            return {...state, anyUserPostsData: state.anyUserPostsData.filter(post => post.id !== action.id)}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actions\r\nexport const addPostActionAC = (message: string) => ({type: ACTIONS_TYPE.ADD_POST, message} as const)\r\nexport const deleteMyPostAC = (id: string) => ({type: ACTIONS_TYPE.DELETE_MY_POST, id} as const);\r\nexport const deleteUsersPostAC = (id: string) => ({type: ACTIONS_TYPE.DELETE_USERS_POST, id} as const);\r\n\r\nexport default UserPostsReducer;","export default __webpack_public_path__ + \"static/media/user-1.bad1de9b.jpg\";","export default __webpack_public_path__ + \"static/media/user-2.39d014b5.jpg\";","export default __webpack_public_path__ + \"static/media/user-3.5c342bb7.jpg\";","export default __webpack_public_path__ + \"static/media/user-5.95d001b9.jpg\";","export default __webpack_public_path__ + \"static/media/user-6.f8a10ddf.jpg\";","export default __webpack_public_path__ + \"static/media/user-7.aed715d8.jpg\";","export default __webpack_public_path__ + \"static/media/user-8.ae463966.jpg\";","export default __webpack_public_path__ + \"static/media/user-9.aa6a890d.jpg\";","export default __webpack_public_path__ + \"static/media/Post photo.0bd8ec12.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"users_usersWrapper__3mVRj\",\"usersBlock\":\"users_usersBlock__3yu-x\",\"avatarAndFollowButton\":\"users_avatarAndFollowButton__2bSla\",\"avatar\":\"users_avatar__Ckmk1\",\"nameAndStatus\":\"users_nameAndStatus__2I9Mt\",\"status\":\"users_status__1_p6J\",\"name\":\"users_name__3QGx-\"};","import {authAPI, userAPI} from \"../api/api\";\r\nimport {handleNetworkError, handleServerNetworkError} from \"../utils/error.utils\";\r\nimport {AppStoreType, AppThunkDispatch} from \"./store\";\r\nimport {setAppErrorAC, setAppStatusAC} from \"./AppReducer\";\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    FOLLOW = \"USERS/FOLLOW\",\r\n    UNFOLLOW = \"USERS/UNFOLLOW\",\r\n    SET_USERS = \"USERS/SET-USERS\",\r\n    SET_CURRENT_PAGE = \"USERS/SET-CURRENT-PAGE\",\r\n    SET_TOTAL_USERS_COUNT = \"USERS/SET-TOTAL-USERS-COUNT\",\r\n    IS_FETCHING = \"USERS/IS-FETCHING\",\r\n    IS_FOLLOWING_PROGRESS = \"USERS/IS-FOLLOWING-PROGRESS\"\r\n}\r\n\r\nexport type UsersActionsType =\r\n    ReturnType<typeof followSuccessAC> |\r\n    ReturnType<typeof unFollowSuccessAC> |\r\n    ReturnType<typeof setUsersAC> |\r\n    ReturnType<typeof setCurrentPageAC> |\r\n    ReturnType<typeof setUsersTotalCountAC> |\r\n    ReturnType<typeof toggleIsFetchingAC>|\r\n    ReturnType < typeof toggleFollowingProgressAC>\r\n\r\n\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type UserType = {\r\n    id: string,\r\n    name: string\r\n    status: string\r\n    followed: boolean\r\n    photos: PhotosType\r\n}\r\nexport type UsersPageType = {\r\n    items: UserType[]\r\n    pageSize: number\r\n    totalCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    following: Array<string>\r\n}\r\n\r\n\r\nconst initialState: UsersPageType = {\r\n    items: [],\r\n    pageSize: 7,\r\n    totalCount: 1,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    following: [],\r\n}\r\nexport const userReducer = (state: UsersPageType = initialState, action: UsersActionsType): UsersPageType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.FOLLOW:\r\n            return {...state, items: state.items.map(u => u.id === action.userID ? {...u, followed: true} : u)}\r\n        case ACTIONS_TYPE.UNFOLLOW:\r\n            return {...state, items: state.items.map(u => u.id === action.userID ? {...u, followed: false} : u)}\r\n        case ACTIONS_TYPE.SET_USERS:\r\n            return {...state, items: action.users}\r\n        case ACTIONS_TYPE.SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case ACTIONS_TYPE.SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalCount: action.totalCount}\r\n        case ACTIONS_TYPE.IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case ACTIONS_TYPE.IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                following: action.followingIsProgress\r\n                    ? [...state.following, action.userID]\r\n                    : state.following.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const followSuccessAC = (userID: string) => ({type: ACTIONS_TYPE.FOLLOW, userID: userID} as const)\r\nexport const unFollowSuccessAC = (userID: string) => ({type: ACTIONS_TYPE.UNFOLLOW, userID: userID} as const)\r\nexport const setUsersAC = (users: UserType[]) => ({type: ACTIONS_TYPE.SET_USERS, users: users} as const)\r\nexport const setCurrentPageAC = (currentPage: number) => ({\r\n    type: ACTIONS_TYPE.SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n} as const)\r\nexport const setUsersTotalCountAC = (serverTotalUsersCount: number) => ({\r\n    type: ACTIONS_TYPE.SET_TOTAL_USERS_COUNT,\r\n    totalCount: serverTotalUsersCount\r\n} as const)\r\nexport const toggleIsFetchingAC = (isFetching: boolean) => ({\r\n    type: ACTIONS_TYPE.IS_FETCHING,\r\n    isFetching: isFetching,\r\n} as const)\r\nexport const toggleFollowingProgressAC = (followingIsProgress: boolean, userID: string) => ({\r\n    type: ACTIONS_TYPE.IS_FOLLOWING_PROGRESS,\r\n    followingIsProgress: followingIsProgress,\r\n    userID: userID,\r\n} as const)\r\n\r\n//thunks\r\nexport const getUsersTC = () => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n    let {currentPage, pageSize} = getState().UsersPage\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let res = await userAPI.getUsers(currentPage, pageSize)\r\n    try {\r\n        dispatch(toggleIsFetchingAC(false));\r\n        dispatch(setUsersAC(res.data.items));\r\n        dispatch(setUsersTotalCountAC(res.data.totalCount));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try get users\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const onPageChangedTC = (pageSize: number, pageNumber: number) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    dispatch(setCurrentPageAC(pageNumber));\r\n    let res = await userAPI.getUsers(pageNumber, pageSize)\r\n    try {\r\n        dispatch(setUsersAC(res.data.items));\r\n        dispatch(setUsersTotalCountAC(res.data.totalCount));\r\n        dispatch(toggleIsFetchingAC(false));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try change page\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const follow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleFollowingProgressAC(true, userID));\r\n\r\n    let response = await authAPI.follow(userID)\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(followSuccessAC(userID));\r\n        } else{\r\n            dispatch(setAppErrorAC(\"Some error occupied\"));\r\n            dispatch(setAppStatusAC(\"failed\"));\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userID));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try follow user\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const unfollow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleFollowingProgressAC(true, userID));\r\n    let response = await authAPI.unfollow(userID);\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(unFollowSuccessAC(userID));\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userID));\r\n    } catch (error: any) {\r\n        handleNetworkError(error, dispatch);\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1MRWo\",\"allPostsBlock\":\"Profile_allPostsBlock__1o39T\",\"editableDiv\":\"Profile_editableDiv__35lmz\",\"input\":\"Profile_input__2TDHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatBlock\":\"ChatBlock_ChatBlock__Dd0tG\",\"Title\":\"ChatBlock_Title__1C8zx\",\"imgProfilePhoto\":\"ChatBlock_imgProfilePhoto__23zW6\",\"OnlineDot\":\"ChatBlock_OnlineDot__LQRex\",\"onlineFriendsWrapper\":\"ChatBlock_onlineFriendsWrapper__3DRhn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatPageBlockOpen\":\"ChatPage_chatPageBlockOpen__xKNKs\",\"chatPageBlockCollapsed\":\"ChatPage_chatPageBlockCollapsed__n63GU\",\"chatTitle\":\"ChatPage_chatTitle__eTRpb\",\"messageFlag\":\"ChatPage_messageFlag__3Gbib\",\"noMessageFlag\":\"ChatPage_noMessageFlag__c0Xxn\",\"minimizeIcon\":\"ChatPage_minimizeIcon__2Bvv4\"};","export const placeholderText = {\r\n    profileAreaText: \"What's on your mind?\",\r\n    dialogsAreaText: \"Type a message\"\r\n}\r\nexport const maxMessageLength:number = 500;"],"sourceRoot":""}