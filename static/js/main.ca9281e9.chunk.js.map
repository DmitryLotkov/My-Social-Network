{"version":3,"sources":["components/Common/MyProfilePhoto/MyProfilePhoto.module.scss","components/Common/Preloader/Preloader.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/MyPosts.module.scss","components/Common/TextAreaForm/TextAreaForm.module.scss","Redux/NavBarReducer.tsx","Redux/store.ts","Redux/AppReducer.tsx","Redux/DialogsReducer.tsx","components/Common/MyProfilePhoto/MyProfilePhoto.tsx","components/Common/TextAreaForm/TextAreaForm.tsx","components/Common/Selectors/Selectors.ts","components/EditProfile/EditProfile.module.scss","utils/error.utils.ts","components/Header/Header.module.scss","components/Error404/Error404.module.scss","components/Profile/ProdileData/ContactBlock.module.scss","components/Users/Users.tsx","components/Common/Preloader/Preloader.tsx","components/Users/UsersContainerFC.tsx","components/Profile/ProfileStatus.tsx","components/Profile/ProdileData/ContactBlock.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts.tsx","components/Profile/ProfileFC.tsx","components/Profile/ProfileContainerFC.tsx","components/Events/Events.tsx","components/Events/EventsContainer.tsx","components/Photos/Photos.tsx","components/Photos/PhotosContainer.tsx","components/Login/Login.tsx","components/HOC/withSuspense.tsx","components/ErrorSnackBar/ErrorSnackBar.tsx","components/EditProfile/EditProfile.tsx","Images/Logo.svg","components/Header/Navigation.tsx","components/Header/Header.tsx","components/PrivateRoutes.tsx","Images/astronaut.svg","Images/earth.svg","Images/moon.svg","Images/rocket.svg","Images/404Text.svg","components/Error404/Error404.tsx","App.tsx","index.tsx","constants.ts","Redux/ProfileReducer.tsx","components/api.tsx","components/Profile/ProfileInfo/ProfileInfo.module.scss","Redux/AuthReducer.tsx","components/Users/users.module.scss","Redux/UsersReducer.tsx","Images/defaultUserImage.jpg","components/Profile/Profile.module.scss","components/Common/TextAreaForm/textAreaData.ts"],"names":["module","exports","initialState","onlineFriends","id","v1","avatar","sidebarReducer","state","useAppDispatch","useDispatch","rootReducer","combineReducers","ProfilePage","profileReducer","DialogPage","dialogsReducer","SideBar","UsersPage","userReducer","Auth","authReducer","App","appReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","useAppSelector","useSelector","ACTIONS_TYPE","error","status","action","type","APP_SET_ERROR","APP_SET_STATUS","setAppErrorAC","setAppStatusAC","dialogs","name","message","messages","ADD_DIALOG_MESSAGE","text","addMessageAC","MyProfilePhoto","React","memo","navigate","useNavigate","myPhoto","profile","photos","small","myLoginName","data","login","userID","userIDSelector","className","styles","myProfilePhotoWrapper","mySmallPhoto","src","defaultUserPhoto","alt","userName","onClick","TextAreaForm","props","formik","useFormik","initialValues","validate","values","errors","length","maxMessageLength","onSubmit","resetForm","callBack","handleSubmit","formWrapper","textArea","maxLength","placeholder","placeholderText","getFieldProps","autoFocus","onBlur","style","color","statusSelector","postsDataSelector","postsData","profileSelector","isLoggedInSelector","isLoggedIn","isInitializedSelector","isInitialized","isFetchingSelector","isFetching","usersSelector","items","pageSizeSelector","pageSize","currentPageSelector","currentPage","totalUserCountSelector","totalCount","followingArrSelector","following","handleNetworkError","Error","dispatch","response","handleServerAppError","handleServerNetworkError","Users","users","totalUserCount","onPageChanged","followingInProgress","unfollowTC","followTC","pagesCount","Math","ceil","userPhoto","usersWrapper","Pagination","onChange","event","page","size","variant","shape","count","data-testid","map","user","usersBlock","avatarAndFollowButton","followed","Button","disabled","some","nameAndStatus","Preloader","main","progress","CircularProgress","UserContainerFC","followingArr","useEffect","getUsersTC","pageNumber","onPageChangedTC","follow","unfollow","ProfileStatus","userId","Number","useParams","useState","localStatus","setLocalStatus","editMode","setEditMode","activateEditMode","deactivateEditMode","updateUserStatusTC","myUserID","editableDiv","input","e","currentTarget","value","onKeyPress","key","ContactBlock","contactsBlock","contacts","vk","contactsBlockItem","icon","faVk","href","instagram","faInstagram","youtube","faYoutube","github","faGithub","twitter","faTwitter","facebook","faFacebook","website","faFirefoxBrowser","mainLink","faGoogle","lookingForAJobDescription","position","top","left","transform","width","bgcolor","boxShadow","p","borderRadius","ProfileInfo","large","myId","photoRef","useRef","open","setOpen","base64Avatar","setLocalAvatar","fileAvatar","setFileAvatar","openPopover","setOpenPopover","popoverAnchor","show","Object","every","item","handleCloseModal","profileInfoWrapper","profilePhoto","avatarWrapper","menu","statusBlock","profileName","fullName","popover","ref","fontSize","lookingForAJob","profileStatus","profileDescription","aboutMe","Modal","onClose","Box","sx","display","flexDirection","justifyContent","alignItems","IconButton","right","Close","marginBottom","htmlFor","accept","reader","FileReader","file","target","files","onloadend","result","maxPictureSize","readAsDataURL","textTransform","current","click","uploadAvatarTC","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","Typography","Post","likesCount","setLikesCount","round","random","itemWrapper","userAndLoginBlock","likeCount","MyPosts","postsElements","reverse","postBlock","posts","ProfileFC","profileWrapper","profileAreaText","addPostActionAC","ProfileContainerFC","getProfileTC","getUserStatusTC","to","PATH","LOGIN","Events","EventsContainer","Photos","PhotosContainer","content","Login","serverError","captchaUrl","isPassType","setIsPassType","email","test","password","rememberMe","captcha","loginTC","HOME","Grid","container","FormControl","FormLabel","rel","FormGroup","mTop","InputLabel","Input","onFocus","touched","endAdornment","InputAdornment","aria-label","onMouseDown","preventDefault","VisibilityOff","Visibility","FormControlLabel","label","control","Checkbox","checked","marginTop","withSuspense","Component","Suspense","fallback","ErrorSnackBar","handleClose","reason","Snackbar","autoHideDuration","Alert","severity","AlertTitle","EditProfile","s","editProfileWrapper","enableReinitialize","updateProfileTC","PROFILE","formRow","contactText","TextField","background","handleChange","handleBlur","helperText","multiline","labelPlacement","button","Navigation","headerContent","logo","sideWrapper","NavItem","isActive","activeNavLink","unActiveNavLink","DIALOGS","USERS","EDIT_PROFILE","loginBlock","jobStatus","logOutTC","Header","headerWrapper","PrivateRoutes","location","useLocation","encodeURIComponent","pathname","replace","Error404","ErrorWrapper","stars","centralBody","image404","errorText","btnGoHome","objects","objectRocket","rocket","earthMoon","objectEarth","earth","objectMoon","moon","boxAstronaut","objectAstronaut","astronaut","glowingStars","star","DialogContainerFC","lazy","ERROR404","ANY_ROUTE","EVENTS","PHOTOS","appStatus","initializeAppTC","path","element","UsersContainerFC","ReactDOM","render","document","getElementById","Yup","min","max","required","matches","nullable","url","ADD_POST","setStatusAC","SET_STATUS","SET_SOME_USER_PROFILE","SAVE_MY_PROFILE_PHOTO","DELETE_POST","filter","post","a","profileAPI","getProfile","res","getStatus","console","log","updateStatus","resultCode","photoFile","getState","uploadAvatar","updateProfile","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","get","put","formData","FormData","append","authAPI","me","delete","logout","getFollowers","securityAPI","SET_IS_LOGGED_IN","SET_IS_INITIALIZED","SET_AUTH_PROFILE_DATA","GET_CAPTCHA","setIsLoggedInAC","getCaptchaAC","profileData","getCaptchaTC","FOLLOW","u","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","IS_FETCHING","IS_FOLLOWING_PROGRESS","followingIsProgress","followSuccessAC","unFollowSuccessAC","setUsersAC","setUsersTotalCountAC","serverTotalUsersCount","toggleIsFetchingAC","toggleFollowingProgressAC","dialogsAreaText"],"mappings":"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","file":"static/js/main.ca9281e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myProfilePhotoWrapper\":\"MyProfilePhoto_myProfilePhotoWrapper__3ZNPd\",\"mySmallPhoto\":\"MyProfilePhoto_mySmallPhoto__v9qAS\",\"jobStatus\":\"MyProfilePhoto_jobStatus__1F5Cr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__2BYGT\",\"progress\":\"Preloader_progress__Q1DsD\",\"scaling\":\"Preloader_scaling__13g5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"Post_itemWrapper__1z8ce\",\"userAndLoginBlock\":\"Post_userAndLoginBlock__2x_uT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__sox7b\",\"posts\":\"MyPosts_posts__2zln9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"TextAreaForm_formWrapper__2lVua\",\"textArea\":\"TextAreaForm_textArea__2ZXO2\"};","import {SideBarType} from \"../components/OldComponents/OldStore\";\r\nimport {v1} from \"uuid\";\r\n\r\nlet initialState: SideBarType = {\r\n    onlineFriends: [\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-3.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-6.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-2.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-7.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-10.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-9.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-5.jpg\"},\r\n        {id: v1(), avatar: \"https://themified.com/friend-finder/images/users/user-8.jpg\"},\r\n    ],\r\n}\r\nconst sidebarReducer = (state: SideBarType = initialState) => {\r\n    return state\r\n}\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\n\r\n\r\nimport sidebarReducer from \"./NavBarReducer\";\r\nimport {UsersActionsType, userReducer} from \"./UsersReducer\";\r\nimport {AuthActionsType, authReducer} from \"./AuthReducer\";\r\nimport thunkMiddleware, {ThunkDispatch} from 'redux-thunk'\r\nimport {appReducer, AppActionsType} from \"./AppReducer\";\r\nimport {ProfileActionsType, profileReducer} from \"./ProfileReducer\";\r\nimport {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsReducer} from \"./DialogsReducer\";\r\n\r\n\r\n\r\n\r\nexport type AppRootStateType = ReturnType <typeof rootReducer>\r\nexport type RootActionsType = AuthActionsType | AppActionsType | ProfileActionsType | UsersActionsType\r\nexport type AppThunkDispatch = ThunkDispatch<AppStoreType, null, RootActionsType>;\r\nexport const useAppDispatch: () => AppThunkDispatch = useDispatch;\r\nconst rootReducer = combineReducers({\r\n    ProfilePage: profileReducer,\r\n    DialogPage: dialogsReducer,\r\n    SideBar: sidebarReducer,\r\n    UsersPage: userReducer,\r\n    Auth: authReducer,\r\n    App: appReducer\r\n})\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nexport type AppStoreType = ReturnType<typeof rootReducer>;\r\nexport const useAppSelector: TypedUseSelectorHook<AppStoreType> = useSelector;\r\n\r\n\r\n// @ts-ignore\r\nwindow.store = store","\r\n\r\n//types\r\nexport type NullableType<T> = null | T\r\nexport enum ACTIONS_TYPE {\r\n    APP_SET_ERROR = \"APP-SET-ERROR\",\r\n    APP_SET_STATUS = \"APP/SET-STATUS\"\r\n}\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\nexport type AppActionsType = ReturnType<typeof setAppErrorAC> | ReturnType<typeof setAppStatusAC>\r\n\r\ntype InitialStateType = typeof initialState\r\nconst initialState = {\r\n    error: null as NullableType<string>,\r\n    status: \"idle\" as RequestStatusType,\r\n}\r\n\r\n//reducer\r\nexport const appReducer = (state: InitialStateType = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.APP_SET_ERROR:\r\n            return {...state, error: action.error}\r\n        case ACTIONS_TYPE.APP_SET_STATUS:\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creators\r\nexport const setAppErrorAC = (error: NullableType<string>) => ({type: ACTIONS_TYPE.APP_SET_ERROR, error} as const);\r\nexport const setAppStatusAC = (status: RequestStatusType) => ({ type: ACTIONS_TYPE.APP_SET_STATUS, status} as const);\r\n\r\n\r\n\r\n\r\n\r\n","import {v1} from \"uuid\";\r\n\r\n\r\n\r\n\r\n//types\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport enum ACTIONS_TYPE {\r\n    ADD_DIALOG_MESSAGE = \"DIALOGS/ADD-DIALOG-MESSAGE\",\r\n}\r\nexport type DialogActionsType = ReturnType<typeof addMessageAC>\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n    avatar: string\r\n    message: string\r\n}\r\nexport type DialogsStateType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n}\r\nconst initialState: DialogsStateType = {\r\n\r\n    dialogs: [\r\n        {\r\n            id: v1(),\r\n            name: \"Boris Jonson\",\r\n            avatar: \"https://themified.com/friend-finder/images/users/user-4.jpg\",\r\n            message: \"What is the weather forecast for tomorrow?\"\r\n        },\r\n\r\n    ],\r\n    messages: [\r\n        {id: v1(), message: \"Looks like it will be sunny tomorrow=)\"}\r\n    ]\r\n}\r\n//reducer\r\nexport const dialogsReducer = (state: DialogsStateType = initialState, action: DialogActionsType): DialogsStateType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.ADD_DIALOG_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: action.text}]\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n//action creators\r\nexport const addMessageAC = (text: string) => ({type: ACTIONS_TYPE.ADD_DIALOG_MESSAGE, text} as const)\r\n\r\n","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {useAppSelector} from \"../../../Redux/store\";\r\nimport styles from \"./MyProfilePhoto.module.scss\";\r\nimport defaultUserPhoto from \"../../../Images/defaultUserImage.jpg\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {userIDSelector} from \"../Selectors/Selectors\";\r\n\r\n\r\nexport const MyProfilePhoto = React.memo(() =>{\r\n    const navigate = useNavigate()\r\n    const myPhoto = useAppSelector<string | undefined>(state => state.ProfilePage.profile.photos?.small);\r\n    const myLoginName = useAppSelector<string | null>(state => state.Auth.data.login);\r\n    const userID = useSelector(userIDSelector)\r\n    const navigateToMyMage = ()=>{\r\n        navigate(`/profile/${userID}`)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.myProfilePhotoWrapper}>\r\n            <img className={styles.mySmallPhoto} src={myPhoto || defaultUserPhoto} alt={\"userPhoto\"}/>\r\n            <div className={styles.userName} onClick={navigateToMyMage}>\r\n                {myLoginName}\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {useFormik} from \"formik\";\r\nimport styles from \"./TextAreaForm.module.scss\";\r\nimport {MyPostsPropsType} from \"../../Profile/MyPosts\";\r\nimport {maxMessageLength} from \"./textAreaData\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\n\r\nexport const TextAreaForm = React.memo((props: MyPostsPropsType) => {\r\n    type FormikErrorType = {\r\n        text?: string\r\n    }\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            text: \"\",\r\n        },\r\n        validate: values => {\r\n            const errors: FormikErrorType = {};\r\n            if(!values.text){\r\n                errors.text = \"Enter a message\"\r\n            }\r\n            if(values.text.length >= maxMessageLength){\r\n                errors.text = `Max length of message is ${maxMessageLength} symbols.`\r\n            }\r\n            return errors;\r\n        },\r\n\r\n        onSubmit: (values, {resetForm}) => {\r\n            if (values.text !== \"\")\r\n                props.callBack(values.text)\r\n            resetForm();\r\n        },\r\n\r\n    })\r\n\r\n\r\n    return (\r\n        <form  onSubmit={formik.handleSubmit}>\r\n            <div className={styles.formWrapper}>\r\n                <textarea className={styles.textArea} maxLength={1000}\r\n                         placeholder={props.placeholderText}\r\n                         {...formik.getFieldProps(\"text\")}\r\n                         autoFocus={true} onBlur={() => formik.errors.text = \"\"}\r\n            />\r\n                <div>\r\n                    <Button type={\"submit\"}>Publish</Button>\r\n                </div>\r\n            </div>\r\n            {formik.errors.text &&  <div style={{color: \"red\"}}> {formik.errors.text}</div>}\r\n        </form>\r\n    )\r\n\r\n})","import {AppRootStateType} from \"../../../Redux/store\";\r\nimport {UserType} from \"../../../Redux/UsersReducer\";\r\nimport {PostType, ProfileDataType} from \"../../../Redux/ProfileReducer\";\r\n\r\nexport const statusSelector = (state:AppRootStateType):string =>{\r\n    return state.ProfilePage.status;\r\n}\r\nexport const userIDSelector = (state:AppRootStateType):number =>{\r\n    return state.Auth.data.id;\r\n}\r\nexport const postsDataSelector = (state:AppRootStateType):Array<PostType> =>{\r\n    return state.ProfilePage.postsData;\r\n}\r\nexport const profileSelector = (state:AppRootStateType):ProfileDataType =>{\r\n    return state.ProfilePage.profile;\r\n}\r\nexport const isLoggedInSelector = (state:AppRootStateType):boolean =>{\r\n    return state.Auth.isLoggedIn;\r\n}\r\nexport const isInitializedSelector = (state:AppRootStateType):boolean =>{\r\n    return state.Auth.isInitialized;\r\n}\r\nexport const isFetchingSelector = (state:AppRootStateType):boolean =>{\r\n    return state.UsersPage.isFetching;\r\n}\r\nexport const usersSelector = (state:AppRootStateType):UserType[] =>{\r\n    return state.UsersPage.items;\r\n}\r\nexport const pageSizeSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.pageSize;\r\n}\r\nexport const currentPageSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.currentPage;\r\n}\r\nexport const totalUserCountSelector = (state:AppRootStateType):number =>{\r\n    return state.UsersPage.totalCount;\r\n}\r\nexport const followingArrSelector = (state:AppRootStateType):Array<string> =>{\r\n    return state.UsersPage.following;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editProfileWrapper\":\"EditProfile_editProfileWrapper__30i2D\",\"content\":\"EditProfile_content___ZHRn\",\"formRow\":\"EditProfile_formRow__nKvXR\",\"contactText\":\"EditProfile_contactText___RyRo\",\"checkBoxLabel\":\"EditProfile_checkBoxLabel__3Yx_B\",\"button\":\"EditProfile_button__1wtrb\"};","import {AxiosError} from \"axios\";\r\nimport {AppThunkDispatch} from \"../Redux/store\";\r\nimport {setAppErrorAC, setAppStatusAC} from \"../Redux/AppReducer\";\r\nimport {RespType} from \"../components/api\";\r\n\r\n\r\nexport const handleNetworkError = (Error: AxiosError<{ error: string }>, dispatch: AppThunkDispatch) =>{\r\n\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n    dispatch(setAppErrorAC(Error.response?.data.error || \"some Error\"));\r\n}\r\n\r\n\r\nexport const handleServerAppError = <D>(data: RespType<D>, dispatch: AppThunkDispatch, ) =>{\r\n    if (data.messages.length) {\r\n        dispatch(setAppErrorAC(data.messages[0]));\r\n    } else {\r\n        dispatch(setAppErrorAC(\"Some error occupied\"));\r\n    }\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n\r\n}\r\nexport const handleServerNetworkError = (error:Error, dispatch:AppThunkDispatch) =>{\r\n    dispatch(setAppErrorAC(error.message));\r\n    dispatch(setAppStatusAC(\"failed\"));\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerWrapper\":\"Header_headerWrapper__2JC-5\",\"sideWrapper\":\"Header_sideWrapper__3LECh\",\"NavItem\":\"Header_NavItem__11nuk\",\"unActiveNavLink\":\"Header_unActiveNavLink__3MLaf\",\"activeNavLink\":\"Header_activeNavLink__1evn6\",\"logo\":\"Header_logo__22GGz\",\"headerContent\":\"Header_headerContent__1KPAQ\",\"loginBlock\":\"Header_loginBlock__1rezt\",\"jobStatus\":\"Header_jobStatus__H8bbu\",\"login\":\"Header_login__2_qsa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinEarthOnHover\":\"Error404_spinEarthOnHover__e2isj\",\"ErrorWrapper\":\"Error404_ErrorWrapper__1pf8y\",\"stars\":\"Error404_stars__SQd2w\",\"centralBody\":\"Error404_centralBody__1JEWd\",\"image404\":\"Error404_image404__3kdlv\",\"btnGoHome\":\"Error404_btnGoHome__1aZp-\",\"objects\":\"Error404_objects__1c8KN\",\"objectRocket\":\"Error404_objectRocket__Dl0sG\",\"rocketMovement\":\"Error404_rocketMovement__1jP2b\",\"earthMoon\":\"Error404_earthMoon__2Oh1x\",\"objectEarth\":\"Error404_objectEarth__1Upwt\",\"spinEarth\":\"Error404_spinEarth__1em9y\",\"objectMoon\":\"Error404_objectMoon__jD2Jg\",\"boxAstronaut\":\"Error404_boxAstronaut__2allS\",\"moveAstronaut\":\"Error404_moveAstronaut__3vQwN\",\"objectAstronaut\":\"Error404_objectAstronaut__34-08\",\"rotateAstronaut\":\"Error404_rotateAstronaut__2OcHy\",\"glowingStars\":\"Error404_glowingStars__3cRJl\",\"star\":\"Error404_star__1VYV1\",\"glowStar\":\"Error404_glowStar__3cklv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsBlock\":\"ContactBlock_contactsBlock__2Civ_\",\"contactsBlockItem\":\"ContactBlock_contactsBlockItem__2K0-l\",\"icon\":\"ContactBlock_icon__3Ov0h\",\"lastContactBlockItem\":\"ContactBlock_lastContactBlockItem__2KVn5\"};","import React, {ChangeEvent} from \"react\";\r\nimport style from \"./users.module.scss\";\r\nimport userPhoto from \"../../Images/defaultUserImage.jpg\";\r\nimport {UserType} from \"../../Redux/UsersReducer\";\r\nimport Pagination from '@mui/material/Pagination';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\ntype usersPropsType = {\r\n    totalUserCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: UserType[]\r\n    followingInProgress: Array<string>\r\n    followTC: (userID: string) => void\r\n    unfollowTC: (userID: string) => void\r\n}\r\n\r\nexport function Users({users, totalUserCount, currentPage, pageSize, onPageChanged, followingInProgress,\r\n                          unfollowTC, followTC}: usersPropsType) {\r\n    const navigate = useNavigate();\r\n    const pagesCount = Math.ceil(totalUserCount / pageSize);\r\n    const defaultUserPhoto: string = userPhoto;\r\n    const onPageHandler = (event: ChangeEvent<unknown>, page: number) => {\r\n        onPageChanged(page);\r\n    }\r\n\r\n\r\n    return <div className={style.usersWrapper}>\r\n        <Pagination color={\"primary\"}\r\n                    onChange={onPageHandler}\r\n                    size={\"small\"}\r\n                    variant={\"outlined\"}\r\n                    shape=\"rounded\"\r\n                    count={pagesCount}\r\n                    page={currentPage}\r\n                    data-testid=\"pagination\"\r\n        />\r\n        {users.map(user =>\r\n\r\n            <div key={user.id} data-testid=\"userArr\">\r\n                <div className={style.usersBlock}>\r\n                    <div className={style.avatarAndFollowButton}>\r\n                        <img onClick={() => navigate(`/profile/${user.id}`)}\r\n                             className={style.avatar} src={user.photos.small ? user.photos.small : defaultUserPhoto}\r\n                             alt={\"user\"}/>\r\n                        <span>\r\n                            {user.followed ?\r\n                                <Button disabled={followingInProgress\r\n                                    .some(id => id === user.id)}\r\n                                        onClick={() => {\r\n                                            //  thunk creator  ,  userContainerFC unfollowTC  dispatch\r\n                                            unfollowTC(user.id)\r\n                                        }\r\n                                        }>Unfollow</Button>\r\n\r\n                                : <Button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={\r\n                                              () => {\r\n                                                  //  thunk creator  ,  userContainerFC unfollowTC  dispatch\r\n                                                  //thunk creator    DAL  BLL  UI\r\n                                                  followTC(user.id)\r\n                                              }\r\n                                          }>Follow</Button>\r\n                            }\r\n                            </span>\r\n                    </div>\r\n                    <div className={style.nameAndStatus}>\r\n                        <h3 className={style.name}>\r\n                            <div>{user.name}</div>\r\n                        </h3>\r\n                        <div className={style.status}>{`Status:  ${user.status ?? \"no status\"}`}</div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>)}\r\n    </div>\r\n\r\n}\r\n\r\n","import React from \"react\"\r\nimport styles from \"./Preloader.module.scss\"\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nexport function Preloader (){\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.progress}>\r\n                <CircularProgress size={50}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {useDispatch} from \"react-redux\";\r\nimport {\r\n    follow, getUsersTC, onPageChangedTC, unfollow\r\n} from \"../../Redux/UsersReducer\";\r\nimport React, {FC, useEffect} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    currentPageSelector, followingArrSelector,\r\n    isFetchingSelector,\r\n    pageSizeSelector,\r\n    totalUserCountSelector,\r\n    usersSelector\r\n} from \"../Common/Selectors/Selectors\";\r\nimport {useAppSelector} from \"../../Redux/store\";\r\n\r\n\r\n\r\nconst UserContainerFC: FC = React.memo(() => {\r\n\r\n    const dispatch = useDispatch();\r\n    const users = useAppSelector(usersSelector);\r\n    const isFetching = useAppSelector(isFetchingSelector);\r\n    const pageSize = useAppSelector(pageSizeSelector);\r\n    const currentPage = useAppSelector(currentPageSelector);\r\n    const totalUserCount = useAppSelector(totalUserCountSelector);\r\n    const followingArr = useAppSelector(followingArrSelector);\r\n    // let Redirect= WithAuthRedirect(Users);\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsersTC(currentPage, pageSize));\r\n    }, [currentPage, pageSize, dispatch])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(onPageChangedTC(pageSize, pageNumber));\r\n    }\r\n\r\n    const unfollowTC = (userID: string) => {\r\n        dispatch(unfollow(userID))\r\n    }\r\n\r\n    const followTC = (userID: string) => {\r\n        dispatch(follow(userID))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isFetching ?\r\n                    <Preloader/> :\r\n                    <Users onPageChanged={onPageChanged}\r\n                                            currentPage={currentPage}\r\n                                            totalUserCount={totalUserCount}\r\n                                            pageSize={pageSize}\r\n                                            users={users}\r\n                                            followTC={followTC}\r\n                                            unfollowTC={unfollowTC}\r\n                                            followingInProgress={followingArr}/>\r\n            }\r\n        </>\r\n    )\r\n})\r\nexport default UserContainerFC\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport styles from \"./Profile.module.scss\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updateUserStatusTC} from \"../../Redux/ProfileReducer\";\r\nimport {statusSelector} from \"../Common/Selectors/Selectors\";\r\n\r\nimport {useParams} from \"react-router-dom\";\r\nimport {useAppSelector} from \"../../Redux/store\";\r\nimport { myUserID} from \"../../constants\";\r\n\r\n\r\nexport const ProfileStatus = () => {\r\n    const dispatch = useDispatch();\r\n    const status = useAppSelector(statusSelector);\r\n    const userId = Number(useParams<'userId'>().userId)\r\n    const [localStatus, setLocalStatus] = useState(status);\r\n    const [editMode, setEditMode] = useState<boolean>(true);\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setLocalStatus(status);\r\n        setEditMode(false);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        dispatch(updateUserStatusTC(localStatus));\r\n        setEditMode(true);\r\n    }\r\n    const changeTitle = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setLocalStatus(e.currentTarget.value);\r\n    }\r\n    const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === \"Enter\") {\r\n            deactivateEditMode();\r\n        }\r\n    }\r\n\r\n    if ( userId !== myUserID ) {\r\n\r\n        return (\r\n            <div data-testid=\"editableDiv\">\r\n                {status}\r\n            </div>\r\n        )\r\n    }\r\n    if(editMode && userId === myUserID && !status){\r\n\r\n        return (\r\n        <div\r\n                className={styles.editableDiv}\r\n                onClick={activateEditMode}>\r\n                Set status\r\n        </div>\r\n        )\r\n    }\r\n\r\n    if((editMode && userId === myUserID) ){\r\n        return (\r\n        <div className={styles.editableDiv}\r\n             data-testid=\"editableMyDiv\"\r\n            onClick={activateEditMode}>\r\n            {status}\r\n        </div>)\r\n    }\r\n\r\n    else return <input className={styles.input}\r\n                       onChange={changeTitle}\r\n                       onKeyPress={onKeyPressHandler}\r\n                       onBlur={deactivateEditMode}\r\n                       type=\"text\"\r\n                       data-testid=\"input\"\r\n                       value={localStatus}/>\r\n};\r\n\r\n","import React from 'react';\r\nimport {useAppSelector} from \"../../../Redux/store\";\r\nimport {profileSelector} from \"../../Common/Selectors/Selectors\";\r\nimport style from \"./ContactBlock.module.scss\"\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faGithub} from \"@fortawesome/free-brands-svg-icons/faGithub\";\r\nimport {faVk} from \"@fortawesome/free-brands-svg-icons/faVk\";\r\nimport {faTwitter} from \"@fortawesome/free-brands-svg-icons/faTwitter\";\r\nimport {faFacebook} from \"@fortawesome/free-brands-svg-icons/faFacebook\";\r\nimport {faFirefoxBrowser, faYoutube} from \"@fortawesome/free-brands-svg-icons\";\r\nimport {faInstagram} from \"@fortawesome/free-brands-svg-icons/faInstagram\";\r\nimport {faGoogle} from \"@fortawesome/free-brands-svg-icons/faGoogle\";\r\n\r\nexport const ContactBlock = () => {\r\n    const profile = useAppSelector(profileSelector);\r\n\r\n    return (\r\n        <div className={style.contactsBlock}>\r\n            <div>\r\n                <strong>Contacts</strong>\r\n            </div>\r\n            {profile.contacts.vk &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faVk}/>\r\n                <a href={profile.contacts.vk}>\r\n                    Vk\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.instagram &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faInstagram}/>\r\n                <a href={profile.contacts.instagram}>\r\n                    Instagram\r\n                </a>\r\n            </div>\r\n            }\r\n            {profile.contacts.youtube &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faYoutube}/>\r\n                <a href={profile.contacts.youtube}>\r\n                    You tube\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.github &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faGithub}/>\r\n                <a href={profile.contacts.github}>\r\n                    GitHub\r\n                </a>\r\n            </div>}\r\n\r\n            {profile.contacts.twitter &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faTwitter}/>\r\n                <a href={profile.contacts.twitter}>\r\n                    twitter\r\n                </a>\r\n            </div>\r\n            }\r\n            {profile.contacts.facebook &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faFacebook}/>\r\n                <a href={profile.contacts.twitter}>\r\n                    faceBook\r\n                </a>\r\n            </div>}\r\n            {profile.contacts.website &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faFirefoxBrowser}/>\r\n                <a href={profile.contacts.website}>\r\n                    Web site\r\n                </a>\r\n            </div>}\r\n            {profile.contacts.mainLink &&\r\n            <div className={style.contactsBlockItem}>\r\n                <FontAwesomeIcon className={style.icon} icon={faGoogle}/>\r\n                <a href={profile.contacts.website}>\r\n                    Main link\r\n                </a>\r\n            </div>}\r\n            {profile.lookingForAJobDescription &&\r\n            <>\r\n                <div>\r\n                    <strong>Job description</strong>\r\n                </div>\r\n                <div className={style.contactsBlockItem}>\r\n                    {profile.lookingForAJobDescription}\r\n                </div>\r\n            </>}\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React, {ChangeEvent, useRef, useState} from \"react\";\r\nimport styles from \"./ProfileInfo.module.scss\"\r\nimport {\r\n    ProfileDataType, uploadAvatarTC,\r\n} from \"../../../Redux/ProfileReducer\";\r\nimport defaultUserPhoto from \"../../../Images/defaultUserImage.jpg\";\r\nimport {ProfileStatus} from \"../ProfileStatus\";\r\nimport Modal from \"@mui/material/Modal/Modal\";\r\nimport {Box, Typography} from \"@mui/material\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport {Close} from \"@mui/icons-material\";\r\nimport {useAppSelector} from \"../../../Redux/store\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setAppErrorAC} from \"../../../Redux/AppReducer\";\r\nimport {userIDSelector} from \"../../Common/Selectors/Selectors\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {maxPictureSize} from \"../../../constants\";\r\nimport {ContactBlock} from \"../ProdileData/ContactBlock\";\r\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\";\r\nimport Popover from \"@mui/material/Popover\";\r\n\r\ntype profileInfoPropsType = {\r\n    profile: ProfileDataType\r\n\r\n}\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 350,\r\n    bgcolor: '#F9F9FE',\r\n    boxShadow: 24,\r\n    p: 4,\r\n    borderRadius: 2,\r\n}\r\nexport const ProfileInfo = React.memo((props: profileInfoPropsType) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const userPhoto = useAppSelector(state => state.ProfilePage.profile.photos?.large);\r\n    const userId = Number(useParams<'userId'>().userId)\r\n    const myId = useAppSelector(userIDSelector);\r\n    const photoRef = useRef<HTMLInputElement>(null);\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [base64Avatar, setLocalAvatar] = useState<any>(userPhoto);\r\n    const [fileAvatar, setFileAvatar] = useState<any>();\r\n    const [openPopover, setOpenPopover] = useState(false)\r\n    const popoverAnchor = useRef(null);\r\n    let show = Object.values(props.profile.contacts).every(item => item !== null)\r\n\r\n\r\n    const handleCloseModal = () => setOpen(false);\r\n    const handleClosePopover = () => setOpenPopover(false);\r\n    const handleOpenPopover = () => setOpenPopover(true);\r\n\r\n    const handleSaveAvatar = () => {\r\n        dispatch(uploadAvatarTC(fileAvatar));\r\n        handleCloseModal();\r\n    }\r\n    const onChangeAvatar = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const reader = new FileReader();\r\n        const file = e.target?.files;\r\n\r\n        if ((file && file[0].type) && (file[0].type === \"image/png\" || file[0].type === \"image/jpeg\")) {\r\n            setFileAvatar(file[0])\r\n            reader.onloadend = function () {\r\n                setLocalAvatar(reader.result)\r\n            }\r\n            if (file[0].size && file[0].size <= maxPictureSize) {\r\n                reader.readAsDataURL(file[0])\r\n            } else {\r\n                dispatch(setAppErrorAC(`Your file size must be less then ${maxPictureSize / 1000000}MB `))\r\n            }\r\n\r\n        } else {\r\n            dispatch(setAppErrorAC(`Your file has not in .png .jpeg format. Please choose the right file`))\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={styles.profileInfoWrapper}>\r\n\r\n            <div className={styles.profilePhoto}>\r\n                <div className={styles.avatarWrapper}>\r\n                    <img src={props.profile.photos?.large ?? defaultUserPhoto} alt={\"userPhoto\"}/>\r\n                    {userId === myId &&\r\n                    <div className={styles.menu} onClick={() => setOpen(true)}><p>Change photo</p></div>}\r\n                </div>\r\n            </div>\r\n            <div className={styles.statusBlock}>\r\n                <div className={styles.profileName}>\r\n                    <strong>{props.profile.fullName}</strong>\r\n                    {/*<img src={smallLogo} alt=\"smallLogo\"/>*/}\r\n                    <CheckCircleOutlineIcon\r\n                        className={styles.popover}\r\n                        ref={popoverAnchor}\r\n                        onClick={handleOpenPopover} fontSize={\"small\"}\r\n                        color={props.profile.lookingForAJob ? \"success\" : \"error\"}/>\r\n                </div>\r\n                <div className={styles.profileStatus}>\r\n                    <ProfileStatus/>\r\n                </div>\r\n                <p className={styles.profileDescription}>\r\n                    {props.profile.aboutMe}\r\n                </p>\r\n            </div>\r\n            {show && <ContactBlock/>}\r\n            <Modal open={open}\r\n                   onClose={handleCloseModal}\r\n            >\r\n                <Box sx={style}>\r\n                    <Box>\r\n                        <Box style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            justifyContent: 'center',\r\n                            alignItems: \"center\", position: \"relative\"\r\n                        }}><strong>\r\n                            <p style={{fontSize: \"20px\"}}>Uploading profile photo</p>\r\n                        </strong></Box>\r\n                        <IconButton style={{position: \"absolute\", top: \"5px\", right: \"10px\"}}\r\n                                    onClick={handleCloseModal}>\r\n                            <Close/>\r\n                        </IconButton>\r\n                    </Box>\r\n                    <Box style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: 'center',\r\n                        alignItems: \"center\"\r\n                    }}>\r\n\r\n                        <Box id=\"outer-container\">\r\n                            <img src={base64Avatar || userPhoto} alt=\"avatar\"\r\n                                 width={\"200px\"} style={{borderRadius: \"8px\", marginBottom: \"10px\"}}\r\n                            />\r\n                        </Box>\r\n\r\n                        <Box>\r\n                            <label htmlFor=\"icon-button-file\">\r\n                                <input type={\"file\"} style={{display: \"none\"}} id={\"answer\"} ref={photoRef}\r\n                                       accept=\"image/*\" onChange={onChangeAvatar}/>\r\n                                <Button sx={{textTransform: \"none\"}} variant={\"contained\"}\r\n                                        onClick={() => photoRef.current && photoRef.current.click()}>Upload\r\n                                    photo</Button>\r\n                                <Button sx={{textTransform: \"none\"}} variant={\"contained\"}\r\n                                        onClick={handleSaveAvatar}>Save\r\n                                </Button>\r\n                            </label>\r\n                        </Box>\r\n                        <p>You can upload images in JPG or PNG format</p>\r\n                    </Box>\r\n                </Box>\r\n            </Modal>\r\n            <Popover open={openPopover}\r\n                     anchorEl={popoverAnchor.current}\r\n                     onClose={handleClosePopover}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n            >\r\n                <Typography sx={{ p: 1 }}>{props.profile.lookingForAJob ? \"In search of a jpb\" : \"Not looking for a job\" }</Typography>\r\n            </Popover>\r\n        </div>\r\n    );\r\n})","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./Post.module.scss\"\r\nimport {MyProfilePhoto} from \"../../../Common/MyProfilePhoto/MyProfilePhoto\";\r\n\r\ntype MyPostsPropsType = {\r\n    message: string\r\n    likeCount: number\r\n}\r\n\r\nexport function Post(props: MyPostsPropsType) {\r\n    const [likesCount, setLikesCount] = useState<number>();\r\n    const maxLikesCount = 1000;\r\n    const generateLike = () => {\r\n        setLikesCount(Math.round(Math.random() * maxLikesCount));\r\n    };\r\n    useEffect(() => {\r\n        generateLike()\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.itemWrapper}>\r\n            <div className={styles.userAndLoginBlock}>\r\n                <MyProfilePhoto/>\r\n            </div>\r\n            <p>\r\n                {props.message}\r\n            </p>\r\n            <div>\r\n                <span>Like: </span>{props.likeCount !== 0 ? props.likeCount : likesCount}\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport {Post} from \"./MyPosts/Post/Post\";\r\nimport styles from \"./MyPosts.module.scss\"\r\nimport {PostType} from \"../OldComponents/OldStore\";\r\nimport { TextAreaForm } from \"../Common/TextAreaForm/TextAreaForm\";\r\n\r\nexport type MyPostsPropsType = {\r\n    postsData?: Array<PostType>\r\n    callBack: (text: string) => void\r\n    placeholderText: string\r\n}\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    let postsElements = props.postsData?.map(p => <Post key={p.id}\r\n                                                        message={p.message}\r\n                                                        likeCount={p.likesCount}/>).reverse()\r\n    return <div className={styles.postBlock}>\r\n        <h3>New post</h3>\r\n        <TextAreaForm placeholderText={props.placeholderText} callBack={props.callBack}/>\r\n        <div className={styles.posts}>\r\n            {postsElements}\r\n        </div>\r\n    </div>\r\n\r\n})\r\n\r\n","import React from \"react\";\r\nimport styles from \"./Profile.module.scss\"\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {addPostActionAC} from \"../../Redux/ProfileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {MyPosts} from \"./MyPosts\";\r\n\r\nimport {placeholderText} from \"../Common/TextAreaForm/textAreaData\";\r\nimport {postsDataSelector, profileSelector} from \"../Common/Selectors/Selectors\";\r\nimport {useAppSelector} from \"../../Redux/store\";\r\nimport {myUserID} from \"../../constants\";\r\n\r\ntype ProfilePropsType = {\r\n    userID: number| null\r\n}\r\n\r\nexport const ProfileFC = React.memo((props: ProfilePropsType) => {\r\n    const postsData = useAppSelector(postsDataSelector);\r\n    const profile = useAppSelector(profileSelector);\r\n    const dispatch = useDispatch();\r\n\r\n    const addMessage = (text: string) =>{\r\n        return  dispatch(addPostActionAC(text));\r\n    }\r\n    return (\r\n        <div className={`${styles.profileWrapper} `}>\r\n            <ProfileInfo profile={profile}/>\r\n            {props.userID === myUserID &&\r\n            <MyPosts\r\n                placeholderText={placeholderText.profileAreaText}\r\n                callBack={addMessage}\r\n                postsData={postsData}/>}\r\n        </div>)\r\n\r\n})","import React, {FC, useEffect} from \"react\";\r\n\r\n\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport {ProfileFC} from \"./ProfileFC\";\r\nimport {isLoggedInSelector} from \"../Common/Selectors/Selectors\";\r\nimport {useAppSelector} from \"../../Redux/store\";\r\nimport {PATH} from \"../../App\";\r\nimport {myUserID} from \"../../constants\";\r\nimport {getProfileTC, getUserStatusTC} from \"../../Redux/ProfileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nexport const ProfileContainerFC: FC = React.memo(() =>{\r\n    const dispatch = useDispatch();\r\n\r\n    const userId = Number(useParams<'userId'>().userId);// id    app   <Route path={\"/profile/:userId\"}\r\n    const isLoggedIn = useAppSelector(isLoggedInSelector)\r\n    useEffect(() => {\r\n\r\n        if (userId !== myUserID){\r\n\r\n            dispatch(getProfileTC(userId));\r\n            dispatch(getUserStatusTC(userId));\r\n        }else{\r\n            dispatch(getProfileTC(myUserID));\r\n            dispatch(getUserStatusTC(myUserID));\r\n        }\r\n\r\n    }, [userId, dispatch]);\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={PATH.LOGIN}/>\r\n    }\r\n    return <ProfileFC userID={userId}/>\r\n})\r\n\r\n\r\n\r\n","import React from 'react';\r\n\r\n\r\n\r\nexport function Events(){\r\n    return(\r\n        <div >\r\n            <div>Events</div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport {Events} from \"./Events\";\r\n\r\nexport function EventsContainer(){\r\n   /* const Redirect = WithAuthRedirect(Events);*/\r\n    return(\r\n        <div>\r\n            {/*<Redirect/>*/}\r\n            <Events/>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nconst Photos = () => {\r\n    return (\r\n        <div>\r\n            Photos\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Photos;","import React from 'react';\r\nimport styles from \"./Photos.module.scss\";\r\n\r\nimport Photos from \"./Photos\";\r\n\r\n\r\nfunction PhotosContainer() {\r\n    /*const Redirect = WithAuthRedirect(Photos)*/\r\n    return(\r\n        <div className={styles.content}>\r\n            {/*<Redirect/>*/}\r\n            <Photos/>\r\n        </div>\r\n    );\r\n}\r\n/*compose<React.ComponentType>(WithAuthRedirect)(PhotosContainer);*/\r\nexport default PhotosContainer","import React, {useState} from 'react';\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, } from \"react-redux\";\r\nimport {loginTC} from \"../../Redux/AuthReducer\";\r\nimport {useAppSelector} from \"../../Redux/store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {NullableType, setAppErrorAC} from \"../../Redux/AppReducer\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Button from \"@mui/material/Button\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport {PATH} from \"../../App\";\r\nimport {Visibility, VisibilityOff} from \"@mui/icons-material\";\r\nimport {InputAdornment} from \"@mui/material\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport Input from \"@mui/material/Input\";\r\n\r\ntype FormikErrorType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\nexport const Login = React.memo(() => {\r\n    const isLoggedIn = useAppSelector<boolean>(state => state.Auth.isLoggedIn);\r\n    const serverError = useAppSelector<NullableType<string>>(state => state.App.error);\r\n    const captchaUrl = useAppSelector<NullableType<string>>(state => state.Auth.captchaUrl)\r\n    const dispatch = useDispatch();\r\n    const [isPassType, setIsPassType] = useState<boolean>(true);\r\n\r\n\r\n    const formik = useFormik({\r\n        validate: (values) => {\r\n            const errors: Partial<FormikErrorType> = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (values.password.length < 3) {\r\n                errors.password = \"Invalid password length\"\r\n            }\r\n            if (!values.password) {\r\n                errors.password = \"Password required\"\r\n            }\r\n\r\n            return errors;\r\n        },\r\n        initialValues: {\r\n            email: \"\",\r\n            password: \"\",\r\n            rememberMe: true,\r\n            captcha: \"\"\r\n        },\r\n\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values));\r\n        }\r\n    })\r\n    if (isLoggedIn) {\r\n        return <Navigate to={PATH.HOME}/>\r\n    }\r\n\r\n    const removeError = () => {\r\n        serverError && dispatch(setAppErrorAC(\"\"));\r\n    }\r\n    const handleClickShowPassword = () => {\r\n        setIsPassType(!isPassType);\r\n    };\r\n    const handleMouseDownPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (\r\n\r\n        <Grid container justifyContent={\"center\"}>\r\n            <Grid item justifyContent={'center'}>\r\n                <h1>Login</h1>\r\n                <FormControl>\r\n                    <FormLabel>\r\n                        <p>To log in get registered\r\n                            <a href={'https://social-network.samuraijs.com/'}\r\n                               rel=\"noreferrer\" target={'_blank'}> here\r\n                            </a>\r\n                        </p>\r\n                        <p>or use common test account credentials:</p>\r\n                        <p>Email: free@samuraijs.com</p>\r\n                        <p>Password: free</p>\r\n                    </FormLabel>\r\n                    <form onSubmit={formik.handleSubmit}>\r\n                        <FormGroup>\r\n                            <FormControl  sx={{mTop: 2, width: '35ch'}} variant=\"standard\">\r\n                                <InputLabel htmlFor=\"standard-adornment-email\">Email</InputLabel>\r\n                                <Input {...formik.getFieldProps(\"email\")} onFocus={removeError}\r\n                                />\r\n                            </FormControl>\r\n                            {/*<TextField label=\"Email\"\r\n                                       placeholder={\"email\"}\r\n                                       type=\"email\"\r\n                                       margin=\"normal\"\r\n                                       {...formik.getFieldProps(\"email\")} onFocus={removeError}/>*/}\r\n\r\n                            {formik.touched.email && formik.errors.email ?\r\n                                <div style={{color: \"red\"}}>{formik.errors.email}</div> : null}\r\n\r\n                            <FormControl sx={{mTop: 2, width: '35ch'}} variant=\"standard\">\r\n                                <InputLabel htmlFor=\"standard-adornment-password\">Password</InputLabel>\r\n                                <Input {...formik.getFieldProps(\"password\")}\r\n                                       id=\"standard-adornment-password\"\r\n                                       type={isPassType ? 'password' : 'text'}\r\n                                       endAdornment={\r\n                                           <InputAdornment position=\"end\">\r\n                                               <IconButton\r\n                                                   aria-label=\"toggle password visibility\"\r\n                                                   onClick={handleClickShowPassword}\r\n                                                   onMouseDown={handleMouseDownPassword}\r\n                                               >\r\n                                                   {isPassType ? <VisibilityOff/> : <Visibility/>}\r\n                                               </IconButton>\r\n                                           </InputAdornment>\r\n                                       }\r\n\r\n                                />\r\n                                {formik.touched.password && formik.errors.password ?\r\n                                    <div style={{color: \"red\"}}>{formik.errors.password}</div> : null}\r\n                            </FormControl>\r\n                            {/*<TextField type={\"password\"}\r\n                                       label=\"Password\"\r\n                                       margin=\"normal\"\r\n                                       placeholder={\"Password\"}\r\n                                       {...formik.getFieldProps(\"password\")}\r\n                                       onFocus={removeError}/>\r\n\r\n                            {formik.touched.password && formik.errors.password ?\r\n                                <div style={{color: \"red\"}}>{formik.errors.password}</div> : null}*/}\r\n\r\n\r\n                            <FormControlLabel\r\n                                label={'Remember me'}\r\n                                control={<Checkbox/>}\r\n                                {...formik.getFieldProps(\"rememberMe\")}\r\n                                checked={formik.getFieldProps(\"rememberMe\").value}\r\n                            />\r\n\r\n                            {captchaUrl &&\r\n                            <>\r\n                                <img src={captchaUrl} alt={\"captchaImg\"}/>\r\n                                <FormControl sx={{mTop: 2, width: '35ch'}} variant=\"standard\">\r\n                                    <InputLabel htmlFor=\"standard-adornment-password\">Captcha</InputLabel>\r\n                                    <Input {...formik.getFieldProps(\"captcha\")}\r\n\r\n                                    />\r\n                                    {formik.touched.captcha && formik.errors.captcha ?\r\n                                        <div style={{color: \"red\"}}>{formik.errors.captcha}</div> : null}\r\n                                </FormControl>\r\n                            </>\r\n                            }\r\n\r\n                            <Button style={{marginTop:\" 1rem\"}} variant={'contained'}\r\n                                    type={\"submit\"}>\r\n                                Login\r\n                            </Button>\r\n                        </FormGroup>\r\n                    </form>\r\n                </FormControl>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n});\r\n\r\n","import React, {ReactElement} from 'react';\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nfunction withSuspense<T>(Component: React.ComponentType<T>) {\r\n\r\n    return (props:T):ReactElement => (\r\n        <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    )\r\n}\r\nexport default withSuspense\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\n\r\nimport Alert from \"@mui/material/Alert\";\r\nimport {AlertTitle} from \"@mui/material\";\r\nimport {useAppDispatch, useAppSelector} from \"../../Redux/store\";\r\nimport {NullableType, setAppErrorAC} from \"../../Redux/AppReducer\";\r\n\r\n\r\n\r\nexport const ErrorSnackBar = () => {\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n    const error = useAppSelector<NullableType<string>>(state => state.App.error);\r\n\r\n    const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setAppErrorAC(null))\r\n    };\r\n\r\n    return (\r\n        <Snackbar open={error !== null} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}>\r\n            <Alert\r\n                onClose={handleClose} severity=\"error\" sx={{width: '100%'}}>\r\n                <AlertTitle>Error</AlertTitle>\r\n                <strong>{error}</strong>\r\n            </Alert>\r\n        </Snackbar>\r\n    );\r\n};\r\n","import React, {useEffect} from 'react';\r\nimport s from \"./EditProfile.module.scss\"\r\nimport {useAppSelector} from \"../../Redux/store\";\r\nimport {profileSelector} from \"../Common/Selectors/Selectors\";\r\nimport {TextField} from \"@mui/material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {Formik} from \"formik\";\r\nimport {getProfileTC, updateProfileTC} from \"../../Redux/ProfileReducer\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport {useDispatch} from 'react-redux';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {PATH} from \"../../App\";\r\n\r\n\r\n\r\nexport const EditProfile = React.memo(() => {\r\n    const userId = useAppSelector(state => state.Auth.data.id);\r\n    const profile = useAppSelector(profileSelector);\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        dispatch(getProfileTC(userId));\r\n    }, [userId, dispatch]);\r\n\r\n\r\n    return (\r\n        <div className={s.editProfileWrapper}>\r\n            <div className={s.content}><h3>Edit profile</h3>\r\n                <p>Contacts: </p>\r\n                <Formik enableReinitialize={true}\r\n                        initialValues={{\r\n                            userId: userId,\r\n                            lookingForAJob: profile.lookingForAJob,\r\n                            lookingForAJobDescription: profile.lookingForAJobDescription,\r\n                            fullName: profile.fullName,\r\n                            aboutMe: profile.aboutMe,\r\n                            contacts: {\r\n                                facebook: profile.contacts.facebook,\r\n                                website: profile.contacts.website,\r\n                                vk: profile.contacts.vk,\r\n                                twitter: profile.contacts.twitter,\r\n                                instagram: profile.contacts.instagram,\r\n                                youtube: profile.contacts.youtube,\r\n                                github: profile.contacts.github,\r\n                                mainLink: profile.contacts.mainLink,\r\n                            }\r\n\r\n                        }}\r\n\r\n                        onSubmit={\r\n                            values => {\r\n                                dispatch(updateProfileTC(values));\r\n                                navigate(`${PATH.PROFILE}/${userId}`);\r\n                            }\r\n                        }>\r\n\r\n                    {props => (\r\n                        <form onSubmit={props.handleSubmit}>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Github: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.github\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.github}\r\n                                           error={!!props.errors.contacts?.github}\r\n                                           helperText={props.errors.contacts?.github}\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Facebook: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.facebook\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.facebook}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>VK: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.vk\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.vk}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Instagram: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.instagram\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.instagram}\r\n\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Twitter: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.twitter\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.contacts.twitter}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>YouTube: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.youtube\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Your WebSite: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.website\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Main link: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"contacts.mainLink\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>About me: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           multiline={true}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"aboutMe\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.aboutMe}\r\n\r\n                                />\r\n\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Full name: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           size={\"small\"}\r\n                                           type=\"text\"\r\n                                           name={\"fullName\"}\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.fullName}\r\n\r\n                                />\r\n                            </div>\r\n                            <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n\r\n                                <FormControlLabel\r\n                                    labelPlacement={\"start\"}\r\n                                    className={s.contactText}\r\n                                    label={'Looking for a job:'}\r\n                                    name={\"lookingForAJob\"}\r\n                                    control={<Checkbox/>}\r\n                                    checked={props.values.lookingForAJob}\r\n                                    onChange={props.handleChange}\r\n                                />\r\n                            </div>\r\n                            <div className={s.formRow}>\r\n                                <p className={s.contactText}>Job description: </p>\r\n                                <TextField style={{background: \"#FFFFFF\", width: \"260px\"}}\r\n                                           multiline={true}\r\n                                           size={\"small\"}\r\n                                           name={\"lookingForAJobDescription\"}\r\n                                           type=\"text\"\r\n                                           onChange={props.handleChange}\r\n                                           onBlur={props.handleBlur}\r\n                                           value={props.values.lookingForAJobDescription}\r\n                                />\r\n                            </div>\r\n\r\n\r\n                            <div className={s.button}>\r\n                                <Button variant={'contained'} type={\"submit\"}>Submit\r\n                                    changes</Button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\n","export default __webpack_public_path__ + \"static/media/Logo.559316d0.svg\";","import React from 'react';\r\nimport styles from \"./Header.module.scss\"\r\nimport {NavLink, useNavigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logOutTC} from \"../../Redux/AuthReducer\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {isLoggedInSelector, userIDSelector} from \"../Common/Selectors/Selectors\";\r\nimport logo from \"./../../Images/Logo.svg\"\r\nimport {PATH} from \"../../App\";\r\nimport {myUserID} from \"../../constants\";\r\nimport RssFeedIcon from '@mui/icons-material/RssFeed';\r\nimport MessageIcon from '@mui/icons-material/Message';\r\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport {useAppSelector} from \"../../Redux/store\";\r\n\r\n\r\nexport function Navigation() {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const isLoggedIn = useSelector(isLoggedInSelector);\r\n    const logOutHandler = () => {\r\n        dispatch(logOutTC());\r\n        navigate(\"/login\")\r\n    }\r\n    const myLoginName = useAppSelector<string | null>(state => state.Auth.data.login);\r\n    const userID = useSelector(userIDSelector)\r\n    const navigateToMyMage = ()=>{\r\n        navigate(`/profile/${userID}`)\r\n    }\r\n    return (\r\n        <div className={styles.headerContent}>\r\n            <div className={styles.logo}><img src={logo} alt=\"logo\"/></div>\r\n            <nav className={styles.sideWrapper}>\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={`${PATH.PROFILE}/${myUserID}`}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <RssFeedIcon fontSize={'large'}/>\r\n                        <div>Feed</div>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={PATH.DIALOGS} className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <MessageIcon fontSize={'large'}/>\r\n                        <div>Messages</div>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={PATH.USERS}\r\n                             className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <PeopleAltIcon fontSize={'large'}/>\r\n                        <div>All Users</div>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={styles.NavItem}>\r\n                    <NavLink to={PATH.EDIT_PROFILE} className={({isActive}) => isActive ? `${styles.activeNavLink}` : `${styles.unActiveNavLink}`}>\r\n                        <SettingsIcon fontSize={'large'}/>\r\n                        <div>Edit Profile</div>\r\n                    </NavLink>\r\n                </div>\r\n\r\n            </nav>\r\n\r\n            <div className={styles.loginBlock}>\r\n\r\n                <div className={styles.jobStatus}>\r\n                    <div className={styles.userName} onClick={navigateToMyMage}>\r\n                        {myLoginName}\r\n                    </div>\r\n                </div>\r\n                {isLoggedIn &&\r\n                <Button variant={\"outlined\"} className={styles.login} onClick={logOutHandler}>\r\n                    Log out\r\n                </Button>}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport styles from \"./Header.module.scss\"\r\nimport {Navigation} from \"./Navigation\";\r\n\r\n\r\nexport function Header() {\r\n\r\n    return (\r\n        <header className={styles.headerWrapper}>\r\n            <Navigation/>\r\n        </header>\r\n\r\n    )\r\n}","import React from 'react';\r\nimport {Navigate, Outlet, useLocation} from \"react-router-dom\";\r\nimport {useAppSelector} from \"../Redux/store\";\r\nimport {isLoggedInSelector} from \"./Common/Selectors/Selectors\";\r\nimport {Header} from \"./Header/Header\";\r\n\r\nconst PrivateRoutes = () => {\r\n    const location = useLocation();\r\n\r\n    const isLoggedIn = useAppSelector<boolean>(isLoggedInSelector);\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Navigate\r\n                to={`/login?redirectTo=${encodeURIComponent(location.pathname)}`}\r\n                replace\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Outlet/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PrivateRoutes;","export default __webpack_public_path__ + \"static/media/astronaut.efda7730.svg\";","export default __webpack_public_path__ + \"static/media/earth.e0fbdf02.svg\";","export default __webpack_public_path__ + \"static/media/moon.5a77d87b.svg\";","export default __webpack_public_path__ + \"static/media/rocket.9c039dba.svg\";","export default __webpack_public_path__ + \"static/media/404Text.154db121.svg\";","import React from \"react\";\r\nimport styles from \"./Error404.module.scss\";\r\nimport {NavLink, } from \"react-router-dom\";\r\n\r\nimport astronaut from \"./../../Images/astronaut.svg\";\r\nimport earth from \"./../../Images/earth.svg\";\r\nimport moon from \"./../../Images/moon.svg\";\r\nimport rocket from \"./../../Images/rocket.svg\";\r\nimport errorText from \"./../../Images/404Text.svg\";\r\nimport {PATH} from \"../../App\";\r\n\r\nexport const Error404 = () => {\r\n\r\n    return (\r\n        <div className={styles.ErrorWrapper } >\r\n\r\n            <div className={styles.stars} >\r\n\r\n                <div className={styles.centralBody}>\r\n                    <img className={styles.image404} src={errorText} alt={\"img404\"}/>\r\n                    <NavLink to={`${PATH.HOME}`} className={styles.btnGoHome}>GO BACK HOME</NavLink>\r\n                </div>\r\n                <div className={styles.objects}>\r\n                    <img className={styles.objectRocket} src={rocket} alt={\"imgRocket\"}/>\r\n                    <div className={styles.earthMoon}>\r\n                        <img className={styles.objectEarth} src={earth} alt={\"imgEarth\"}/>\r\n                        <img className={styles.objectMoon} src={moon} alt={\"imgMoon\"}/>\r\n                    </div>\r\n                    <div className={styles.boxAstronaut}>\r\n                        <img className={styles.objectAstronaut} src={astronaut} alt={\"imgAstronaut\"}/>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.glowingStars}>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                    <div className={styles.star}/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React, {FC, useEffect} from 'react';\r\nimport './App.scss';\r\nimport {Route, Routes, Navigate} from \"react-router-dom\";\r\nimport {useAppSelector} from \"./Redux/store\";\r\nimport UsersContainerFC from './components/Users/UsersContainerFC';\r\nimport {ProfileContainerFC} from \"./components/Profile/ProfileContainerFC\";\r\nimport {EventsContainer} from \"./components/Events/EventsContainer\";\r\nimport PhotosContainer from \"./components/Photos/PhotosContainer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {initializeAppTC} from \"./Redux/AuthReducer\";\r\nimport {Login} from \"./components/Login/Login\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\nimport {isInitializedSelector} from \"./components/Common/Selectors/Selectors\";\r\nimport withSuspense from \"./components/HOC/withSuspense\";\r\nimport {RequestStatusType} from \"./Redux/AppReducer\";\r\nimport {ErrorSnackBar} from \"./components/ErrorSnackBar/ErrorSnackBar\";\r\nimport {EditProfile} from \"./components/EditProfile/EditProfile\";\r\nimport PrivateRoutes from \"./components/PrivateRoutes\";\r\nimport {Error404} from \"./components/Error404/Error404\";\r\n\r\n\r\n\r\nconst DialogContainerFC = React.lazy(() => import(\"./components/Dialogs/DialogContainerFC\"));\r\n\r\nexport const PATH = {\r\n    HOME: \"/\",\r\n    LOGIN: \"/login\",\r\n    PROFILE: \"/profile\",\r\n    USERS: \"/users\",\r\n    ERROR404: \"/404\",\r\n    ANY_ROUTE: \"*\",\r\n    DIALOGS: \"/dialogs\",\r\n    EVENTS: \"/events\",\r\n    PHOTOS: \"/photos\",\r\n    EDIT_PROFILE: \"/edit_profile\"\r\n}\r\n\r\n\r\nconst App: FC = () => {\r\n\r\n    const appStatus = useAppSelector<RequestStatusType>(state => state.App.status);\r\n    const dispatch = useDispatch();\r\n    const userID = useAppSelector(state => state.Auth.data.id)\r\n    const isInitialized = useAppSelector(isInitializedSelector);\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeAppTC());\r\n    }, [dispatch]);\r\n\r\n    if (!isInitialized) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={\"App\"}>\r\n            <main className={\"mainContent\"}>\r\n                {appStatus === 'loading' && <Preloader/>}\r\n                <Routes>\r\n                    <Route path={PATH.HOME} element={<Navigate to={`${PATH.PROFILE}/${userID}`}/>}/>\r\n                    <Route element={<PrivateRoutes />}>\r\n                        <Route path={`${PATH.PROFILE}/:userId`} element={<ProfileContainerFC/>}/>\r\n                        <Route path={PATH.DIALOGS} element={withSuspense(DialogContainerFC)({})}/>\r\n                        <Route path={PATH.USERS} element={<UsersContainerFC/>}/>\r\n                        <Route path={PATH.EDIT_PROFILE} element={<EditProfile/>}/>\r\n                    </Route>\r\n                    <Route path={PATH.LOGIN} element={<Login/>}/>\r\n                    <Route path={PATH.EVENTS} element={<EventsContainer/>}/>\r\n                    <Route path={PATH.PHOTOS} element={<PhotosContainer/>}/>\r\n                    <Route path={PATH.ANY_ROUTE} element={<Navigate to={PATH.ERROR404}/>}/>\r\n                    <Route path={`${PATH.ERROR404}`} element={<Error404/>}/>\r\n                </Routes>\r\n                <ErrorSnackBar/>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import './index.scss';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport App from \"./App\";\nimport {store} from \"./Redux/store\";\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n// @ts-ignore\nwindow.store = store\n\n    ReactDOM.render(\n            <Provider store={store}>\n                <HashRouter>\n                    <App/>\n                </HashRouter>\n            </Provider>,\n        document.getElementById('root')\n    );\n\n","import * as Yup from \"yup\";\r\n\r\nexport const freeUserId = 1079;\r\nexport const myUserID = 21748;\r\nexport const maxPictureSize = 10000000; //10MB\r\nconst webSiteRegular =  /((https?):\\/\\/)?(www.)?[a-z0-9]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/;\r\n\r\nexport const DisplayingErrorMessagesSchema = Yup.object().shape({\r\n    fullName: Yup.string()\r\n        .min(3, 'User name must be more than 3 symbols')\r\n        .max(50, 'User name must be less than 50 symbols')\r\n        .required('Required'),\r\n    aboutMe: Yup.string()\r\n        .min(3, 'User description text must be more than 3 symbols')\r\n        .max(300, 'User description text must be less than 300 symbols')\r\n        .required('Required'),\r\n    lookingForAJobDescription: Yup.string()\r\n        .min(3, 'Job description text must be more than 3 symbols')\r\n        .max(300, 'Job description text must be less than 300 symbols')\r\n        .required('Required'),\r\n    contacts: Yup.object().shape({\r\n        facebook: Yup.lazy(value => !value ? Yup.string() : Yup.string().matches(\r\n            /(?:https:\\/\\/)?(?:www\\.)?facebook\\.com\\/(?:(?:\\w)*#!\\/)?(?:pages\\/)?(?:[\\w]*\\/)*([\\w]*)/,\r\n            'Please enter correct url'\r\n        )),\r\n        website: Yup.string()\r\n            .min(0)\r\n            .nullable()\r\n            .matches(\r\n                webSiteRegular,\r\n                'Please enter correct url'\r\n            ),\r\n        vk: Yup.string()\r\n\r\n            .matches(\r\n                /(?:https:\\/\\/)?[-a-zA-Z0-9@:%_+.~#?&=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_+.~#?&=]*)?/gi,\r\n                'Please enter correct vk url'\r\n            ),\r\n        twitter: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /@([A-Za-z0-9_]{1,15})/,\r\n                'Please enter correct twitter url'\r\n            )\r\n            ,\r\n        instagram: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /(?:(?:http|https):\\/\\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)\\/(\\w+)/igm,\r\n                'Please enter correct instagram url'\r\n            )\r\n            ,\r\n        youtube: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /youtu(?:.*\\/v\\/|.*v\\|\\.be\\/)([A-Za-z0-9_-]{11})/,\r\n                'Please enter correct YouTube url'\r\n            )\r\n            ,\r\n        github: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .matches(\r\n                /(?:(?:http|https):\\/\\/)?(?:www.)?(?:github.com)\\/(\\w+)/igm,\r\n                'Please enter correct github url'\r\n            )\r\n            ,\r\n        mainLink: Yup.string()\r\n            .min(0)\r\n            .nullable(true)\r\n            .url(),\r\n\r\n    }),\r\n\r\n\r\n});","import {v1} from \"uuid\";\r\nimport {profileAPI} from \"../components/api\";\r\nimport {AppStoreType, AppThunkDispatch} from \"./store\";\r\nimport {setAppStatusAC} from \"./AppReducer\";\r\nimport {handleNetworkError, handleServerAppError, handleServerNetworkError} from \"../utils/error.utils\";\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    SET_PROFILE = \"PROFILE/SET-PROFILE\",\r\n    ADD_POST = \"PROFILE/ADD-POST\",\r\n    SAVE_MY_PROFILE_PHOTO = \"PROFILE/SAVE-MY-PROFILE_PHOTO\",\r\n    UPDATE_NEW_POST_TEXT = \"PROFILE/UPDATE-NEW-POST-TEXT\",\r\n    SET_SOME_USER_PROFILE = \"PROFILE/SET-SOME-USER-PROFILE\",\r\n    SET_STATUS = \"PROFILE/SET-STATUS\",\r\n    DELETE_POST = \"PROFILE/DELETE-POST\",\r\n\r\n}\r\n\r\nexport type ProfileActionsType =\r\n    ReturnType<typeof addPostActionAC>\r\n    | ReturnType<typeof updateNewPostTextAC>\r\n    | ReturnType<typeof setUserProfileAC>\r\n    | ReturnType<typeof savePhotoAC>\r\n    | ReturnType<typeof setStatusAC>\r\n    | ReturnType<typeof deletePostAC>\r\n\r\n\r\nexport type PostTextType = {\r\n    text: string\r\n}\r\nexport type ProfilePageType = {\r\n    postsData: Array<PostType>\r\n    profile: ProfileDataType\r\n    status: string\r\n}\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\nexport type UserProfileContactType = {\r\n    facebook: string\r\n    website: string\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n}\r\nexport type userProfilePhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileDataType = {\r\n    userId: number,\r\n    aboutMe?: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription?: string\r\n    fullName?: string\r\n    contacts: UserProfileContactType\r\n    photos?: userProfilePhotosType\r\n\r\n}\r\n\r\n//actions\r\nexport const addPostActionAC = (data: string) => ({type: ACTIONS_TYPE.ADD_POST, data} as const)\r\nexport const updateNewPostTextAC = (text: PostTextType) => ({type: ACTIONS_TYPE.UPDATE_NEW_POST_TEXT, text} as const)\r\nexport const setUserProfileAC = (profile: ProfileDataType) => ({\r\n    type: ACTIONS_TYPE.SET_SOME_USER_PROFILE,\r\n    profile\r\n} as const);\r\nexport const savePhotoAC = (photos: userProfilePhotosType) => ({\r\n    type: ACTIONS_TYPE.SAVE_MY_PROFILE_PHOTO,\r\n    photos\r\n} as const);\r\nexport const setStatusAC = (status: string) => ({type: ACTIONS_TYPE.SET_STATUS, status} as const);\r\nexport const deletePostAC = (id: string) => ({type: ACTIONS_TYPE.DELETE_POST, id} as const);\r\n\r\n\r\nconst initialState: ProfilePageType = {\r\n\r\n    postsData: [\r\n        {id: v1(), message: \"Do you have a job for me? What if I find it?\", likesCount: 0},\r\n        {id: v1(), message: \"I want to be a serious frontend developer.\", likesCount: 0},\r\n        {id: v1(), message: \"What is the good weather today,isn't it?\", likesCount: 0},\r\n    ],\r\n    status: \"\",\r\n\r\n    profile: {\r\n        userId: 0,\r\n        fullName: \"\",\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: \"\",\r\n        aboutMe: \"\",\r\n        contacts: {\r\n            facebook: \"\",\r\n            github: \"\",\r\n            instagram: \"\",\r\n            mainLink: \"\",\r\n            twitter: \"\",\r\n            vk: \"\",\r\n            website: \"\",\r\n            youtube: \"\",\r\n        },\r\n        photos:\r\n            {\r\n                small: \"\",\r\n                large: \"\",\r\n            }\r\n    }\r\n}\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileActionsType): ProfilePageType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.ADD_POST:\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, {id: v1(), message: action.data, likesCount: 0}]\r\n            };\r\n        case ACTIONS_TYPE.SET_SOME_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case ACTIONS_TYPE.SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case ACTIONS_TYPE.SAVE_MY_PROFILE_PHOTO:\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        case ACTIONS_TYPE.DELETE_POST:\r\n            return {...state, postsData: state.postsData.filter(post => post.id !== action.id)}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n//thunks\r\nexport const getProfileTC = (userId: number | null) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    let res = await profileAPI.getProfile(userId);\r\n    try {\r\n        dispatch(setUserProfileAC(res.data));\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n    } catch (error: any) {\r\n        handleNetworkError(error, dispatch);\r\n    }\r\n\r\n}\r\n\r\nexport const getUserStatusTC = (userId: number | null) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    let res = await profileAPI.getStatus(userId);\r\n    try {\r\n        if (res.status === 200) {\r\n            dispatch(setStatusAC(res.data));\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try get user status\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\nexport const updateUserStatusTC = (status: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    let res = await profileAPI.updateStatus(status)\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setStatusAC(status))\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try update user status\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const uploadAvatarTC = (photoFile: File) => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    const userId = getState().Auth.data.id;\r\n    let res = await profileAPI.uploadAvatar(photoFile)\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n            dispatch(await getProfileTC(userId))\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try upload avatar\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\nexport const updateProfileTC = (profile: ProfileDataType) => async (dispatch: AppThunkDispatch, getState: () => AppStoreType) => {\r\n\r\n    dispatch(setAppStatusAC(\"loading\"));\r\n    let res = await profileAPI.updateProfile(profile)\r\n    const userId = getState().Auth.data.id;\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(await getProfileTC(userId))\r\n            dispatch(setAppStatusAC(\"succeeded\"));\r\n        } else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try update profile\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {UsersPageType} from \"../Redux/UsersReducer\";\r\nimport {ProfileDataType} from \"../Redux/ProfileReducer\";\r\nimport {LoginParamsType} from \"../Redux/AuthReducer\";\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"c3728aab-6f62-411f-9e90-c03d8ff7b899\",\r\n    }\r\n})\r\nexport type AuthDataType = {\r\n    id:number,\r\n    email: string\r\n    login:string\r\n}\r\nexport type RespType<T = {}> = {\r\n    resultCode: 0\r\n    data: T\r\n    fieldsErrors: Array<string>\r\n    messages: Array<string>\r\n}\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<UsersPageType>(`users?page=${currentPage}&count=${pageSize}`);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userID: number | null) {\r\n        return instance.get<ProfileDataType>(`profile/${userID}`);\r\n    },\r\n    getStatus(userID: number | null) {\r\n        return instance.get<AxiosResponse<RespType>, any>(`profile/status/${userID}`);\r\n    },\r\n    updateStatus(status: string | null) {\r\n\r\n        return instance.put<AxiosResponse<RespType>,any>(`profile/status`, {status})\r\n    },\r\n    uploadAvatar(photoFile:File){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put<RespType<{photos:{small:\"\", large:\"\"}}>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    updateProfile(profile: ProfileDataType){\r\n        return instance.put<AxiosResponse<RespType>,any>(`profile`, {...profile})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<RespType<AuthDataType>>(`auth/me`);\r\n    },\r\n    follow(userID: string | undefined) {\r\n        return instance.post<RespType<AuthDataType>>(`follow/${userID}`);\r\n    },\r\n    unfollow(userID: string | undefined) {\r\n        return instance.delete<RespType<AuthDataType>>(`follow/${userID}`);\r\n    },\r\n    login(data: LoginParamsType){\r\n        return instance.post<RespType<AuthDataType>>(`auth/login`, data);\r\n    },\r\n    logout(){\r\n        return instance.delete<RespType>('/auth/login');\r\n    },\r\n    getFollowers(userID: string | undefined){\r\n        return instance.get(`follow/${userID}`)\r\n    }\r\n\r\n}\r\nexport const securityAPI = {\r\n    captcha(){\r\n        return instance.get<{url:string| null}>(`/security/get-captcha-url`)\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrapper\":\"ProfileInfo_profileInfoWrapper__iDoIF\",\"profilePhoto\":\"ProfileInfo_profilePhoto__3sygl\",\"avatarWrapper\":\"ProfileInfo_avatarWrapper__1II4U\",\"menu\":\"ProfileInfo_menu__4TXbA\",\"statusBlock\":\"ProfileInfo_statusBlock__12kNH\",\"profileName\":\"ProfileInfo_profileName__QENTj\",\"popover\":\"ProfileInfo_popover__3IVNF\",\"profileStatus\":\"ProfileInfo_profileStatus__P1vsw\",\"profileDescription\":\"ProfileInfo_profileDescription__4gsPq\",\"modalMainBox\":\"ProfileInfo_modalMainBox__3RTcD\",\"avatarBlock\":\"ProfileInfo_avatarBlock__3CI4t\",\"avatarImg\":\"ProfileInfo_avatarImg__3-stZ\",\"iconUpload\":\"ProfileInfo_iconUpload__aSS_N\"};","import {authAPI, AuthDataType, securityAPI} from \"../components/api\";\r\nimport {AppThunkDispatch} from \"./store\";\r\nimport {myUserID} from \"../constants\";\r\nimport {handleNetworkError, handleServerAppError, handleServerNetworkError} from \"../utils/error.utils\";\r\nimport {setAppStatusAC} from \"./AppReducer\";\r\n\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    SET_IS_LOGGED_IN = \"AUTH/SET-IS-LOGGED-IN\",\r\n    SET_IS_INITIALIZED = \"AUTH/SET-IS-INITIALIZED\",\r\n    SET_AUTH_PROFILE_DATA = \"AUTH/SET-AUTH-PROFILE-DATA\",\r\n    GET_CAPTCHA = \"AUTH/GET-CAPTCHA\"\r\n}\r\n\r\nexport type AuthActionsType =\r\n    ReturnType<typeof setIsLoggedInAC>\r\n    | ReturnType<typeof setInitializedAC>\r\n    | ReturnType<typeof setAuthProfileAC>\r\n    | ReturnType<typeof getCaptchaAC>\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string | null\r\n}\r\n\r\ntype InitialStateType = {\r\n    data: AuthDataType,\r\n    isInitialized: boolean\r\n    isLoggedIn: boolean,\r\n    captchaUrl: null | string\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    data: {\r\n        id: myUserID,\r\n        email: \"\",\r\n        login: \"\",\r\n\r\n    },\r\n    isInitialized: false,\r\n    isLoggedIn: false,\r\n    captchaUrl: null\r\n}\r\n\r\n//reducer\r\nexport const authReducer = (state: InitialStateType = initialState, action: AuthActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n\r\n        case ACTIONS_TYPE.SET_IS_LOGGED_IN:\r\n            return {...state, isLoggedIn: action.isLoggedIn}\r\n        case ACTIONS_TYPE.SET_IS_INITIALIZED:\r\n            return {...state, isInitialized: action.isInitialized}\r\n        case ACTIONS_TYPE.SET_AUTH_PROFILE_DATA:\r\n            return {...state, data: action.data}\r\n        case ACTIONS_TYPE.GET_CAPTCHA:\r\n            return {...state, captchaUrl: action.captcha}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//action creators\r\nexport const setIsLoggedInAC = (isLoggedIn: boolean) =>\r\n    ({type: ACTIONS_TYPE.SET_IS_LOGGED_IN, isLoggedIn} as const);\r\n\r\nexport const setInitializedAC = (isInitialized: boolean) =>\r\n    ({type: ACTIONS_TYPE.SET_IS_INITIALIZED, isInitialized} as const);\r\n\r\nexport const setAuthProfileAC = (profileData: AuthDataType) =>\r\n    ({type: ACTIONS_TYPE.SET_AUTH_PROFILE_DATA, data: profileData} as const);\r\nexport const getCaptchaAC = (captcha : string| null) =>\r\n    ({type: ACTIONS_TYPE.GET_CAPTCHA, captcha} as const);\r\n\r\n\r\n\r\n//thunks\r\nexport const initializeAppTC = () => async (dispatch: AppThunkDispatch) => {\r\n\r\n    let res = await authAPI.me();\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setIsLoggedInAC(true));\r\n            dispatch(setAuthProfileAC(res.data.data));\r\n        }\r\n        else {\r\n            dispatch(setAppStatusAC(\"failed\"));\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try initialize app\", error)\r\n        handleNetworkError(error, dispatch);\r\n    } finally {\r\n        dispatch(setInitializedAC(true));\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const loginTC = (data: LoginParamsType) => async (dispatch: AppThunkDispatch) => {\r\n\r\n    let res = await authAPI.login(data);\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setIsLoggedInAC(true));\r\n            dispatch(getCaptchaAC(null))\r\n            dispatch( await initializeAppTC())\r\n        } else {\r\n            if(res.data.resultCode === 10){\r\n                dispatch(await getCaptchaTC())\r\n            }\r\n                handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try to login\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n\r\n}\r\nexport const logOutTC = () => async (dispatch: AppThunkDispatch) => {\r\n    let res = await authAPI.logout();\r\n    try {\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setIsLoggedInAC(false));\r\n        }\r\n        else {\r\n            handleServerAppError(res.data, dispatch);\r\n        }\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try to logout\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const getCaptchaTC = () => async (dispatch: AppThunkDispatch) => {\r\n    let res = await securityAPI.captcha();\r\n    try{\r\n\r\n        dispatch(getCaptchaAC(res.data.url))\r\n    }\r\n    catch (error: any) {\r\n        console.log(\"Error when you try to logout\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"users_usersWrapper__2NhZI\",\"usersBlock\":\"users_usersBlock__30vL-\",\"avatarAndFollowButton\":\"users_avatarAndFollowButton__3flk2\",\"avatar\":\"users_avatar__3IP3J\",\"nameAndStatus\":\"users_nameAndStatus__nYsqe\",\"status\":\"users_status__2gbbh\",\"name\":\"users_name__3sX1D\"};","import {authAPI, userAPI} from \"../components/api\";\r\nimport {handleNetworkError, handleServerNetworkError} from \"../utils/error.utils\";\r\nimport {AppThunkDispatch} from \"./store\";\r\nimport {setAppErrorAC, setAppStatusAC} from \"./AppReducer\";\r\n\r\n//types\r\nexport enum ACTIONS_TYPE {\r\n    FOLLOW = \"USERS/FOLLOW\",\r\n    UNFOLLOW = \"USERS/UNFOLLOW\",\r\n    SET_USERS = \"USERS/SET-USERS\",\r\n    SET_CURRENT_PAGE = \"USERS/SET-CURRENT-PAGE\",\r\n    SET_TOTAL_USERS_COUNT = \"USERS/SET-TOTAL-USERS-COUNT\",\r\n    IS_FETCHING = \"USERS/IS-FETCHING\",\r\n    IS_FOLLOWING_PROGRESS = \"USERS/IS-FOLLOWING-PROGRESS\"\r\n}\r\n\r\nexport type UsersActionsType =\r\n    ReturnType<typeof followSuccessAC> |\r\n    ReturnType<typeof unFollowSuccessAC> |\r\n    ReturnType<typeof setUsersAC> |\r\n    ReturnType<typeof setCurrentPageAC> |\r\n    ReturnType<typeof setUsersTotalCountAC> |\r\n    ReturnType<typeof toggleIsFetchingAC>|\r\n    ReturnType < typeof toggleFollowingProgressAC>\r\n\r\n\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type UserType = {\r\n    id: string,\r\n    name: string\r\n    status: string\r\n    followed: boolean\r\n    photos: PhotosType\r\n}\r\nexport type UsersPageType = {\r\n    items: UserType[]\r\n    pageSize: number\r\n    totalCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    following: Array<string>\r\n}\r\n\r\n\r\nconst initialState: UsersPageType = {\r\n    items: [],\r\n    pageSize: 7,\r\n    totalCount: 1,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    following: [],\r\n}\r\nexport const userReducer = (state: UsersPageType = initialState, action: UsersActionsType): UsersPageType => {\r\n    switch (action.type) {\r\n        case ACTIONS_TYPE.FOLLOW:\r\n            return {...state, items: state.items.map(u => u.id === action.userID ? {...u, followed: true} : u)}\r\n        case ACTIONS_TYPE.UNFOLLOW:\r\n            return {...state, items: state.items.map(u => u.id === action.userID ? {...u, followed: false} : u)}\r\n        case ACTIONS_TYPE.SET_USERS:\r\n            return {...state, items: action.users}\r\n        case ACTIONS_TYPE.SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case ACTIONS_TYPE.SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalCount: action.totalCount}\r\n        case ACTIONS_TYPE.IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case ACTIONS_TYPE.IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                following: action.followingIsProgress\r\n                    ? [...state.following, action.userID]\r\n                    : state.following.filter(id => id !== action.userID)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const followSuccessAC = (userID: string) => ({type: ACTIONS_TYPE.FOLLOW, userID: userID} as const)\r\nexport const unFollowSuccessAC = (userID: string) => ({type: ACTIONS_TYPE.UNFOLLOW, userID: userID} as const)\r\nexport const setUsersAC = (users: UserType[]) => ({type: ACTIONS_TYPE.SET_USERS, users: users} as const)\r\nexport const setCurrentPageAC = (currentPage: number) => ({\r\n    type: ACTIONS_TYPE.SET_CURRENT_PAGE,\r\n    currentPage: currentPage,\r\n} as const)\r\nexport const setUsersTotalCountAC = (serverTotalUsersCount: number) => ({\r\n    type: ACTIONS_TYPE.SET_TOTAL_USERS_COUNT,\r\n    totalCount: serverTotalUsersCount\r\n} as const)\r\nexport const toggleIsFetchingAC = (isFetching: boolean) => ({\r\n    type: ACTIONS_TYPE.IS_FETCHING,\r\n    isFetching: isFetching,\r\n} as const)\r\nexport const toggleFollowingProgressAC = (followingIsProgress: boolean, userID: string) => ({\r\n    type: ACTIONS_TYPE.IS_FOLLOWING_PROGRESS,\r\n    followingIsProgress: followingIsProgress,\r\n    userID: userID,\r\n} as const)\r\n\r\n//thunks\r\nexport const getUsersTC = (currentPage: number, pageSize: number) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    let res = await userAPI.getUsers(currentPage, pageSize)\r\n    try {\r\n        dispatch(toggleIsFetchingAC(false));\r\n        dispatch(setUsersAC(res.data.items));\r\n        dispatch(setUsersTotalCountAC(res.data.totalCount));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try get users\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n}\r\n\r\nexport const onPageChangedTC = (pageSize: number, pageNumber: number) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleIsFetchingAC(true));\r\n    dispatch(setCurrentPageAC(pageNumber));\r\n    let res = await userAPI.getUsers(pageNumber, pageSize)\r\n    try {\r\n        dispatch(setUsersAC(res.data.items));\r\n        dispatch(setUsersTotalCountAC(res.data.totalCount));\r\n        dispatch(toggleIsFetchingAC(false));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try change page\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const follow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleFollowingProgressAC(true, userID));\r\n\r\n    let response = await authAPI.follow(userID)\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(followSuccessAC(userID));\r\n        } else{\r\n            dispatch(setAppErrorAC(\"Some error occupied\"));\r\n            dispatch(setAppStatusAC(\"failed\"));\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userID));\r\n    } catch (error: any) {\r\n        console.log(\"Error when you try follow user\", error)\r\n        handleServerNetworkError(error, dispatch)\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const unfollow = (userID: string) => async (dispatch: AppThunkDispatch) => {\r\n    dispatch(toggleFollowingProgressAC(true, userID));\r\n    let response = await authAPI.unfollow(userID);\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(unFollowSuccessAC(userID));\r\n        }\r\n        dispatch(toggleFollowingProgressAC(false, userID));\r\n    } catch (error: any) {\r\n        handleNetworkError(error, dispatch);\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/defaultUserImage.ed37b80a.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__by2mZ\",\"editableDiv\":\"Profile_editableDiv__GFY9u\",\"input\":\"Profile_input__1jMdf\"};","export const placeholderText = {\r\n    profileAreaText: \"What's new with you?\",\r\n    dialogsAreaText: \"Type a message\"\r\n}\r\nexport const maxMessageLength:number = 500;"],"sourceRoot":""}